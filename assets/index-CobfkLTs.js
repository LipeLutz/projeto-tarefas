(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function H1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ff={exports:{}},ml={},jf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function K1(){if(Bv)return ke;Bv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function x(B,Y,me){this.props=B,this.context=Y,this.refs=M,this.updater=me||S}x.prototype.isReactComponent={},x.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=x.prototype;function j(B,Y,me){this.props=B,this.context=Y,this.refs=M,this.updater=me||S}var q=j.prototype=new U;q.constructor=j,k(q,x.prototype),q.isPureReactComponent=!0;var ne=Array.isArray,Z=Object.prototype.hasOwnProperty,se={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(B,Y,me){var Pe,Re={},Le=null,je=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(Le=""+Y.key),Y)Z.call(Y,Pe)&&!D.hasOwnProperty(Pe)&&(Re[Pe]=Y[Pe]);var Ue=arguments.length-2;if(Ue===1)Re.children=me;else if(1<Ue){for(var We=Array(Ue),St=0;St<Ue;St++)We[St]=arguments[St+2];Re.children=We}if(B&&B.defaultProps)for(Pe in Ue=B.defaultProps,Ue)Re[Pe]===void 0&&(Re[Pe]=Ue[Pe]);return{$$typeof:n,type:B,key:Le,ref:je,props:Re,_owner:se.current}}function P(B,Y){return{$$typeof:n,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function F(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return Y[me]})}var z=/\/+/g;function N(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Y.toString(36)}function Qe(B,Y,me,Pe,Re){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var je=!1;if(B===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(B.$$typeof){case n:case e:je=!0}}if(je)return je=B,Re=Re(je),B=Pe===""?"."+N(je,0):Pe,ne(Re)?(me="",B!=null&&(me=B.replace(z,"$&/")+"/"),Qe(Re,Y,me,"",function(St){return St})):Re!=null&&(V(Re)&&(Re=P(Re,me+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+B)),Y.push(Re)),1;if(je=0,Pe=Pe===""?".":Pe+":",ne(B))for(var Ue=0;Ue<B.length;Ue++){Le=B[Ue];var We=Pe+N(Le,Ue);je+=Qe(Le,Y,me,We,Re)}else if(We=E(B),typeof We=="function")for(B=We.call(B),Ue=0;!(Le=B.next()).done;)Le=Le.value,We=Pe+N(Le,Ue++),je+=Qe(Le,Y,me,We,Re);else if(Le==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function kt(B,Y,me){if(B==null)return B;var Pe=[],Re=0;return Qe(B,Pe,"","",function(Le){return Y.call(me,Le,Re++)}),Pe}function xt(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var Ce={current:null},ie={transition:null},pe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ie,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:kt,forEach:function(B,Y,me){kt(B,function(){Y.apply(this,arguments)},me)},count:function(B){var Y=0;return kt(B,function(){Y++}),Y},toArray:function(B){return kt(B,function(Y){return Y})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ke.Component=x,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=j,ke.StrictMode=r,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ke.act=ae,ke.cloneElement=function(B,Y,me){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Pe=k({},B.props),Re=B.key,Le=B.ref,je=B._owner;if(Y!=null){if(Y.ref!==void 0&&(Le=Y.ref,je=se.current),Y.key!==void 0&&(Re=""+Y.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(We in Y)Z.call(Y,We)&&!D.hasOwnProperty(We)&&(Pe[We]=Y[We]===void 0&&Ue!==void 0?Ue[We]:Y[We])}var We=arguments.length-2;if(We===1)Pe.children=me;else if(1<We){Ue=Array(We);for(var St=0;St<We;St++)Ue[St]=arguments[St+2];Pe.children=Ue}return{$$typeof:n,type:B.type,key:Re,ref:Le,props:Pe,_owner:je}},ke.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},ke.createElement=C,ke.createFactory=function(B){var Y=C.bind(null,B);return Y.type=B,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(B){return{$$typeof:h,render:B}},ke.isValidElement=V,ke.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:xt}},ke.memo=function(B,Y){return{$$typeof:p,type:B,compare:Y===void 0?null:Y}},ke.startTransition=function(B){var Y=ie.transition;ie.transition={};try{B()}finally{ie.transition=Y}},ke.unstable_act=ae,ke.useCallback=function(B,Y){return Ce.current.useCallback(B,Y)},ke.useContext=function(B){return Ce.current.useContext(B)},ke.useDebugValue=function(){},ke.useDeferredValue=function(B){return Ce.current.useDeferredValue(B)},ke.useEffect=function(B,Y){return Ce.current.useEffect(B,Y)},ke.useId=function(){return Ce.current.useId()},ke.useImperativeHandle=function(B,Y,me){return Ce.current.useImperativeHandle(B,Y,me)},ke.useInsertionEffect=function(B,Y){return Ce.current.useInsertionEffect(B,Y)},ke.useLayoutEffect=function(B,Y){return Ce.current.useLayoutEffect(B,Y)},ke.useMemo=function(B,Y){return Ce.current.useMemo(B,Y)},ke.useReducer=function(B,Y,me){return Ce.current.useReducer(B,Y,me)},ke.useRef=function(B){return Ce.current.useRef(B)},ke.useState=function(B){return Ce.current.useState(B)},ke.useSyncExternalStore=function(B,Y,me){return Ce.current.useSyncExternalStore(B,Y,me)},ke.useTransition=function(){return Ce.current.useTransition()},ke.version="18.3.1",ke}var zv;function am(){return zv||(zv=1,jf.exports=K1()),jf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function G1(){if($v)return ml;$v=1;var n=am(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,w={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:S,props:w,_owner:s.current}}return ml.Fragment=t,ml.jsx=u,ml.jsxs=u,ml}var Wv;function Q1(){return Wv||(Wv=1,Ff.exports=G1()),Ff.exports}var A=Q1(),Nc={},Uf={exports:{}},ln={},Bf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Y1(){return qv||(qv=1,function(n){function e(ie,pe){var ae=ie.length;ie.push(pe);e:for(;0<ae;){var B=ae-1>>>1,Y=ie[B];if(0<s(Y,pe))ie[B]=pe,ie[ae]=Y,ae=B;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var pe=ie[0],ae=ie.pop();if(ae!==pe){ie[0]=ae;e:for(var B=0,Y=ie.length,me=Y>>>1;B<me;){var Pe=2*(B+1)-1,Re=ie[Pe],Le=Pe+1,je=ie[Le];if(0>s(Re,ae))Le<Y&&0>s(je,Re)?(ie[B]=je,ie[Le]=ae,B=Le):(ie[B]=Re,ie[Pe]=ae,B=Pe);else if(Le<Y&&0>s(je,ae))ie[B]=je,ie[Le]=ae,B=Le;else break e}}return pe}function s(ie,pe){var ae=ie.sortIndex-pe.sortIndex;return ae!==0?ae:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,w=null,E=3,S=!1,k=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=ie)r(p),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(p)}}function ne(ie){if(M=!1,q(ie),!k)if(t(f)!==null)k=!0,xt(Z);else{var pe=t(p);pe!==null&&Ce(ne,pe.startTime-ie)}}function Z(ie,pe){k=!1,M&&(M=!1,U(C),C=-1),S=!0;var ae=E;try{for(q(pe),w=t(f);w!==null&&(!(w.expirationTime>pe)||ie&&!F());){var B=w.callback;if(typeof B=="function"){w.callback=null,E=w.priorityLevel;var Y=B(w.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&r(f),q(pe)}else r(f);w=t(f)}if(w!==null)var me=!0;else{var Pe=t(p);Pe!==null&&Ce(ne,Pe.startTime-pe),me=!1}return me}finally{w=null,E=ae,S=!1}}var se=!1,D=null,C=-1,P=5,V=-1;function F(){return!(n.unstable_now()-V<P)}function z(){if(D!==null){var ie=n.unstable_now();V=ie;var pe=!0;try{pe=D(!0,ie)}finally{pe?N():(se=!1,D=null)}}else se=!1}var N;if(typeof j=="function")N=function(){j(z)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,kt=Qe.port2;Qe.port1.onmessage=z,N=function(){kt.postMessage(null)}}else N=function(){x(z,0)};function xt(ie){D=ie,se||(se=!0,N())}function Ce(ie,pe){C=x(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,xt(Z))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ae=E;E=pe;try{return ie()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=E;E=ie;try{return pe()}finally{E=ae}},n.unstable_scheduleCallback=function(ie,pe,ae){var B=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:g++,callback:pe,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>B?(ie.sortIndex=ae,e(p,ie),t(f)===null&&ie===t(p)&&(M?(U(C),C=-1):M=!0,Ce(ne,ae-B))):(ie.sortIndex=Y,e(f,ie),k||S||(k=!0,xt(Z))),ie},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ie){var pe=E;return function(){var ae=E;E=pe;try{return ie.apply(this,arguments)}finally{E=ae}}}}(zf)),zf}var Hv;function X1(){return Hv||(Hv=1,Bf.exports=Y1()),Bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function J1(){if(Kv)return ln;Kv=1;var n=am(),e=X1();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function E(i){return f.call(w,i)?!0:f.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function S(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,l,d){if(o===null||typeof o>"u"||S(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(i,o,l,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new M(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];x[o]=new M(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new M(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new M(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new M(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new M(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new M(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new M(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new M(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,j);x[o]=new M(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,j);x[o]=new M(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,j);x[o]=new M(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new M(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new M(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,l,d){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),se=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,B;function Y(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var me=!1;function Pe(i,o){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,R=v.length-1;1<=T&&0<=R&&m[T]!==v[R];)R--;for(;1<=T&&0<=R;T--,R--)if(m[T]!==v[R]){if(T!==1||R!==1)do if(T--,R--,0>R||m[T]!==v[R]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Re(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case se:return"Portal";case P:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case Qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case kt:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case xt:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Sr(i){i._valueTracker||(i._valueTracker=St(i))}function qs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xi(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hs(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ea(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function Ta(i,o){Ea(i,o);var l=Ue(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ks(i,o.type,l):o.hasOwnProperty("defaultValue")&&Ks(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function gu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ks(i,o,l){(o!=="number"||ni(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ir=Array.isArray;function Cr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Sa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Gs(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ir(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ue(l)}}function Qs(i,o){var l=Ue(o.value),d=Ue(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function Ia(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ar,Ca=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ri(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(i){Zi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ji[o]=Ji[i]})});function Aa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Ji.hasOwnProperty(i)&&Ji[i]?(""+o).trim():o+"px"}function Pa(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Aa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Ra=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(i,o){if(o){if(Ra[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function xa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function Ys(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,En=null,Zn=null;function Js(i){if(i=el(i)){if(typeof Xs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Hu(o),Xs(i.stateNode,i.type,o))}}function er(i){En?Zn?Zn.push(i):Zn=[i]:En=i}function Na(){if(En){var i=En,o=Zn;if(Zn=En=null,Js(i),o)for(i=0;i<o.length;i++)Js(o[i])}}function ts(i,o){return i(o)}function Da(){}var Pr=!1;function Va(i,o,l){if(Pr)return i(o,l);Pr=!0;try{return ts(i,o,l)}finally{Pr=!1,(En!==null||Zn!==null)&&(Da(),Na())}}function at(i,o){var l=i.stateNode;if(l===null)return null;var d=Hu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Zs=!1;if(h)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Zs=!1}function ns(i,o,l,d,m,v,T,R,L){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(J){this.onError(J)}}var rs=!1,eo=null,bn=!1,La=null,hd={onError:function(i){rs=!0,eo=i}};function to(i,o,l,d,m,v,T,R,L){rs=!1,eo=null,ns.apply(hd,arguments)}function yu(i,o,l,d,m,v,T,R,L){if(to.apply(this,arguments),rs){if(rs){var K=eo;rs=!1,eo=null}else throw Error(t(198));bn||(bn=!0,La=K)}}function On(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function is(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Fn(i){if(On(i)!==i)throw Error(t(188))}function vu(i){var o=i.alternate;if(!o){if(o=On(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Fn(m),i;if(v===d)return Fn(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var T=!1,R=m.child;R;){if(R===l){T=!0,l=m,d=v;break}if(R===d){T=!0,d=m,l=v;break}R=R.sibling}if(!T){for(R=v.child;R;){if(R===l){T=!0,l=v,d=m;break}if(R===d){T=!0,d=v,l=m;break}R=R.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ma(i){return i=vu(i),i!==null?no(i):null}function no(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=no(i);if(o!==null)return o;i=i.sibling}return null}var ro=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,_u=e.unstable_shouldYield,dd=e.unstable_requestPaint,qe=e.unstable_now,wu=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,Eu=e.unstable_IdlePriority,os=null,dn=null;function Tu(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(os,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Iu,Fa=Math.log,Su=Math.LN2;function Iu(i){return i>>>=0,i===0?32:31-(Fa(i)/Su|0)|0}var io=64,so=4194304;function si(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function as(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var R=T&~m;R!==0?d=si(R):(v&=T,v!==0&&(d=si(v)))}else T=l&~m,T!==0?d=si(T):v!==0&&(d=si(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Qt(o),m=1<<l,d|=i[l],o&=~m;return d}function fd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-Qt(v),R=1<<T,L=m[T];L===-1?(!(R&l)||R&d)&&(m[T]=fd(R,o)):L<=o&&(i.expiredLanes|=R),v&=~R}}function fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ls(){var i=io;return io<<=1,!(io&4194240)&&(io=64),i}function oi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ai(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Qt(o),i[o]=l}function $e(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Qt(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function li(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Qt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var De=0;function ui(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Cu,oo,Au,Pu,Ru,ja=!1,tr=[],Nt=null,jn=null,Un=null,ci=new Map,Sn=new Map,nr=[],pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(i,o){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ci.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(o.pointerId)}}function en(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=el(o),o!==null&&oo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function md(i,o,l,d,m){switch(o){case"focusin":return Nt=en(Nt,i,o,l,d,m),!0;case"dragenter":return jn=en(jn,i,o,l,d,m),!0;case"mouseover":return Un=en(Un,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return ci.set(v,en(ci.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Sn.set(v,en(Sn.get(v)||null,i,o,l,d,m)),!0}return!1}function xu(i){var o=fs(i.target);if(o!==null){var l=On(o);if(l!==null){if(o=l.tag,o===13){if(o=is(l),o!==null){i.blockedOn=o,Ru(i.priority,function(){Au(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=ao(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);es=d,l.target.dispatchEvent(d),es=null}else return o=el(l),o!==null&&oo(o),i.blockedOn=l,!1;o.shift()}return!0}function us(i,o,l){kr(i)&&l.delete(o)}function Nu(){ja=!1,Nt!==null&&kr(Nt)&&(Nt=null),jn!==null&&kr(jn)&&(jn=null),Un!==null&&kr(Un)&&(Un=null),ci.forEach(us),Sn.forEach(us)}function Bn(i,o){i.blockedOn===o&&(i.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nu)))}function zn(i){function o(m){return Bn(m,i)}if(0<tr.length){Bn(tr[0],i);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Nt!==null&&Bn(Nt,i),jn!==null&&Bn(jn,i),Un!==null&&Bn(Un,i),ci.forEach(o),Sn.forEach(o),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)xu(l),l.blockedOn===null&&nr.shift()}var xr=ne.ReactCurrentBatchConfig,hi=!0;function Ye(i,o,l,d){var m=De,v=xr.transition;xr.transition=null;try{De=1,Ua(i,o,l,d)}finally{De=m,xr.transition=v}}function gd(i,o,l,d){var m=De,v=xr.transition;xr.transition=null;try{De=4,Ua(i,o,l,d)}finally{De=m,xr.transition=v}}function Ua(i,o,l,d){if(hi){var m=ao(i,o,l,d);if(m===null)Pd(i,o,d,cs,l),ku(i,d);else if(md(m,i,o,l,d))d.stopPropagation();else if(ku(i,d),o&4&&-1<pd.indexOf(i)){for(;m!==null;){var v=el(m);if(v!==null&&Cu(v),v=ao(i,o,l,d),v===null&&Pd(i,o,d,cs,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else Pd(i,o,d,null,l)}}var cs=null;function ao(i,o,l,d){if(cs=null,i=Ys(d),i=fs(i),i!==null)if(o=On(i),o===null)i=null;else if(l=o.tag,l===13){if(i=is(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return cs=i,null}function Ba(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wu()){case ss:return 1;case ii:return 4;case Tn:case Oa:return 16;case Eu:return 536870912;default:return 16}default:return 16}}var pn=null,lo=null,tn=null;function za(){if(tn)return tn;var i,o=lo,l=o.length,d,m="value"in pn?pn.value:pn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[v-d];d++);return tn=m.slice(i,1<d?1-d:void 0)}function uo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function rr(){return!0}function $a(){return!1}function Dt(i){function o(l,d,m,v,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rr:$a,this.isPropagationStopped=$a,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),o}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Dt($n),ir=ae({},$n,{view:0,detail:0}),yd=Dt(ir),ho,Nr,di,hs=ae({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(ho=i.screenX-di.screenX,Nr=i.screenY-di.screenY):Nr=ho=0,di=i),ho)},movementY:function(i){return"movementY"in i?i.movementY:Nr}}),fo=Dt(hs),Wa=ae({},hs,{dataTransfer:0}),Du=Dt(Wa),po=ae({},ir,{relatedTarget:0}),mo=Dt(po),Vu=ae({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Dt(Vu),Lu=ae({},$n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mu=Dt(Lu),bu=ae({},$n,{data:0}),qa=Dt(bu),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ou[i])?!!o[i]:!1}function sr(){return Fu}var c=ae({},ir,{key:function(i){if(i.key){var o=go[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(i){return i.type==="keypress"?uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Dt(c),_=ae({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Dt(_),$=ae({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),G=Dt($),oe=ae({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Dt(oe),gt=ae({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Dt(gt),It=[9,13,27,32],ht=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var mn=h&&"TextEvent"in window&&!In,ds=h&&(!ht||In&&8<In&&11>=In),yo=" ",Mg=!1;function bg(i,o){switch(i){case"keyup":return It.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function WI(i,o){switch(i){case"compositionend":return Og(o);case"keypress":return o.which!==32?null:(Mg=!0,yo);case"textInput":return i=o.data,i===yo&&Mg?null:i;default:return null}}function qI(i,o){if(vo)return i==="compositionend"||!ht&&bg(i,o)?(i=za(),tn=lo=pn=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ds&&o.locale!=="ko"?null:o.data;default:return null}}var HI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HI[i.type]:o==="textarea"}function jg(i,o,l,d){er(d),o=$u(o,"onChange"),0<o.length&&(l=new co("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ha=null,Ka=null;function KI(i){ry(i,0)}function ju(i){var o=So(i);if(qs(o))return i}function GI(i,o){if(i==="change")return o}var Ug=!1;if(h){var vd;if(h){var _d="oninput"in document;if(!_d){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),_d=typeof Bg.oninput=="function"}vd=_d}else vd=!1;Ug=vd&&(!document.documentMode||9<document.documentMode)}function zg(){Ha&&(Ha.detachEvent("onpropertychange",$g),Ka=Ha=null)}function $g(i){if(i.propertyName==="value"&&ju(Ka)){var o=[];jg(o,Ka,i,Ys(i)),Va(KI,o)}}function QI(i,o,l){i==="focusin"?(zg(),Ha=o,Ka=l,Ha.attachEvent("onpropertychange",$g)):i==="focusout"&&zg()}function YI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ju(Ka)}function XI(i,o){if(i==="click")return ju(o)}function JI(i,o){if(i==="input"||i==="change")return ju(o)}function ZI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wn=typeof Object.is=="function"?Object.is:ZI;function Ga(i,o){if(Wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Wn(i[m],o[m]))return!1}return!0}function Wg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qg(i,o){var l=Wg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wg(l)}}function Hg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Hg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kg(){for(var i=window,o=ni();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ni(i.document)}return o}function wd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function e1(i){var o=Kg(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Hg(l.ownerDocument.documentElement,l)){if(d!==null&&wd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=qg(l,v);var T=qg(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var t1=h&&"documentMode"in document&&11>=document.documentMode,_o=null,Ed=null,Qa=null,Td=!1;function Gg(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Td||_o==null||_o!==ni(d)||(d=_o,"selectionStart"in d&&wd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qa&&Ga(Qa,d)||(Qa=d,d=$u(Ed,"onSelect"),0<d.length&&(o=new co("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=_o)))}function Uu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var wo={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},Sd={},Qg={};h&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Bu(i){if(Sd[i])return Sd[i];if(!wo[i])return i;var o=wo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Qg)return Sd[i]=o[l];return i}var Yg=Bu("animationend"),Xg=Bu("animationiteration"),Jg=Bu("animationstart"),Zg=Bu("transitionend"),ey=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(i,o){ey.set(i,o),a(o,[i])}for(var Id=0;Id<ty.length;Id++){var Cd=ty[Id],n1=Cd.toLowerCase(),r1=Cd[0].toUpperCase()+Cd.slice(1);fi(n1,"on"+r1)}fi(Yg,"onAnimationEnd"),fi(Xg,"onAnimationIteration"),fi(Jg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Zg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function ny(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,yu(d,o,void 0,i),i.currentTarget=null}function ry(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var R=d[T],L=R.instance,K=R.currentTarget;if(R=R.listener,L!==v&&m.isPropagationStopped())break e;ny(m,R,K),v=L}else for(T=0;T<d.length;T++){if(R=d[T],L=R.instance,K=R.currentTarget,R=R.listener,L!==v&&m.isPropagationStopped())break e;ny(m,R,K),v=L}}}if(bn)throw i=La,bn=!1,La=null,i}function Ke(i,o){var l=o[Vd];l===void 0&&(l=o[Vd]=new Set);var d=i+"__bubble";l.has(d)||(iy(o,i,2,!1),l.add(d))}function Ad(i,o,l){var d=0;o&&(d|=4),iy(l,i,d,o)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Xa(i){if(!i[zu]){i[zu]=!0,r.forEach(function(l){l!=="selectionchange"&&(i1.has(l)||Ad(l,!1,i),Ad(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[zu]||(o[zu]=!0,Ad("selectionchange",!1,o))}}function iy(i,o,l,d){switch(Ba(o)){case 1:var m=Ye;break;case 4:m=gd;break;default:m=Ua}l=m.bind(null,o,l,i),m=void 0,!Zs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Pd(i,o,l,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;R!==null;){if(T=fs(R),T===null)return;if(L=T.tag,L===5||L===6){d=v=T;continue e}R=R.parentNode}}d=d.return}Va(function(){var K=v,J=Ys(l),te=[];e:{var X=ey.get(i);if(X!==void 0){var le=co,he=i;switch(i){case"keypress":if(uo(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":he="focus",le=mo;break;case"focusout":he="blur",le=mo;break;case"beforeblur":case"afterblur":le=mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case Yg:case Xg:case Jg:le=Dr;break;case Zg:le=ze;break;case"scroll":le=yd;break;case"wheel":le=Me;break;case"copy":case"cut":case"paste":le=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var de=(o&4)!==0,lt=!de&&i==="scroll",W=de?X!==null?X+"Capture":null:X;de=[];for(var O=K,H;O!==null;){H=O;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,W!==null&&(re=at(O,W),re!=null&&de.push(Ja(O,re,H)))),lt)break;O=O.return}0<de.length&&(X=new le(X,he,null,l,J),te.push({event:X,listeners:de}))}}if(!(o&7)){e:{if(X=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",X&&l!==es&&(he=l.relatedTarget||l.fromElement)&&(fs(he)||he[Vr]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=K,he=he?fs(he):null,he!==null&&(lt=On(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=K),le!==he)){if(de=fo,re="onMouseLeave",W="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(de=I,re="onPointerLeave",W="onPointerEnter",O="pointer"),lt=le==null?X:So(le),H=he==null?X:So(he),X=new de(re,O+"leave",le,l,J),X.target=lt,X.relatedTarget=H,re=null,fs(J)===K&&(de=new de(W,O+"enter",he,l,J),de.target=H,de.relatedTarget=lt,re=de),lt=re,le&&he)t:{for(de=le,W=he,O=0,H=de;H;H=Eo(H))O++;for(H=0,re=W;re;re=Eo(re))H++;for(;0<O-H;)de=Eo(de),O--;for(;0<H-O;)W=Eo(W),H--;for(;O--;){if(de===W||W!==null&&de===W.alternate)break t;de=Eo(de),W=Eo(W)}de=null}else de=null;le!==null&&sy(te,X,le,de,!1),he!==null&&lt!==null&&sy(te,lt,he,de,!0)}}e:{if(X=K?So(K):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var fe=GI;else if(Fg(X))if(Ug)fe=JI;else{fe=YI;var ye=QI}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=XI);if(fe&&(fe=fe(i,K))){jg(te,fe,l,J);break e}ye&&ye(i,X,K),i==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Ks(X,"number",X.value)}switch(ye=K?So(K):window,i){case"focusin":(Fg(ye)||ye.contentEditable==="true")&&(_o=ye,Ed=K,Qa=null);break;case"focusout":Qa=Ed=_o=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Gg(te,l,J);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Gg(te,l,J)}var ve;if(ht)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else vo?bg(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(ds&&l.locale!=="ko"&&(vo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&vo&&(ve=za()):(pn=J,lo="value"in pn?pn.value:pn.textContent,vo=!0)),ye=$u(K,Te),0<ye.length&&(Te=new qa(Te,i,null,l,J),te.push({event:Te,listeners:ye}),ve?Te.data=ve:(ve=Og(l),ve!==null&&(Te.data=ve)))),(ve=mn?WI(i,l):qI(i,l))&&(K=$u(K,"onBeforeInput"),0<K.length&&(J=new qa("onBeforeInput","beforeinput",null,l,J),te.push({event:J,listeners:K}),J.data=ve))}ry(te,o)})}function Ja(i,o,l){return{instance:i,listener:o,currentTarget:l}}function $u(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=at(i,l),v!=null&&d.unshift(Ja(i,v,m)),v=at(i,o),v!=null&&d.push(Ja(i,v,m))),i=i.return}return d}function Eo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sy(i,o,l,d,m){for(var v=o._reactName,T=[];l!==null&&l!==d;){var R=l,L=R.alternate,K=R.stateNode;if(L!==null&&L===d)break;R.tag===5&&K!==null&&(R=K,m?(L=at(l,v),L!=null&&T.unshift(Ja(l,L,R))):m||(L=at(l,v),L!=null&&T.push(Ja(l,L,R)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var s1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function oy(i){return(typeof i=="string"?i:""+i).replace(s1,`
`).replace(o1,"")}function Wu(i,o,l){if(o=oy(o),oy(i)!==o&&l)throw Error(t(425))}function qu(){}var Rd=null,kd=null;function xd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(i){return ay.resolve(null).then(i).catch(u1)}:Nd;function u1(i){setTimeout(function(){throw i})}function Dd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),zn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);zn(o)}function pi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ly(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var To=Math.random().toString(36).slice(2),or="__reactFiber$"+To,Za="__reactProps$"+To,Vr="__reactContainer$"+To,Vd="__reactEvents$"+To,c1="__reactListeners$"+To,h1="__reactHandles$"+To;function fs(i){var o=i[or];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Vr]||l[or]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ly(i);i!==null;){if(l=i[or])return l;i=ly(i)}return o}i=l,l=i.parentNode}return null}function el(i){return i=i[or]||i[Vr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function So(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Hu(i){return i[Za]||null}var Ld=[],Io=-1;function mi(i){return{current:i}}function Ge(i){0>Io||(i.current=Ld[Io],Ld[Io]=null,Io--)}function He(i,o){Io++,Ld[Io]=i.current,i.current=o}var gi={},jt=mi(gi),nn=mi(!1),ps=gi;function Co(i,o){var l=i.type.contextTypes;if(!l)return gi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function rn(i){return i=i.childContextTypes,i!=null}function Ku(){Ge(nn),Ge(jt)}function uy(i,o,l){if(jt.current!==gi)throw Error(t(168));He(jt,o),He(nn,l)}function cy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,je(i)||"Unknown",m));return ae({},l,d)}function Gu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gi,ps=jt.current,He(jt,i),He(nn,nn.current),!0}function hy(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=cy(i,o,ps),d.__reactInternalMemoizedMergedChildContext=i,Ge(nn),Ge(jt),He(jt,i)):Ge(nn),He(nn,l)}var Lr=null,Qu=!1,Md=!1;function dy(i){Lr===null?Lr=[i]:Lr.push(i)}function d1(i){Qu=!0,dy(i)}function yi(){if(!Md&&Lr!==null){Md=!0;var i=0,o=De;try{var l=Lr;for(De=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Lr=null,Qu=!1}catch(m){throw Lr!==null&&(Lr=Lr.slice(i+1)),ro(ss,yi),m}finally{De=o,Md=!1}}return null}var Ao=[],Po=0,Yu=null,Xu=0,Cn=[],An=0,ms=null,Mr=1,br="";function gs(i,o){Ao[Po++]=Xu,Ao[Po++]=Yu,Yu=i,Xu=o}function fy(i,o,l){Cn[An++]=Mr,Cn[An++]=br,Cn[An++]=ms,ms=i;var d=Mr;i=br;var m=32-Qt(d)-1;d&=~(1<<m),l+=1;var v=32-Qt(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Mr=1<<32-Qt(o)+m|l<<m|d,br=v+i}else Mr=1<<v|l<<m|d,br=i}function bd(i){i.return!==null&&(gs(i,1),fy(i,1,0))}function Od(i){for(;i===Yu;)Yu=Ao[--Po],Ao[Po]=null,Xu=Ao[--Po],Ao[Po]=null;for(;i===ms;)ms=Cn[--An],Cn[An]=null,br=Cn[--An],Cn[An]=null,Mr=Cn[--An],Cn[An]=null}var gn=null,yn=null,Xe=!1,qn=null;function py(i,o){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function my(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=pi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ms!==null?{id:Mr,overflow:br}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Fd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jd(i){if(Xe){var o=yn;if(o){var l=o;if(!my(i,o)){if(Fd(i))throw Error(t(418));o=pi(l.nextSibling);var d=gn;o&&my(i,o)?py(d,l):(i.flags=i.flags&-4097|2,Xe=!1,gn=i)}}else{if(Fd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Xe=!1,gn=i}}}function gy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function Ju(i){if(i!==gn)return!1;if(!Xe)return gy(i),Xe=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!xd(i.type,i.memoizedProps)),o&&(o=yn)){if(Fd(i))throw yy(),Error(t(418));for(;o;)py(i,o),o=pi(o.nextSibling)}if(gy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=pi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?pi(i.stateNode.nextSibling):null;return!0}function yy(){for(var i=yn;i;)i=pi(i.nextSibling)}function Ro(){yn=gn=null,Xe=!1}function Ud(i){qn===null?qn=[i]:qn.push(i)}var f1=ne.ReactCurrentBatchConfig;function tl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var R=m.refs;T===null?delete R[v]:R[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Zu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function vy(i){var o=i._init;return o(i._payload)}function _y(i){function o(W,O){if(i){var H=W.deletions;H===null?(W.deletions=[O],W.flags|=16):H.push(O)}}function l(W,O){if(!i)return null;for(;O!==null;)o(W,O),O=O.sibling;return null}function d(W,O){for(W=new Map;O!==null;)O.key!==null?W.set(O.key,O):W.set(O.index,O),O=O.sibling;return W}function m(W,O){return W=Ci(W,O),W.index=0,W.sibling=null,W}function v(W,O,H){return W.index=H,i?(H=W.alternate,H!==null?(H=H.index,H<O?(W.flags|=2,O):H):(W.flags|=2,O)):(W.flags|=1048576,O)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function R(W,O,H,re){return O===null||O.tag!==6?(O=Df(H,W.mode,re),O.return=W,O):(O=m(O,H),O.return=W,O)}function L(W,O,H,re){var fe=H.type;return fe===D?J(W,O,H.props.children,re,H.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===xt&&vy(fe)===O.type)?(re=m(O,H.props),re.ref=tl(W,O,H),re.return=W,re):(re=Sc(H.type,H.key,H.props,null,W.mode,re),re.ref=tl(W,O,H),re.return=W,re)}function K(W,O,H,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Vf(H,W.mode,re),O.return=W,O):(O=m(O,H.children||[]),O.return=W,O)}function J(W,O,H,re,fe){return O===null||O.tag!==7?(O=Is(H,W.mode,re,fe),O.return=W,O):(O=m(O,H),O.return=W,O)}function te(W,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Df(""+O,W.mode,H),O.return=W,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Z:return H=Sc(O.type,O.key,O.props,null,W.mode,H),H.ref=tl(W,null,O),H.return=W,H;case se:return O=Vf(O,W.mode,H),O.return=W,O;case xt:var re=O._init;return te(W,re(O._payload),H)}if(Ir(O)||pe(O))return O=Is(O,W.mode,H,null),O.return=W,O;Zu(W,O)}return null}function X(W,O,H,re){var fe=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return fe!==null?null:R(W,O,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:return H.key===fe?L(W,O,H,re):null;case se:return H.key===fe?K(W,O,H,re):null;case xt:return fe=H._init,X(W,O,fe(H._payload),re)}if(Ir(H)||pe(H))return fe!==null?null:J(W,O,H,re,null);Zu(W,H)}return null}function le(W,O,H,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return W=W.get(H)||null,R(O,W,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Z:return W=W.get(re.key===null?H:re.key)||null,L(O,W,re,fe);case se:return W=W.get(re.key===null?H:re.key)||null,K(O,W,re,fe);case xt:var ye=re._init;return le(W,O,H,ye(re._payload),fe)}if(Ir(re)||pe(re))return W=W.get(H)||null,J(O,W,re,fe,null);Zu(O,re)}return null}function he(W,O,H,re){for(var fe=null,ye=null,ve=O,Te=O=0,Pt=null;ve!==null&&Te<H.length;Te++){ve.index>Te?(Pt=ve,ve=null):Pt=ve.sibling;var Fe=X(W,ve,H[Te],re);if(Fe===null){ve===null&&(ve=Pt);break}i&&ve&&Fe.alternate===null&&o(W,ve),O=v(Fe,O,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=Pt}if(Te===H.length)return l(W,ve),Xe&&gs(W,Te),fe;if(ve===null){for(;Te<H.length;Te++)ve=te(W,H[Te],re),ve!==null&&(O=v(ve,O,Te),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Xe&&gs(W,Te),fe}for(ve=d(W,ve);Te<H.length;Te++)Pt=le(ve,W,Te,H[Te],re),Pt!==null&&(i&&Pt.alternate!==null&&ve.delete(Pt.key===null?Te:Pt.key),O=v(Pt,O,Te),ye===null?fe=Pt:ye.sibling=Pt,ye=Pt);return i&&ve.forEach(function(Ai){return o(W,Ai)}),Xe&&gs(W,Te),fe}function de(W,O,H,re){var fe=pe(H);if(typeof fe!="function")throw Error(t(150));if(H=fe.call(H),H==null)throw Error(t(151));for(var ye=fe=null,ve=O,Te=O=0,Pt=null,Fe=H.next();ve!==null&&!Fe.done;Te++,Fe=H.next()){ve.index>Te?(Pt=ve,ve=null):Pt=ve.sibling;var Ai=X(W,ve,Fe.value,re);if(Ai===null){ve===null&&(ve=Pt);break}i&&ve&&Ai.alternate===null&&o(W,ve),O=v(Ai,O,Te),ye===null?fe=Ai:ye.sibling=Ai,ye=Ai,ve=Pt}if(Fe.done)return l(W,ve),Xe&&gs(W,Te),fe;if(ve===null){for(;!Fe.done;Te++,Fe=H.next())Fe=te(W,Fe.value,re),Fe!==null&&(O=v(Fe,O,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return Xe&&gs(W,Te),fe}for(ve=d(W,ve);!Fe.done;Te++,Fe=H.next())Fe=le(ve,W,Te,Fe.value,re),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Te:Fe.key),O=v(Fe,O,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return i&&ve.forEach(function(q1){return o(W,q1)}),Xe&&gs(W,Te),fe}function lt(W,O,H,re){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:e:{for(var fe=H.key,ye=O;ye!==null;){if(ye.key===fe){if(fe=H.type,fe===D){if(ye.tag===7){l(W,ye.sibling),O=m(ye,H.props.children),O.return=W,W=O;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===xt&&vy(fe)===ye.type){l(W,ye.sibling),O=m(ye,H.props),O.ref=tl(W,ye,H),O.return=W,W=O;break e}l(W,ye);break}else o(W,ye);ye=ye.sibling}H.type===D?(O=Is(H.props.children,W.mode,re,H.key),O.return=W,W=O):(re=Sc(H.type,H.key,H.props,null,W.mode,re),re.ref=tl(W,O,H),re.return=W,W=re)}return T(W);case se:e:{for(ye=H.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){l(W,O.sibling),O=m(O,H.children||[]),O.return=W,W=O;break e}else{l(W,O);break}else o(W,O);O=O.sibling}O=Vf(H,W.mode,re),O.return=W,W=O}return T(W);case xt:return ye=H._init,lt(W,O,ye(H._payload),re)}if(Ir(H))return he(W,O,H,re);if(pe(H))return de(W,O,H,re);Zu(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(l(W,O.sibling),O=m(O,H),O.return=W,W=O):(l(W,O),O=Df(H,W.mode,re),O.return=W,W=O),T(W)):l(W,O)}return lt}var ko=_y(!0),wy=_y(!1),ec=mi(null),tc=null,xo=null,Bd=null;function zd(){Bd=xo=tc=null}function $d(i){var o=ec.current;Ge(ec),i._currentValue=o}function Wd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function No(i,o){tc=i,Bd=xo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(sn=!0),i.firstContext=null)}function Pn(i){var o=i._currentValue;if(Bd!==i)if(i={context:i,memoizedValue:o,next:null},xo===null){if(tc===null)throw Error(t(308));xo=i,tc.dependencies={lanes:0,firstContext:i}}else xo=xo.next=i;return o}var ys=null;function qd(i){ys===null?ys=[i]:ys.push(i)}function Ey(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,qd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Or(i,d)}function Or(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function Hd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ty(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Fr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function _i(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Oe&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Or(i,l)}return m=d.interleaved,m===null?(o.next=o,qd(d)):(o.next=m.next,m.next=o),d.interleaved=o,Or(i,l)}function nc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,li(i,l)}}function Sy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function rc(i,o,l,d){var m=i.updateQueue;vi=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,K=L.next;L.next=null,T===null?v=K:T.next=K,T=L;var J=i.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==T&&(R===null?J.firstBaseUpdate=K:R.next=K,J.lastBaseUpdate=L))}if(v!==null){var te=m.baseState;T=0,J=K=L=null,R=v;do{var X=R.lane,le=R.eventTime;if((d&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=i,de=R;switch(X=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(le,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,X=typeof he=="function"?he.call(le,te,X):he,X==null)break e;te=ae({},te,X);break e;case 2:vi=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,X=m.effects,X===null?m.effects=[R]:X.push(R))}else le={eventTime:le,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(K=J=le,L=te):J=J.next=le,T|=X;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;X=R,R=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(J===null&&(L=te),m.baseState=L,m.firstBaseUpdate=K,m.lastBaseUpdate=J,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ws|=T,i.lanes=T,i.memoizedState=te}}function Iy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var nl={},ar=mi(nl),rl=mi(nl),il=mi(nl);function vs(i){if(i===nl)throw Error(t(174));return i}function Kd(i,o){switch(He(il,o),He(rl,i),He(ar,nl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Ge(ar),He(ar,o)}function Do(){Ge(ar),Ge(rl),Ge(il)}function Cy(i){vs(il.current);var o=vs(ar.current),l=mt(o,i.type);o!==l&&(He(rl,i),He(ar,l))}function Gd(i){rl.current===i&&(Ge(ar),Ge(rl))}var Ze=mi(0);function ic(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qd=[];function Yd(){for(var i=0;i<Qd.length;i++)Qd[i]._workInProgressVersionPrimary=null;Qd.length=0}var sc=ne.ReactCurrentDispatcher,Xd=ne.ReactCurrentBatchConfig,_s=0,et=null,yt=null,Ct=null,oc=!1,sl=!1,ol=0,p1=0;function Ut(){throw Error(t(321))}function Jd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Wn(i[l],o[l]))return!1;return!0}function Zd(i,o,l,d,m,v){if(_s=v,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,sc.current=i===null||i.memoizedState===null?v1:_1,i=l(d,m),sl){v=0;do{if(sl=!1,ol=0,25<=v)throw Error(t(301));v+=1,Ct=yt=null,o.updateQueue=null,sc.current=w1,i=l(d,m)}while(sl)}if(sc.current=uc,o=yt!==null&&yt.next!==null,_s=0,Ct=yt=et=null,oc=!1,o)throw Error(t(300));return i}function ef(){var i=ol!==0;return ol=0,i}function lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?et.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Rn(){if(yt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var o=Ct===null?et.memoizedState:Ct.next;if(o!==null)Ct=o,yt=i;else{if(i===null)throw Error(t(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ct===null?et.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function al(i,o){return typeof o=="function"?o(i):o}function tf(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=yt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var R=T=null,L=null,K=v;do{var J=K.lane;if((_s&J)===J)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var te={lane:J,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(R=L=te,T=d):L=L.next=te,et.lanes|=J,ws|=J}K=K.next}while(K!==null&&K!==v);L===null?T=d:L.next=R,Wn(d,o.memoizedState)||(sn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,et.lanes|=v,ws|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function nf(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Wn(v,o.memoizedState)||(sn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Ay(){}function Py(i,o){var l=et,d=Rn(),m=o(),v=!Wn(d.memoizedState,m);if(v&&(d.memoizedState=m,sn=!0),d=d.queue,rf(xy.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ll(9,ky.bind(null,l,d,m,o),void 0,null),At===null)throw Error(t(349));_s&30||Ry(l,o,m)}return m}function Ry(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=et.updateQueue,o===null?(o={lastEffect:null,stores:null},et.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ky(i,o,l,d){o.value=l,o.getSnapshot=d,Ny(o)&&Dy(i)}function xy(i,o,l){return l(function(){Ny(o)&&Dy(i)})}function Ny(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Wn(i,l)}catch{return!0}}function Dy(i){var o=Or(i,1);o!==null&&Qn(o,i,1,-1)}function Vy(i){var o=lr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:i},o.queue=i,i=i.dispatch=y1.bind(null,et,i),[o.memoizedState,i]}function ll(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=et.updateQueue,o===null?(o={lastEffect:null,stores:null},et.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Ly(){return Rn().memoizedState}function ac(i,o,l,d){var m=lr();et.flags|=i,m.memoizedState=ll(1|o,l,void 0,d===void 0?null:d)}function lc(i,o,l,d){var m=Rn();d=d===void 0?null:d;var v=void 0;if(yt!==null){var T=yt.memoizedState;if(v=T.destroy,d!==null&&Jd(d,T.deps)){m.memoizedState=ll(o,l,v,d);return}}et.flags|=i,m.memoizedState=ll(1|o,l,v,d)}function My(i,o){return ac(8390656,8,i,o)}function rf(i,o){return lc(2048,8,i,o)}function by(i,o){return lc(4,2,i,o)}function Oy(i,o){return lc(4,4,i,o)}function Fy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function jy(i,o,l){return l=l!=null?l.concat([i]):null,lc(4,4,Fy.bind(null,o,i),l)}function sf(){}function Uy(i,o){var l=Rn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Jd(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function By(i,o){var l=Rn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Jd(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function zy(i,o,l){return _s&21?(Wn(l,o)||(l=ls(),et.lanes|=l,ws|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l)}function m1(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var d=Xd.transition;Xd.transition={};try{i(!1),o()}finally{De=l,Xd.transition=d}}function $y(){return Rn().memoizedState}function g1(i,o,l){var d=Si(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Wy(i))qy(o,l);else if(l=Ey(i,o,l,d),l!==null){var m=Jt();Qn(l,i,d,m),Hy(l,o,d)}}function y1(i,o,l){var d=Si(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wy(i))qy(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,R=v(T,l);if(m.hasEagerState=!0,m.eagerState=R,Wn(R,T)){var L=o.interleaved;L===null?(m.next=m,qd(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}l=Ey(i,o,m,d),l!==null&&(m=Jt(),Qn(l,i,d,m),Hy(l,o,d))}}function Wy(i){var o=i.alternate;return i===et||o!==null&&o===et}function qy(i,o){sl=oc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Hy(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,li(i,l)}}var uc={readContext:Pn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},v1={readContext:Pn,useCallback:function(i,o){return lr().memoizedState=[i,o===void 0?null:o],i},useContext:Pn,useEffect:My,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,ac(4194308,4,Fy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return ac(4194308,4,i,o)},useInsertionEffect:function(i,o){return ac(4,2,i,o)},useMemo:function(i,o){var l=lr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=lr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=g1.bind(null,et,i),[d.memoizedState,i]},useRef:function(i){var o=lr();return i={current:i},o.memoizedState=i},useState:Vy,useDebugValue:sf,useDeferredValue:function(i){return lr().memoizedState=i},useTransition:function(){var i=Vy(!1),o=i[0];return i=m1.bind(null,i[1]),lr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=et,m=lr();if(Xe){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),At===null)throw Error(t(349));_s&30||Ry(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,My(xy.bind(null,d,v,i),[i]),d.flags|=2048,ll(9,ky.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=lr(),o=At.identifierPrefix;if(Xe){var l=br,d=Mr;l=(d&~(1<<32-Qt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=ol++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=p1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},_1={readContext:Pn,useCallback:Uy,useContext:Pn,useEffect:rf,useImperativeHandle:jy,useInsertionEffect:by,useLayoutEffect:Oy,useMemo:By,useReducer:tf,useRef:Ly,useState:function(){return tf(al)},useDebugValue:sf,useDeferredValue:function(i){var o=Rn();return zy(o,yt.memoizedState,i)},useTransition:function(){var i=tf(al)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Ay,useSyncExternalStore:Py,useId:$y,unstable_isNewReconciler:!1},w1={readContext:Pn,useCallback:Uy,useContext:Pn,useEffect:rf,useImperativeHandle:jy,useInsertionEffect:by,useLayoutEffect:Oy,useMemo:By,useReducer:nf,useRef:Ly,useState:function(){return nf(al)},useDebugValue:sf,useDeferredValue:function(i){var o=Rn();return yt===null?o.memoizedState=i:zy(o,yt.memoizedState,i)},useTransition:function(){var i=nf(al)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Ay,useSyncExternalStore:Py,useId:$y,unstable_isNewReconciler:!1};function Hn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function of(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var cc={isMounted:function(i){return(i=i._reactInternals)?On(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Jt(),m=Si(i),v=Fr(d,m);v.payload=o,l!=null&&(v.callback=l),o=_i(i,v,m),o!==null&&(Qn(o,i,m,d),nc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Jt(),m=Si(i),v=Fr(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=_i(i,v,m),o!==null&&(Qn(o,i,m,d),nc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Jt(),d=Si(i),m=Fr(l,d);m.tag=2,o!=null&&(m.callback=o),o=_i(i,m,d),o!==null&&(Qn(o,i,d,l),nc(o,i,d))}};function Ky(i,o,l,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!Ga(l,d)||!Ga(m,v):!0}function Gy(i,o,l){var d=!1,m=gi,v=o.contextType;return typeof v=="object"&&v!==null?v=Pn(v):(m=rn(o)?ps:jt.current,d=o.contextTypes,v=(d=d!=null)?Co(i,m):gi),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Qy(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&cc.enqueueReplaceState(o,o.state,null)}function af(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Hd(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Pn(v):(v=rn(o)?ps:jt.current,m.context=Co(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(of(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&cc.enqueueReplaceState(m,m.state,null),rc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Vo(i,o){try{var l="",d=o;do l+=Re(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function lf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function uf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function Yy(i,o,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){yc||(yc=!0,If=d),uf(i,o)},l}function Xy(i,o,l){l=Fr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){uf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){uf(i,o),typeof d!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Jy(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new E1;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=M1.bind(null,i,o,l),o.then(i,i))}function Zy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ev(i,o,l,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Fr(-1,1),o.tag=2,_i(l,o,1))),l.lanes|=1),i)}var T1=ne.ReactCurrentOwner,sn=!1;function Xt(i,o,l,d){o.child=i===null?wy(o,null,l,d):ko(o,i.child,l,d)}function tv(i,o,l,d,m){l=l.render;var v=o.ref;return No(o,m),d=Zd(i,o,l,d,v,m),l=ef(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,jr(i,o,m)):(Xe&&l&&bd(o),o.flags|=1,Xt(i,o,d,m),o.child)}function nv(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!Nf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,rv(i,o,v,d,m)):(i=Sc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(T,d)&&i.ref===o.ref)return jr(i,o,m)}return o.flags|=1,i=Ci(v,d),i.ref=o.ref,i.return=o,o.child=i}function rv(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if(Ga(v,d)&&i.ref===o.ref)if(sn=!1,o.pendingProps=d=v,(i.lanes&m)!==0)i.flags&131072&&(sn=!0);else return o.lanes=i.lanes,jr(i,o,m)}return cf(i,o,l,d,m)}function iv(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Mo,vn),vn|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,He(Mo,vn),vn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,He(Mo,vn),vn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,He(Mo,vn),vn|=d;return Xt(i,o,m,l),o.child}function sv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function cf(i,o,l,d,m){var v=rn(l)?ps:jt.current;return v=Co(o,v),No(o,m),l=Zd(i,o,l,d,v,m),d=ef(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,jr(i,o,m)):(Xe&&d&&bd(o),o.flags|=1,Xt(i,o,l,m),o.child)}function ov(i,o,l,d,m){if(rn(l)){var v=!0;Gu(o)}else v=!1;if(No(o,m),o.stateNode===null)dc(i,o),Gy(o,l,d),af(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var L=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Pn(K):(K=rn(l)?ps:jt.current,K=Co(o,K));var J=l.getDerivedStateFromProps,te=typeof J=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==d||L!==K)&&Qy(o,T,d,K),vi=!1;var X=o.memoizedState;T.state=X,rc(o,d,T,m),L=o.memoizedState,R!==d||X!==L||nn.current||vi?(typeof J=="function"&&(of(o,l,J,d),L=o.memoizedState),(R=vi||Ky(o,l,R,d,X,L,K))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=K,d=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Ty(i,o),R=o.memoizedProps,K=o.type===o.elementType?R:Hn(o.type,R),T.props=K,te=o.pendingProps,X=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=Pn(L):(L=rn(l)?ps:jt.current,L=Co(o,L));var le=l.getDerivedStateFromProps;(J=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==te||X!==L)&&Qy(o,T,d,L),vi=!1,X=o.memoizedState,T.state=X,rc(o,d,T,m);var he=o.memoizedState;R!==te||X!==he||nn.current||vi?(typeof le=="function"&&(of(o,l,le,d),he=o.memoizedState),(K=vi||Ky(o,l,K,d,X,he,L)||!1)?(J||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),T.props=d,T.state=he,T.context=L,d=K):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),d=!1)}return hf(i,o,l,d,v,m)}function hf(i,o,l,d,m,v){sv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&hy(o,l,!1),jr(i,o,v);d=o.stateNode,T1.current=o;var R=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=ko(o,i.child,null,v),o.child=ko(o,null,R,v)):Xt(i,o,R,v),o.memoizedState=d.state,m&&hy(o,l,!0),o.child}function av(i){var o=i.stateNode;o.pendingContext?uy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&uy(i,o.context,!1),Kd(i,o.containerInfo)}function lv(i,o,l,d,m){return Ro(),Ud(m),o.flags|=256,Xt(i,o,l,d),o.child}var df={dehydrated:null,treeContext:null,retryLane:0};function ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function uv(i,o,l){var d=o.pendingProps,m=Ze.current,v=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),He(Ze,m&1),i===null)return jd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Ic(T,d,0,null),i=Is(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=ff(l),o.memoizedState=df,i):pf(o,T));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return S1(i,o,T,d,R,m,l);if(v){v=d.fallback,T=o.mode,m=i.child,R=m.sibling;var L={mode:"hidden",children:d.children};return!(T&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=Ci(m,L),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?v=Ci(R,v):(v=Is(v,T,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?ff(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,o.memoizedState=df,d}return v=i.child,i=v.sibling,d=Ci(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function pf(i,o){return o=Ic({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function hc(i,o,l,d){return d!==null&&Ud(d),ko(o,i.child,null,l),i=pf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function S1(i,o,l,d,m,v,T){if(l)return o.flags&256?(o.flags&=-257,d=lf(Error(t(422))),hc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Ic({mode:"visible",children:d.children},m,0,null),v=Is(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&ko(o,i.child,null,T),o.child.memoizedState=ff(T),o.memoizedState=df,v);if(!(o.mode&1))return hc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,v=Error(t(419)),d=lf(v,d,void 0),hc(i,o,T,d)}if(R=(T&i.childLanes)!==0,sn||R){if(d=At,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Or(i,m),Qn(d,i,m,-1))}return xf(),d=lf(Error(t(421))),hc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=b1.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,yn=pi(m.nextSibling),gn=o,Xe=!0,qn=null,i!==null&&(Cn[An++]=Mr,Cn[An++]=br,Cn[An++]=ms,Mr=i.id,br=i.overflow,ms=o),o=pf(o,d.children),o.flags|=4096,o)}function cv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Wd(i.return,o,l)}function mf(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function hv(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Xt(i,o,d.children,l),d=Ze.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cv(i,l,o);else if(i.tag===19)cv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(He(Ze,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&ic(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),mf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&ic(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}mf(o,!0,l,null,v);break;case"together":mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function dc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function jr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ws|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ci(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ci(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function I1(i,o,l){switch(o.tag){case 3:av(o),Ro();break;case 5:Cy(o);break;case 1:rn(o.type)&&Gu(o);break;case 4:Kd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;He(ec,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(He(Ze,Ze.current&1),o.flags|=128,null):l&o.child.childLanes?uv(i,o,l):(He(Ze,Ze.current&1),i=jr(i,o,l),i!==null?i.sibling:null);He(Ze,Ze.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return hv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),He(Ze,Ze.current),d)break;return null;case 22:case 23:return o.lanes=0,iv(i,o,l)}return jr(i,o,l)}var dv,gf,fv,pv;dv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gf=function(){},fv=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,vs(ar.current);var v=null;switch(l){case"input":m=Xi(i,m),d=Xi(i,d),v=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":m=Sa(i,m),d=Sa(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=qu)}ka(l,d);var T;l=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var R=m[K];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var L=d[K];if(R=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&L!==R&&(L!=null||R!=null))if(K==="style")if(R){for(T in R)!R.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&R[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(v||(v=[]),v.push(K,l)),l=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(v=v||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&Ke("scroll",i),v||R===L||(v=[])):(v=v||[]).push(K,L))}l&&(v=v||[]).push("style",l);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},pv=function(i,o,l,d){l!==d&&(o.flags|=4)};function ul(i,o){if(!Xe)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Bt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function C1(i,o,l){var d=o.pendingProps;switch(Od(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return rn(o.type)&&Ku(),Bt(o),null;case 3:return d=o.stateNode,Do(),Ge(nn),Ge(jt),Yd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ju(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qn!==null&&(Pf(qn),qn=null))),gf(i,o),Bt(o),null;case 5:Gd(o);var m=vs(il.current);if(l=o.type,i!==null&&o.stateNode!=null)fv(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Bt(o),null}if(i=vs(ar.current),Ju(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[or]=o,d[Za]=v,i=(o.mode&1)!==0,l){case"dialog":Ke("cancel",d),Ke("close",d);break;case"iframe":case"object":case"embed":Ke("load",d);break;case"video":case"audio":for(m=0;m<Ya.length;m++)Ke(Ya[m],d);break;case"source":Ke("error",d);break;case"img":case"image":case"link":Ke("error",d),Ke("load",d);break;case"details":Ke("toggle",d);break;case"input":Hs(d,v),Ke("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ke("invalid",d);break;case"textarea":Gs(d,v),Ke("invalid",d)}ka(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var R=v[T];T==="children"?typeof R=="string"?d.textContent!==R&&(v.suppressHydrationWarning!==!0&&Wu(d.textContent,R,i),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Wu(d.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&Ke("scroll",d)}switch(l){case"input":Sr(d),gu(d,v,!0);break;case"textarea":Sr(d),Ia(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=qu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[or]=o,i[Za]=d,dv(i,o,!1,!1),o.stateNode=i;e:{switch(T=xa(l,d),l){case"dialog":Ke("cancel",i),Ke("close",i),m=d;break;case"iframe":case"object":case"embed":Ke("load",i),m=d;break;case"video":case"audio":for(m=0;m<Ya.length;m++)Ke(Ya[m],i);m=d;break;case"source":Ke("error",i),m=d;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),m=d;break;case"details":Ke("toggle",i),m=d;break;case"input":Hs(i,d),m=Xi(i,d),Ke("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ke("invalid",i);break;case"textarea":Gs(i,d),m=Sa(i,d),Ke("invalid",i);break;default:m=d}ka(l,m),R=m;for(v in R)if(R.hasOwnProperty(v)){var L=R[v];v==="style"?Pa(i,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ca(i,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ri(i,L):typeof L=="number"&&ri(i,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Ke("scroll",i):L!=null&&q(i,v,L,T))}switch(l){case"input":Sr(i),gu(i,d,!1);break;case"textarea":Sr(i),Ia(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Cr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Cr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=qu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bt(o),null;case 6:if(i&&o.stateNode!=null)pv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=vs(il.current),vs(ar.current),Ju(o)){if(d=o.stateNode,l=o.memoizedProps,d[or]=o,(v=d.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Wu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wu(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=o,o.stateNode=d}return Bt(o),null;case 13:if(Ge(Ze),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xe&&yn!==null&&o.mode&1&&!(o.flags&128))yy(),Ro(),o.flags|=98560,v=!1;else if(v=Ju(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[or]=o}else Ro(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Bt(o),v=!1}else qn!==null&&(Pf(qn),qn=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||Ze.current&1?vt===0&&(vt=3):xf())),o.updateQueue!==null&&(o.flags|=4),Bt(o),null);case 4:return Do(),gf(i,o),i===null&&Xa(o.stateNode.containerInfo),Bt(o),null;case 10:return $d(o.type._context),Bt(o),null;case 17:return rn(o.type)&&Ku(),Bt(o),null;case 19:if(Ge(Ze),v=o.memoizedState,v===null)return Bt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)ul(v,!1);else{if(vt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=ic(i),T!==null){for(o.flags|=128,ul(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return He(Ze,Ze.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>bo&&(o.flags|=128,d=!0,ul(v,!1),o.lanes=4194304)}else{if(!d)if(i=ic(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ul(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Xe)return Bt(o),null}else 2*qe()-v.renderingStartTime>bo&&l!==1073741824&&(o.flags|=128,d=!0,ul(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,l=Ze.current,He(Ze,d?l&1|2:l&1),o):(Bt(o),null);case 22:case 23:return kf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?vn&1073741824&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function A1(i,o){switch(Od(o),o.tag){case 1:return rn(o.type)&&Ku(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Do(),Ge(nn),Ge(jt),Yd(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Gd(o),null;case 13:if(Ge(Ze),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ge(Ze),null;case 4:return Do(),null;case 10:return $d(o.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var fc=!1,zt=!1,P1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Lo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){st(i,o,d)}else l.current=null}function yf(i,o,l){try{l()}catch(d){st(i,o,d)}}var mv=!1;function R1(i,o){if(Rd=hi,i=Kg(),wd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,R=-1,L=-1,K=0,J=0,te=i,X=null;t:for(;;){for(var le;te!==l||m!==0&&te.nodeType!==3||(R=T+m),te!==v||d!==0&&te.nodeType!==3||(L=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(le=te.firstChild)!==null;)X=te,te=le;for(;;){if(te===i)break t;if(X===l&&++K===m&&(R=T),X===v&&++J===d&&(L=T),(le=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=le}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(kd={focusedElem:i,selectionRange:l},hi=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,lt=he.memoizedState,W=o.stateNode,O=W.getSnapshotBeforeUpdate(o.elementType===o.type?de:Hn(o.type,de),lt);W.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){st(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=mv,mv=!1,he}function cl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&yf(o,l,v)}m=m.next}while(m!==d)}}function pc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function vf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function gv(i){var o=i.alternate;o!==null&&(i.alternate=null,gv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[or],delete o[Za],delete o[Vd],delete o[c1],delete o[h1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function yv(i){return i.tag===5||i.tag===3||i.tag===4}function vv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _f(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=qu));else if(d!==4&&(i=i.child,i!==null))for(_f(i,o,l),i=i.sibling;i!==null;)_f(i,o,l),i=i.sibling}function wf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(wf(i,o,l),i=i.sibling;i!==null;)wf(i,o,l),i=i.sibling}var Vt=null,Kn=!1;function wi(i,o,l){for(l=l.child;l!==null;)_v(i,o,l),l=l.sibling}function _v(i,o,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 5:zt||Lo(l,o);case 6:var d=Vt,m=Kn;Vt=null,wi(i,o,l),Vt=d,Kn=m,Vt!==null&&(Kn?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(Kn?(i=Vt,l=l.stateNode,i.nodeType===8?Dd(i.parentNode,l):i.nodeType===1&&Dd(i,l),zn(i)):Dd(Vt,l.stateNode));break;case 4:d=Vt,m=Kn,Vt=l.stateNode.containerInfo,Kn=!0,wi(i,o,l),Vt=d,Kn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&yf(l,o,T),m=m.next}while(m!==d)}wi(i,o,l);break;case 1:if(!zt&&(Lo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){st(l,o,R)}wi(i,o,l);break;case 21:wi(i,o,l);break;case 22:l.mode&1?(zt=(d=zt)||l.memoizedState!==null,wi(i,o,l),zt=d):wi(i,o,l);break;default:wi(i,o,l)}}function wv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new P1),o.forEach(function(d){var m=O1.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Gn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:Vt=R.stateNode,Kn=!1;break e;case 3:Vt=R.stateNode.containerInfo,Kn=!0;break e;case 4:Vt=R.stateNode.containerInfo,Kn=!0;break e}R=R.return}if(Vt===null)throw Error(t(160));_v(v,T,m),Vt=null,Kn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(K){st(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ev(o,i),o=o.sibling}function Ev(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gn(o,i),ur(i),d&4){try{cl(3,i,i.return),pc(3,i)}catch(de){st(i,i.return,de)}try{cl(5,i,i.return)}catch(de){st(i,i.return,de)}}break;case 1:Gn(o,i),ur(i),d&512&&l!==null&&Lo(l,l.return);break;case 5:if(Gn(o,i),ur(i),d&512&&l!==null&&Lo(l,l.return),i.flags&32){var m=i.stateNode;try{ri(m,"")}catch(de){st(i,i.return,de)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,R=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&Ea(m,v),xa(R,T);var K=xa(R,v);for(T=0;T<L.length;T+=2){var J=L[T],te=L[T+1];J==="style"?Pa(m,te):J==="dangerouslySetInnerHTML"?Ca(m,te):J==="children"?ri(m,te):q(m,J,te,K)}switch(R){case"input":Ta(m,v);break;case"textarea":Qs(m,v);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Cr(m,!!v.multiple,le,!1):X!==!!v.multiple&&(v.defaultValue!=null?Cr(m,!!v.multiple,v.defaultValue,!0):Cr(m,!!v.multiple,v.multiple?[]:"",!1))}m[Za]=v}catch(de){st(i,i.return,de)}}break;case 6:if(Gn(o,i),ur(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(de){st(i,i.return,de)}}break;case 3:if(Gn(o,i),ur(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(o.containerInfo)}catch(de){st(i,i.return,de)}break;case 4:Gn(o,i),ur(i);break;case 13:Gn(o,i),ur(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Sf=qe())),d&4&&wv(i);break;case 22:if(J=l!==null&&l.memoizedState!==null,i.mode&1?(zt=(K=zt)||J,Gn(o,i),zt=K):Gn(o,i),ur(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!J&&i.mode&1)for(ce=i,J=i.child;J!==null;){for(te=ce=J;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:cl(4,X,X.return);break;case 1:Lo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){d=X,l=X.return;try{o=d,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){st(d,l,de)}}break;case 5:Lo(X,X.return);break;case 22:if(X.memoizedState!==null){Iv(te);continue}}le!==null?(le.return=X,ce=le):Iv(te)}J=J.sibling}e:for(J=null,te=i;;){if(te.tag===5){if(J===null){J=te;try{m=te.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=te.stateNode,L=te.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=Aa("display",T))}catch(de){st(i,i.return,de)}}}else if(te.tag===6){if(J===null)try{te.stateNode.nodeValue=K?"":te.memoizedProps}catch(de){st(i,i.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;J===te&&(J=null),te=te.return}J===te&&(J=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Gn(o,i),ur(i),d&4&&wv(i);break;case 21:break;default:Gn(o,i),ur(i)}}function ur(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(yv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ri(m,""),d.flags&=-33);var v=vv(i);wf(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,R=vv(i);_f(i,R,T);break;default:throw Error(t(161))}}catch(L){st(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function k1(i,o,l){ce=i,Tv(i)}function Tv(i,o,l){for(var d=(i.mode&1)!==0;ce!==null;){var m=ce,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||fc;if(!T){var R=m.alternate,L=R!==null&&R.memoizedState!==null||zt;R=fc;var K=zt;if(fc=T,(zt=L)&&!K)for(ce=m;ce!==null;)T=ce,L=T.child,T.tag===22&&T.memoizedState!==null?Cv(m):L!==null?(L.return=T,ce=L):Cv(m);for(;v!==null;)ce=v,Tv(v),v=v.sibling;ce=m,fc=R,zt=K}Sv(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,ce=v):Sv(i)}}function Sv(i){for(;ce!==null;){var o=ce;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:zt||pc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!zt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Hn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Iy(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Iy(o,T,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var J=K.memoizedState;if(J!==null){var te=J.dehydrated;te!==null&&zn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||o.flags&512&&vf(o)}catch(X){st(o,o.return,X)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Iv(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Cv(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{pc(4,o)}catch(L){st(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){st(o,m,L)}}var v=o.return;try{vf(o)}catch(L){st(o,v,L)}break;case 5:var T=o.return;try{vf(o)}catch(L){st(o,T,L)}}}catch(L){st(o,o.return,L)}if(o===i){ce=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ce=R;break}ce=o.return}}var x1=Math.ceil,mc=ne.ReactCurrentDispatcher,Ef=ne.ReactCurrentOwner,kn=ne.ReactCurrentBatchConfig,Oe=0,At=null,dt=null,Lt=0,vn=0,Mo=mi(0),vt=0,hl=null,ws=0,gc=0,Tf=0,dl=null,on=null,Sf=0,bo=1/0,Ur=null,yc=!1,If=null,Ei=null,vc=!1,Ti=null,_c=0,fl=0,Cf=null,wc=-1,Ec=0;function Jt(){return Oe&6?qe():wc!==-1?wc:wc=qe()}function Si(i){return i.mode&1?Oe&2&&Lt!==0?Lt&-Lt:f1.transition!==null?(Ec===0&&(Ec=ls()),Ec):(i=De,i!==0||(i=window.event,i=i===void 0?16:Ba(i.type)),i):1}function Qn(i,o,l,d){if(50<fl)throw fl=0,Cf=null,Error(t(185));ai(i,l,d),(!(Oe&2)||i!==At)&&(i===At&&(!(Oe&2)&&(gc|=l),vt===4&&Ii(i,Lt)),an(i,d),l===1&&Oe===0&&!(o.mode&1)&&(bo=qe()+500,Qu&&yi()))}function an(i,o){var l=i.callbackNode;Rr(i,o);var d=as(i,i===At?Lt:0);if(d===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&ba(l),o===1)i.tag===0?d1(Pv.bind(null,i)):dy(Pv.bind(null,i)),l1(function(){!(Oe&6)&&yi()}),l=null;else{switch(ui(d)){case 1:l=ss;break;case 4:l=ii;break;case 16:l=Tn;break;case 536870912:l=Eu;break;default:l=Tn}l=Mv(l,Av.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Av(i,o){if(wc=-1,Ec=0,Oe&6)throw Error(t(327));var l=i.callbackNode;if(Oo()&&i.callbackNode!==l)return null;var d=as(i,i===At?Lt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Tc(i,d);else{o=d;var m=Oe;Oe|=2;var v=kv();(At!==i||Lt!==o)&&(Ur=null,bo=qe()+500,Ts(i,o));do try{V1();break}catch(R){Rv(i,R)}while(!0);zd(),mc.current=v,Oe=m,dt!==null?o=0:(At=null,Lt=0,o=vt)}if(o!==0){if(o===2&&(m=fn(i),m!==0&&(d=m,o=Af(i,m))),o===1)throw l=hl,Ts(i,0),Ii(i,d),an(i,qe()),l;if(o===6)Ii(i,d);else{if(m=i.current.alternate,!(d&30)&&!N1(m)&&(o=Tc(i,d),o===2&&(v=fn(i),v!==0&&(d=v,o=Af(i,v))),o===1))throw l=hl,Ts(i,0),Ii(i,d),an(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Ss(i,on,Ur);break;case 3:if(Ii(i,d),(d&130023424)===d&&(o=Sf+500-qe(),10<o)){if(as(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Jt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Nd(Ss.bind(null,i,on,Ur),o);break}Ss(i,on,Ur);break;case 4:if(Ii(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-Qt(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*x1(d/1960))-d,10<d){i.timeoutHandle=Nd(Ss.bind(null,i,on,Ur),d);break}Ss(i,on,Ur);break;case 5:Ss(i,on,Ur);break;default:throw Error(t(329))}}}return an(i,qe()),i.callbackNode===l?Av.bind(null,i):null}function Af(i,o){var l=dl;return i.current.memoizedState.isDehydrated&&(Ts(i,o).flags|=256),i=Tc(i,o),i!==2&&(o=on,on=l,o!==null&&Pf(o)),i}function Pf(i){on===null?on=i:on.push.apply(on,i)}function N1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Wn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ii(i,o){for(o&=~Tf,o&=~gc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Qt(o),d=1<<l;i[l]=-1,o&=~d}}function Pv(i){if(Oe&6)throw Error(t(327));Oo();var o=as(i,0);if(!(o&1))return an(i,qe()),null;var l=Tc(i,o);if(i.tag!==0&&l===2){var d=fn(i);d!==0&&(o=d,l=Af(i,d))}if(l===1)throw l=hl,Ts(i,0),Ii(i,o),an(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ss(i,on,Ur),an(i,qe()),null}function Rf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(bo=qe()+500,Qu&&yi())}}function Es(i){Ti!==null&&Ti.tag===0&&!(Oe&6)&&Oo();var o=Oe;Oe|=1;var l=kn.transition,d=De;try{if(kn.transition=null,De=1,i)return i()}finally{De=d,kn.transition=l,Oe=o,!(Oe&6)&&yi()}}function kf(){vn=Mo.current,Ge(Mo)}function Ts(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,a1(l)),dt!==null)for(l=dt.return;l!==null;){var d=l;switch(Od(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ku();break;case 3:Do(),Ge(nn),Ge(jt),Yd();break;case 5:Gd(d);break;case 4:Do();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:$d(d.type._context);break;case 22:case 23:kf()}l=l.return}if(At=i,dt=i=Ci(i.current,null),Lt=vn=o,vt=0,hl=null,Tf=gc=ws=0,on=dl=null,ys!==null){for(o=0;o<ys.length;o++)if(l=ys[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}l.pending=d}ys=null}return i}function Rv(i,o){do{var l=dt;try{if(zd(),sc.current=uc,oc){for(var d=et.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}oc=!1}if(_s=0,Ct=yt=et=null,sl=!1,ol=0,Ef.current=null,l===null||l.return===null){vt=1,hl=o,dt=null;break}e:{var v=i,T=l.return,R=l,L=o;if(o=Lt,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,J=R,te=J.tag;if(!(J.mode&1)&&(te===0||te===11||te===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=Zy(T);if(le!==null){le.flags&=-257,ev(le,T,R,v,o),le.mode&1&&Jy(v,K,o),o=le,L=K;var he=o.updateQueue;if(he===null){var de=new Set;de.add(L),o.updateQueue=de}else he.add(L);break e}else{if(!(o&1)){Jy(v,K,o),xf();break e}L=Error(t(426))}}else if(Xe&&R.mode&1){var lt=Zy(T);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),ev(lt,T,R,v,o),Ud(Vo(L,R));break e}}v=L=Vo(L,R),vt!==4&&(vt=2),dl===null?dl=[v]:dl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=Yy(v,L,o);Sy(v,W);break e;case 1:R=L;var O=v.type,H=v.stateNode;if(!(v.flags&128)&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ei===null||!Ei.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var re=Xy(v,R,o);Sy(v,re);break e}}v=v.return}while(v!==null)}Nv(l)}catch(fe){o=fe,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function kv(){var i=mc.current;return mc.current=uc,i===null?uc:i}function xf(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||!(ws&268435455)&&!(gc&268435455)||Ii(At,Lt)}function Tc(i,o){var l=Oe;Oe|=2;var d=kv();(At!==i||Lt!==o)&&(Ur=null,Ts(i,o));do try{D1();break}catch(m){Rv(i,m)}while(!0);if(zd(),Oe=l,mc.current=d,dt!==null)throw Error(t(261));return At=null,Lt=0,vt}function D1(){for(;dt!==null;)xv(dt)}function V1(){for(;dt!==null&&!_u();)xv(dt)}function xv(i){var o=Lv(i.alternate,i,vn);i.memoizedProps=i.pendingProps,o===null?Nv(i):dt=o,Ef.current=null}function Nv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=A1(l,o),l!==null){l.flags&=32767,dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vt=6,dt=null;return}}else if(l=C1(l,o,vn),l!==null){dt=l;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);vt===0&&(vt=5)}function Ss(i,o,l){var d=De,m=kn.transition;try{kn.transition=null,De=1,L1(i,o,l,d)}finally{kn.transition=m,De=d}return null}function L1(i,o,l,d){do Oo();while(Ti!==null);if(Oe&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if($e(i,v),i===At&&(dt=At=null,Lt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||vc||(vc=!0,Mv(Tn,function(){return Oo(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=kn.transition,kn.transition=null;var T=De;De=1;var R=Oe;Oe|=4,Ef.current=null,R1(i,l),Ev(l,i),e1(kd),hi=!!Rd,kd=Rd=null,i.current=l,k1(l),dd(),Oe=R,De=T,kn.transition=v}else i.current=l;if(vc&&(vc=!1,Ti=i,_c=m),v=i.pendingLanes,v===0&&(Ei=null),Tu(l.stateNode),an(i,qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(yc)throw yc=!1,i=If,If=null,i;return _c&1&&i.tag!==0&&Oo(),v=i.pendingLanes,v&1?i===Cf?fl++:(fl=0,Cf=i):fl=0,yi(),null}function Oo(){if(Ti!==null){var i=ui(_c),o=kn.transition,l=De;try{if(kn.transition=null,De=16>i?16:i,Ti===null)var d=!1;else{if(i=Ti,Ti=null,_c=0,Oe&6)throw Error(t(331));var m=Oe;for(Oe|=4,ce=i.current;ce!==null;){var v=ce,T=v.child;if(ce.flags&16){var R=v.deletions;if(R!==null){for(var L=0;L<R.length;L++){var K=R[L];for(ce=K;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:cl(8,J,v)}var te=J.child;if(te!==null)te.return=J,ce=te;else for(;ce!==null;){J=ce;var X=J.sibling,le=J.return;if(gv(J),J===K){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var he=v.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var lt=de.sibling;de.sibling=null,de=lt}while(de!==null)}}ce=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,ce=T;else e:for(;ce!==null;){if(v=ce,v.flags&2048)switch(v.tag){case 0:case 11:case 15:cl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,ce=W;break e}ce=v.return}}var O=i.current;for(ce=O;ce!==null;){T=ce;var H=T.child;if(T.subtreeFlags&2064&&H!==null)H.return=T,ce=H;else e:for(T=O;ce!==null;){if(R=ce,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:pc(9,R)}}catch(fe){st(R,R.return,fe)}if(R===T){ce=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ce=re;break e}ce=R.return}}if(Oe=m,yi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(os,i)}catch{}d=!0}return d}finally{De=l,kn.transition=o}}return!1}function Dv(i,o,l){o=Vo(l,o),o=Yy(i,o,1),i=_i(i,o,1),o=Jt(),i!==null&&(ai(i,1,o),an(i,o))}function st(i,o,l){if(i.tag===3)Dv(i,i,l);else for(;o!==null;){if(o.tag===3){Dv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ei===null||!Ei.has(d))){i=Vo(l,i),i=Xy(o,i,1),o=_i(o,i,1),i=Jt(),o!==null&&(ai(o,1,i),an(o,i));break}}o=o.return}}function M1(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Jt(),i.pingedLanes|=i.suspendedLanes&l,At===i&&(Lt&l)===l&&(vt===4||vt===3&&(Lt&130023424)===Lt&&500>qe()-Sf?Ts(i,0):Tf|=l),an(i,o)}function Vv(i,o){o===0&&(i.mode&1?(o=so,so<<=1,!(so&130023424)&&(so=4194304)):o=1);var l=Jt();i=Or(i,o),i!==null&&(ai(i,o,l),an(i,l))}function b1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Vv(i,l)}function O1(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Vv(i,l)}var Lv;Lv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||nn.current)sn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return sn=!1,I1(i,o,l);sn=!!(i.flags&131072)}else sn=!1,Xe&&o.flags&1048576&&fy(o,Xu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;dc(i,o),i=o.pendingProps;var m=Co(o,jt.current);No(o,l),m=Zd(null,o,d,i,m,l);var v=ef();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rn(d)?(v=!0,Gu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Hd(o),m.updater=cc,o.stateNode=m,m._reactInternals=o,af(o,d,i,l),o=hf(null,o,d,!0,v,l)):(o.tag=0,Xe&&v&&bd(o),Xt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(dc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=j1(d),i=Hn(d,i),m){case 0:o=cf(null,o,d,i,l);break e;case 1:o=ov(null,o,d,i,l);break e;case 11:o=tv(null,o,d,i,l);break e;case 14:o=nv(null,o,d,Hn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Hn(d,m),cf(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Hn(d,m),ov(i,o,d,m,l);case 3:e:{if(av(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,Ty(i,o),rc(o,d,null,l);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Vo(Error(t(423)),o),o=lv(i,o,d,l,m);break e}else if(d!==m){m=Vo(Error(t(424)),o),o=lv(i,o,d,l,m);break e}else for(yn=pi(o.stateNode.containerInfo.firstChild),gn=o,Xe=!0,qn=null,l=wy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ro(),d===m){o=jr(i,o,l);break e}Xt(i,o,d,l)}o=o.child}return o;case 5:return Cy(o),i===null&&jd(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,xd(d,m)?T=null:v!==null&&xd(d,v)&&(o.flags|=32),sv(i,o),Xt(i,o,T,l),o.child;case 6:return i===null&&jd(o),null;case 13:return uv(i,o,l);case 4:return Kd(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ko(o,null,d,l):Xt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Hn(d,m),tv(i,o,d,m,l);case 7:return Xt(i,o,o.pendingProps,l),o.child;case 8:return Xt(i,o,o.pendingProps.children,l),o.child;case 12:return Xt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,He(ec,d._currentValue),d._currentValue=T,v!==null)if(Wn(v.value,T)){if(v.children===m.children&&!nn.current){o=jr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var R=v.dependencies;if(R!==null){T=v.child;for(var L=R.firstContext;L!==null;){if(L.context===d){if(v.tag===1){L=Fr(-1,l&-l),L.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var J=K.pending;J===null?L.next=L:(L.next=J.next,J.next=L),K.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),Wd(v.return,l,o),R.lanes|=l;break}L=L.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),Wd(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Xt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,No(o,l),m=Pn(m),d=d(m),o.flags|=1,Xt(i,o,d,l),o.child;case 14:return d=o.type,m=Hn(d,o.pendingProps),m=Hn(d.type,m),nv(i,o,d,m,l);case 15:return rv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Hn(d,m),dc(i,o),o.tag=1,rn(d)?(i=!0,Gu(o)):i=!1,No(o,l),Gy(o,d,m),af(o,d,m,l),hf(null,o,d,!0,i,l);case 19:return hv(i,o,l);case 22:return iv(i,o,l)}throw Error(t(156,o.tag))};function Mv(i,o){return ro(i,o)}function F1(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,o,l,d){return new F1(i,o,l,d)}function Nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function j1(i){if(typeof i=="function")return Nf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===kt)return 14}return 2}function Ci(i,o){var l=i.alternate;return l===null?(l=xn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Sc(i,o,l,d,m,v){var T=2;if(d=i,typeof i=="function")Nf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return Is(l.children,m,v,o);case C:T=8,m|=8;break;case P:return i=xn(12,l,o,m|2),i.elementType=P,i.lanes=v,i;case N:return i=xn(13,l,o,m),i.elementType=N,i.lanes=v,i;case Qe:return i=xn(19,l,o,m),i.elementType=Qe,i.lanes=v,i;case Ce:return Ic(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case F:T=9;break e;case z:T=11;break e;case kt:T=14;break e;case xt:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=xn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function Is(i,o,l,d){return i=xn(7,i,d,o),i.lanes=l,i}function Ic(i,o,l,d){return i=xn(22,i,d,o),i.elementType=Ce,i.lanes=l,i.stateNode={isHidden:!1},i}function Df(i,o,l){return i=xn(6,i,null,o),i.lanes=l,i}function Vf(i,o,l){return o=xn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function U1(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Lf(i,o,l,d,m,v,T,R,L){return i=new U1(i,o,l,R,L),o===1?(o=1,v===!0&&(o|=8)):o=0,v=xn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(v),i}function B1(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function bv(i){if(!i)return gi;i=i._reactInternals;e:{if(On(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return cy(i,l,o)}return o}function Ov(i,o,l,d,m,v,T,R,L){return i=Lf(l,d,!0,i,m,v,T,R,L),i.context=bv(null),l=i.current,d=Jt(),m=Si(l),v=Fr(d,m),v.callback=o??null,_i(l,v,m),i.current.lanes=m,ai(i,m,d),an(i,d),i}function Cc(i,o,l,d){var m=o.current,v=Jt(),T=Si(m);return l=bv(l),o.context===null?o.context=l:o.pendingContext=l,o=Fr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=_i(m,o,T),i!==null&&(Qn(i,m,T,v),nc(i,m,T)),T}function Ac(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Mf(i,o){Fv(i,o),(i=i.alternate)&&Fv(i,o)}var jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function bf(i){this._internalRoot=i}Pc.prototype.render=bf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Cc(i,o,null,null)},Pc.prototype.unmount=bf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Es(function(){Cc(null,i,null,null)}),o[Vr]=null}};function Pc(i){this._internalRoot=i}Pc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<nr.length&&o!==0&&o<nr[l].priority;l++);nr.splice(l,0,i),l===0&&xu(i)}};function Of(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Rc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function z1(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=Ac(T);v.call(K)}}var T=Ov(o,d,i,0,null,!1,!1,"",Uv);return i._reactRootContainer=T,i[Vr]=T.current,Xa(i.nodeType===8?i.parentNode:i),Es(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var K=Ac(L);R.call(K)}}var L=Lf(i,0,!1,null,null,!1,!1,"",Uv);return i._reactRootContainer=L,i[Vr]=L.current,Xa(i.nodeType===8?i.parentNode:i),Es(function(){Cc(o,L,l,d)}),L}function kc(i,o,l,d,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var R=m;m=function(){var L=Ac(T);R.call(L)}}Cc(o,T,i,m)}else T=z1(l,o,i,m,d);return Ac(T)}Cu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=si(o.pendingLanes);l!==0&&(li(o,l|1),an(o,qe()),!(Oe&6)&&(bo=qe()+500,yi()))}break;case 13:Es(function(){var d=Or(i,1);if(d!==null){var m=Jt();Qn(d,i,1,m)}}),Mf(i,1)}},oo=function(i){if(i.tag===13){var o=Or(i,134217728);if(o!==null){var l=Jt();Qn(o,i,134217728,l)}Mf(i,134217728)}},Au=function(i){if(i.tag===13){var o=Si(i),l=Or(i,o);if(l!==null){var d=Jt();Qn(l,i,o,d)}Mf(i,o)}},Pu=function(){return De},Ru=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},Xs=function(i,o,l){switch(o){case"input":if(Ta(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=Hu(d);if(!m)throw Error(t(90));qs(d),Ta(d,m)}}}break;case"textarea":Qs(i,l);break;case"select":o=l.value,o!=null&&Cr(i,!!l.multiple,o,!1)}},ts=Rf,Da=Es;var $1={usingClientEntryPoint:!1,Events:[el,So,Hu,er,Na,Rf]},pl={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ma(i),i===null?null:i.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{os=xc.inject(W1),dn=xc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1,ln.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(o))throw Error(t(200));return B1(i,o,null,l)},ln.createRoot=function(i,o){if(!Of(i))throw Error(t(299));var l=!1,d="",m=jv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Lf(i,1,!1,null,null,l,!1,d,m),i[Vr]=o.current,Xa(i.nodeType===8?i.parentNode:i),new bf(o)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ma(o),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Es(i)},ln.hydrate=function(i,o,l){if(!Rc(o))throw Error(t(200));return kc(null,i,o,!0,l)},ln.hydrateRoot=function(i,o,l){if(!Of(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",T=jv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Ov(o,null,i,1,l??null,m,!1,v,T),i[Vr]=o.current,Xa(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Pc(o)},ln.render=function(i,o,l){if(!Rc(o))throw Error(t(200));return kc(null,i,o,!1,l)},ln.unmountComponentAtNode=function(i){if(!Rc(i))throw Error(t(40));return i._reactRootContainer?(Es(function(){kc(null,null,i,!1,function(){i._reactRootContainer=null,i[Vr]=null})}),!0):!1},ln.unstable_batchedUpdates=Rf,ln.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Rc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return kc(i,o,l,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Gv;function Z1(){if(Gv)return Uf.exports;Gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uf.exports=J1(),Uf.exports}var Qv;function eC(){if(Qv)return Nc;Qv=1;var n=Z1();return Nc.createRoot=n.createRoot,Nc.hydrateRoot=n.hydrateRoot,Nc}var tC=eC(),b=am();const Vs=H1(b);var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},nC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,w=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(E=64)),r.push(t[g],t[w],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new rC;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),w!==64){const k=p<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iC=function(n){const e=VE(n);return LE.encodeByteArray(e,!0)},lh=function(n){return iC(n).replace(/\./g,"")},ME=function(n){try{return LE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>sC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof Yv>"u")return;const n=Yv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ME(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return oC()||aC()||lC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bE=n=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uC=n=>{const e=bE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},OE=()=>{var n;return(n=Fh())===null||n===void 0?void 0:n.config},FE=n=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function fC(){var n;const e=(n=Fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class Jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EC,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?TC(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Jr(s,h,r)}}function TC(n,e){return n.replace(SC,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SC=/\{\$([^}]+)}/g;function IC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function uh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Xv(a)&&Xv(u)){if(!uh(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Xv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function wl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CC(n,e){const t=new AC(n,e);return t.subscribe.bind(t)}class AC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=$f),s.error===void 0&&(s.error=$f),s.complete===void 0&&(s.complete=$f);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $f(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(n){return n===As?void 0:n}function xC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const DC={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},VC=xe.INFO,LC={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},MC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=LC[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lm{constructor(e){this.name=e,this._logLevel=VC,this._logHandler=MC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const bC=(n,e)=>e.some(t=>n instanceof t);let Jv,Zv;function OC(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,pp=new WeakMap,UE=new WeakMap,Wf=new WeakMap,um=new WeakMap;function jC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Li(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&jE.set(t,n)}).catch(()=>{}),um.set(e,n),e}function UC(n){if(pp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});pp.set(n,e)}let mp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BC(n){mp=n(mp)}function zC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qf(this),e,...t);return UE.set(r,e.sort?e.sort():[e]),Li(r)}:FC().includes(n)?function(...e){return n.apply(qf(this),e),Li(jE.get(this))}:function(...e){return Li(n.apply(qf(this),e))}}function $C(n){return typeof n=="function"?zC(n):(n instanceof IDBTransaction&&UC(n),bC(n,OC())?new Proxy(n,mp):n)}function Li(n){if(n instanceof IDBRequest)return jC(n);if(Wf.has(n))return Wf.get(n);const e=$C(n);return e!==n&&(Wf.set(n,e),um.set(e,n)),e}const qf=n=>um.get(n);function WC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Li(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Li(u.result),f.oldVersion,f.newVersion,Li(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const qC=["get","getKey","getAll","getAllKeys","count"],HC=["put","add","delete","clear"],Hf=new Map;function e_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=HC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qC.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return Hf.set(e,a),a}BC(n=>({...n,get:(e,t,r)=>e_(e,t)||n.get(e,t,r),has:(e,t)=>!!e_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",t_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new lm("@firebase/app"),QC="@firebase/app-compat",YC="@firebase/analytics-compat",XC="@firebase/analytics",JC="@firebase/app-check-compat",ZC="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",oA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",dA="@firebase/performance-compat",fA="@firebase/remote-config",pA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",vA="@firebase/vertexai",_A="@firebase/firestore-compat",wA="firebase",EA="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",TA={[gp]:"fire-core",[QC]:"fire-core-compat",[XC]:"fire-analytics",[YC]:"fire-analytics-compat",[ZC]:"fire-app-check",[JC]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[oA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[dA]:"fire-perf-compat",[fA]:"fire-rc",[pA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[_A]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,SA=new Map,vp=new Map;function n_(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(vp.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,n);for(const t of ch.values())n_(t,n);for(const t of SA.values())n_(t,n);return!0}function cm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Jl("app","Firebase",IA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=EA;function BE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(t||(t=OE()),!t)throw Mi.create("no-options");const a=ch.get(s);if(a){if(uh(t,a.options)&&uh(r,a.config))return a;throw Mi.create("duplicate-app",{appName:s})}const u=new NC(s);for(const f of vp.values())u.addComponent(f);const h=new CA(t,r,u);return ch.set(s,h),h}function zE(n=yp){const e=ch.get(n);if(!e&&n===yp&&OE())return BE();if(!e)throw Mi.create("no-app",{appName:n});return e}function bi(n,e,t){var r;let s=(r=TA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(h.join(" "));return}Jo(new Os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebase-heartbeat-database",PA=1,Ml="firebase-heartbeat-store";let Kf=null;function $E(){return Kf||(Kf=WC(AA,PA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),Kf}async function RA(n){try{const t=(await $E()).transaction(Ml),r=await t.objectStore(Ml).get(WE(n));return await t.done,r}catch(e){if(e instanceof Jr)Hr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(t.message)}}}async function r_(n,e){try{const r=(await $E()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,WE(n)),await r.done}catch(t){if(t instanceof Jr)Hr.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hr.warn(r.message)}}}function WE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1024,xA=30*24*60*60*1e3;class NA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=xA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=i_(),{heartbeatsToSend:r,unsentEntries:s}=DA(this._heartbeatsCache.heartbeats),a=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hr.warn(t),""}}}function i_(){return new Date().toISOString().substring(0,10)}function DA(n,e=kA){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),s_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),s_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s_(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){Jo(new Os("platform-logger",e=>new KC(e),"PRIVATE")),Jo(new Os("heartbeat",e=>new NA(e),"PRIVATE")),bi(gp,t_,n),bi(gp,t_,"esm2017"),bi("fire-js","")}LA("");function hm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MA=qE,HE=new Jl("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new lm("@firebase/auth");function bA(n,...e){hh.logLevel<=xe.WARN&&hh.warn(`Auth (${ua}): ${n}`,...e)}function Wc(n,...e){hh.logLevel<=xe.ERROR&&hh.error(`Auth (${ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n,...e){throw dm(n,...e)}function hr(n,...e){return dm(n,...e)}function KE(n,e,t){const r=Object.assign(Object.assign({},MA()),{[e]:t});return new Jl("auth","Firebase",r).create(e,{appName:n.name})}function Wr(n){return KE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return HE.create(n,...e)}function Ee(n,e,...t){if(!n)throw dm(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wc(e),new Error(e)}function Kr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OA(){return o_()==="http:"||o_()==="https:"}function o_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||mC()||"connection"in navigator)?navigator.onLine:!0}function jA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=dC()||gC()}get(){return FA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new eu(3e4,6e4);function Zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Er(n,e,t,r,s={}){return QE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Zl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return pC()||(p.referrerPolicy="no-referrer"),GE.fetch()(YE(n,n.config.apiHost,t,h),p)})}async function QE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},UA),e);try{const s=new $A(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KE(n,g,p);Jn(n,g)}}catch(s){if(s instanceof Jr)throw s;Jn(n,"network-request-failed",{message:String(s)})}}async function tu(n,e,t,r,s={}){const a=await Er(n,e,t,r,s);return"mfaPendingCredential"in a&&Jn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function YE(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?fm(n.config,s):`${n.config.apiScheme}://${s}`}function zA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),BA.get())})}}function Dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=hr(n,e,r);return s.customData._tokenResponse=t,s}function a_(n){return n!==void 0&&n.enterprise!==void 0}class WA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qA(n,e){return Er(n,"GET","/v2/recaptchaConfig",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n,e){return Er(n,"POST","/v1/accounts:delete",e)}async function XE(n,e){return Er(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KA(n,e=!1){const t=Tt(n),r=await t.getIdToken(e),s=pm(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Cl(Gf(s.auth_time)),issuedAtTime:Cl(Gf(s.iat)),expirationTime:Cl(Gf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Gf(n){return Number(n)*1e3}function pm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=ME(t);return s?JSON.parse(s):(Wc("Failed to decode base64 JWT payload"),null)}catch(s){return Wc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function l_(n){const e=pm(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jr&&GA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Zo(n,XE(t,{idToken:r}));Ee(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?JE(a.providerUserInfo):[],h=XA(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),g=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new wp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,w)}async function YA(n){const e=Tt(n);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JE(n){return n.map(e=>{var{providerId:t}=e,r=hm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e){const t=await QE(n,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=YE(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",GE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZA(n,e){return Er(n,"POST","/v2/accounts:revokeToken",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=l_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await JA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Go;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KA(this,e)}reload(){return YA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Zo(this,HA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,g;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:q,emailVerified:ne,isAnonymous:Z,providerData:se,stsTokenManager:D}=t;Ee(q&&D,e,"internal-error");const C=Go.fromJSON(this.name,D);Ee(typeof q=="string",e,"internal-error"),Pi(w,e.name),Pi(E,e.name),Ee(typeof ne=="boolean",e,"internal-error"),Ee(typeof Z=="boolean",e,"internal-error"),Pi(S,e.name),Pi(k,e.name),Pi(M,e.name),Pi(x,e.name),Pi(U,e.name),Pi(j,e.name);const P=new zr({uid:q,auth:e,email:E,emailVerified:ne,displayName:w,isAnonymous:Z,photoURL:k,phoneNumber:S,tenantId:M,stsTokenManager:C,createdAt:U,lastLoginAt:j});return se&&Array.isArray(se)&&(P.providerData=se.map(V=>Object.assign({},V))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Go;s.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?JE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Go;h.updateFromIdToken(r);const f=new zr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function $r(n){Kr(n instanceof Function,"Expected a class definition");let e=u_.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,u_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZE.type="NONE";const c_=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=qc(this.userKey,s.apiKey,a),this.fullPersistenceKey=qc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qo($r(c_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||$r(c_);const u=qc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){const w=zr._fromJSON(e,g);p!==a&&(h=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Qo(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Qo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(oT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eT(n=Gt()){return/firefox\//i.test(n)}function tT(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(n=Gt()){return/crios\//i.test(n)}function rT(n=Gt()){return/iemobile/i.test(n)}function iT(n=Gt()){return/android/i.test(n)}function sT(n=Gt()){return/blackberry/i.test(n)}function oT(n=Gt()){return/webos/i.test(n)}function mm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eP(n=Gt()){var e;return mm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tP(){return yC()&&document.documentMode===10}function aT(n=Gt()){return mm(n)||iT(n)||oT(n)||sT(n)||/windows phone/i.test(n)||rT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n,e=[]){let t;switch(n){case"Browser":t=h_(Gt());break;case"Worker":t=`${h_(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e={}){return Er(n,"GET","/v2/passwordPolicy",Zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=6;class sP{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:iP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new nP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await XE(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Wr(this));const t=e?Tt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rP(this),t=new sP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ki(n){return Tt(n)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(n){jh=n}function uT(n){return jh.loadJS(n)}function lP(){return jh.recaptchaEnterpriseScript}function uP(){return jh.gapiScript}function cP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hP{constructor(){this.enterprise=new dP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fP="recaptcha-enterprise",cT="NO_RECAPTCHA";class pP{constructor(e){this.type=fP,this.auth=Ki(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{qA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new WA(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;a_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(cT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hP().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&a_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=lP();f.length!==0&&(f+=h),uT(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function f_(n,e,t,r=!1,s=!1){const a=new pP(n);let u;if(s)u=cT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function fh(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await f_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await f_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,e){const t=cm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(uh(a,e??{}))return s;Jn(s,"already-initialized")}return t.initialize({options:e})}function gP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yP(n,e,t){const r=Ki(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=hT(e),{host:u,port:h}=vP(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),_P()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vP(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:p_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:p_(u)}}}function p_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _P(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function wP(n,e){return Er(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",Zr(n,e))}async function dT(n,e){return Er(n,"POST","/v1/accounts:sendOobCode",Zr(n,e))}async function TP(n,e){return dT(n,e)}async function SP(n,e){return dT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}async function CP(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends gm{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new bl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,t,"signInWithPassword",EP);case"emailLink":return IP(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,r,"signUpPassword",wP);case"emailLink":return CP(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="http://localhost";class Fs extends gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=hm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Fs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:AP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RP(n){const e=_l(wl(n)).link,t=e?_l(wl(e)).deep_link_id:null,r=_l(wl(n)).deep_link_id;return(r?_l(wl(r)).link:null)||r||t||e||n}class ym{constructor(e){var t,r,s,a,u,h;const f=_l(wl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,w=PP((s=f.mode)!==null&&s!==void 0?s:null);Ee(p&&g&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=RP(e);try{return new ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,t){return bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ym.parseLink(t);return Ee(r,"argument-error"),bl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends fT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends nu{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends nu{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends nu{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e){return tu(n,"POST","/v1/accounts:signUp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await zr._fromIdTokenResponse(e,r,s),u=m_(r);return new js({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=m_(r);return new js({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function m_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Jr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ph(e,t,r,s)}}function pT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(n,a,e,r):a})}async function xP(n,e,t=!1){const r=await Zo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return js._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(Wr(r));const s="reauthenticate";try{const a=await Zo(n,pT(r,s,e,n),t);Ee(a.idToken,r,"internal-error");const u=pm(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(n.uid===h,r,"user-mismatch"),js._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(n,e,t=!1){if(cr(n.app))return Promise.reject(Wr(n));const r="signIn",s=await pT(n,r,e),a=await js._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function DP(n,e){return mT(Ki(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n){const e=Ki(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VP(n,e,t){const r=Ki(n);await fh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SP)}async function LP(n,e,t){if(cr(n.app))return Promise.reject(Wr(n));const r=Ki(n),u=await fh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&gT(n),f}),h=await js._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function MP(n,e,t){return cr(n.app)?Promise.reject(Wr(n)):DP(Tt(n),ca.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gT(n),r})}async function yT(n,e){const t=Tt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await TP(t.auth,s);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e){return Er(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Zo(r,bP(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function FP(n,e,t,r){return Tt(n).onIdTokenChanged(e,t,r)}function jP(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function vT(n,e,t,r){return Tt(n).onAuthStateChanged(e,t,r)}function UP(n){return Tt(n).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1e3,zP=10;class wT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);tP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const $P=wT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ET.type="SESSION";const TT=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await WP(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=vm("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function HP(n){dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function KP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QP(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebaseLocalStorageDb",YP=1,gh="firebaseLocalStorage",CT="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(n,e){return n.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function XP(){const n=indexedDB.deleteDatabase(IT);return new ru(n).toPromise()}function Ep(){const n=indexedDB.open(IT,YP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gh,{keyPath:CT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await XP(),e(await Ep()))})})}async function g_(n,e,t){const r=Bh(n,!0).put({[CT]:e,value:t});return new ru(r).toPromise()}async function JP(n,e){const t=Bh(n,!1).get(e),r=await new ru(t).toPromise();return r===void 0?null:r.value}function y_(n,e){const t=Bh(n,!0).delete(e);return new ru(t).toPromise()}const ZP=800,eR=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>eR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(QP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KP(),!this.activeServiceWorker)return;this.sender=new qP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await g_(e,mh,"1"),await y_(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>g_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Bh(s,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const tR=AT;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n,e){return e?$r(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rR(n){return mT(n.auth,new _m(n),n.bypassAuthState)}function iR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),NP(t,new _m(n),n.bypassAuthState)}async function sR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),xP(t,new _m(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:Jn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new eu(2e3,1e4);class zo extends PT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oR.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="pendingRedirect",Hc=new Map;class lR extends PT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await uR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(n,e){const t=dR(e),r=hR(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function cR(n,e){Hc.set(n._key(),e)}function hR(n){return $r(n._redirectPersistence)}function dR(n){return qc(aR,n.config.apiKey,n.name)}async function fR(n,e,t=!1){if(cr(n.app))return Promise.reject(Wr(n));const r=Ki(n),s=nR(r,e),u=await new lR(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=10*60*1e3;class mR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pR&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e={}){return Er(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function wR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yR(n);for(const t of e)try{if(ER(t))return}catch{}Jn(n,"unauthorized-domain")}function ER(n){const e=_p(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!_R.test(t))return!1;if(vR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new eu(3e4,6e4);function __(){const n=dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SR(n){return new Promise((e,t)=>{var r,s,a;function u(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),t(hr(n,"network-request-failed"))},timeout:TR.get()})}if(!((s=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=dr().gapi)===null||a===void 0)&&a.load)u();else{const h=cP("iframefcb");return dr()[h]=()=>{gapi.load?u():t(hr(n,"network-request-failed"))},uT(`${uP()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function IR(n){return Kc=Kc||SR(n),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new eu(5e3,15e3),AR="__/auth/iframe",PR="emulator/auth/iframe",RR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fm(e,PR):`https://${n.config.authDomain}/${AR}`,r={apiKey:e.apiKey,appName:n.name,v:ua},s=kR.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Zl(r).slice(1)}`}async function NR(n){const e=await IR(n),t=dr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:xR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RR,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=hr(n,"network-request-failed"),h=dr().setTimeout(()=>{a(u)},CR.get());function f(){dr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,LR=600,MR="_blank",bR="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(n,e,t,r=VR,s=LR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},DR),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Gt().toLowerCase();t&&(h=nT(p)?MR:t),eT(p)&&(e=e||bR,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[S,k])=>`${E}${S}=${k},`,"");if(eP(p)&&h!=="_self")return FR(e||"",h),new w_(null);const w=window.open(e||"",h,g);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new w_(w)}function FR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__/auth/handler",UR="emulator/auth/handler",BR=encodeURIComponent("fac");async function E_(n,e,t,r,s,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ua,eventId:s};if(e instanceof fT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof nu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${BR}=${encodeURIComponent(f)}`:"";return`${zR(n)}?${Zl(h).slice(1)}${p}`}function zR({config:n}){return n.emulator?fm(n,UR):`https://${n.authDomain}/${jR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class $R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=fR,this._overrideRedirectResult=cR}async _openPopup(e,t,r,s){var a;Kr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await E_(e,t,r,_p(),s);return OR(e,u,vm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await E_(e,t,r,_p(),s);return HP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Kr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await NR(e),r=new mR(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qf,{type:Qf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Qf];u!==void 0&&t(!!u),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aT()||tT()||mm()}}const WR=$R;var T_="@firebase/auth",S_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KR(n){Jo(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(n)},p=new oP(r,s,a,f);return gP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Os("auth-internal",e=>{const t=Ki(e.getProvider("auth").getImmediate());return(r=>new qR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(T_,S_,HR(n)),bi(T_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=5*60,QR=FE("authIdTokenMaxAge")||GR;let I_=null;const YR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>QR)return;const s=t==null?void 0:t.token;I_!==s&&(I_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wm(n=zE()){const e=cm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mP(n,{popupRedirectResolver:WR,persistence:[tR,$P,TT]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=YR(a.toString());jP(t,u,()=>u(t.currentUser)),FP(t,h=>u(h))}}const s=bE("auth");return s&&yP(t,`http://${s}`),t}function XR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=hr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",XR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KR("Browser");var JR="firebase",ZR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(JR,ZR,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,kT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.D=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(V,F,z){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return C.prototype[F].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)V[F]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(F=0;16>F;++F)V[F]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],F=D.g[2];var z=D.g[3],N=C+(z^P&(F^z))+V[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=z+(F^C&(P^F))+V[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=F+(P^z&(C^P))+V[2]+606105819&4294967295,F=z+(N<<17&4294967295|N>>>15),N=P+(C^F&(z^C))+V[3]+3250441966&4294967295,P=F+(N<<22&4294967295|N>>>10),N=C+(z^P&(F^z))+V[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(F^C&(P^F))+V[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=F+(P^z&(C^P))+V[6]+2821735955&4294967295,F=z+(N<<17&4294967295|N>>>15),N=P+(C^F&(z^C))+V[7]+4249261313&4294967295,P=F+(N<<22&4294967295|N>>>10),N=C+(z^P&(F^z))+V[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(F^C&(P^F))+V[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=F+(P^z&(C^P))+V[10]+4294925233&4294967295,F=z+(N<<17&4294967295|N>>>15),N=P+(C^F&(z^C))+V[11]+2304563134&4294967295,P=F+(N<<22&4294967295|N>>>10),N=C+(z^P&(F^z))+V[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(F^C&(P^F))+V[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=F+(P^z&(C^P))+V[14]+2792965006&4294967295,F=z+(N<<17&4294967295|N>>>15),N=P+(C^F&(z^C))+V[15]+1236535329&4294967295,P=F+(N<<22&4294967295|N>>>10),N=C+(F^z&(P^F))+V[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^F&(C^P))+V[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=F+(C^P&(z^C))+V[11]+643717713&4294967295,F=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(F^z))+V[0]+3921069994&4294967295,P=F+(N<<20&4294967295|N>>>12),N=C+(F^z&(P^F))+V[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^F&(C^P))+V[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=F+(C^P&(z^C))+V[15]+3634488961&4294967295,F=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(F^z))+V[4]+3889429448&4294967295,P=F+(N<<20&4294967295|N>>>12),N=C+(F^z&(P^F))+V[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^F&(C^P))+V[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=F+(C^P&(z^C))+V[3]+4107603335&4294967295,F=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(F^z))+V[8]+1163531501&4294967295,P=F+(N<<20&4294967295|N>>>12),N=C+(F^z&(P^F))+V[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^F&(C^P))+V[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=F+(C^P&(z^C))+V[7]+1735328473&4294967295,F=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(F^z))+V[12]+2368359562&4294967295,P=F+(N<<20&4294967295|N>>>12),N=C+(P^F^z)+V[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^F)+V[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=F+(z^C^P)+V[11]+1839030562&4294967295,F=z+(N<<16&4294967295|N>>>16),N=P+(F^z^C)+V[14]+4259657740&4294967295,P=F+(N<<23&4294967295|N>>>9),N=C+(P^F^z)+V[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^F)+V[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=F+(z^C^P)+V[7]+4139469664&4294967295,F=z+(N<<16&4294967295|N>>>16),N=P+(F^z^C)+V[10]+3200236656&4294967295,P=F+(N<<23&4294967295|N>>>9),N=C+(P^F^z)+V[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^F)+V[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=F+(z^C^P)+V[3]+3572445317&4294967295,F=z+(N<<16&4294967295|N>>>16),N=P+(F^z^C)+V[6]+76029189&4294967295,P=F+(N<<23&4294967295|N>>>9),N=C+(P^F^z)+V[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^F)+V[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=F+(z^C^P)+V[15]+530742520&4294967295,F=z+(N<<16&4294967295|N>>>16),N=P+(F^z^C)+V[2]+3299628645&4294967295,P=F+(N<<23&4294967295|N>>>9),N=C+(F^(P|~z))+V[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~F))+V[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=F+(C^(z|~P))+V[14]+2878612391&4294967295,F=z+(N<<15&4294967295|N>>>17),N=P+(z^(F|~C))+V[5]+4237533241&4294967295,P=F+(N<<21&4294967295|N>>>11),N=C+(F^(P|~z))+V[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~F))+V[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=F+(C^(z|~P))+V[10]+4293915773&4294967295,F=z+(N<<15&4294967295|N>>>17),N=P+(z^(F|~C))+V[1]+2240044497&4294967295,P=F+(N<<21&4294967295|N>>>11),N=C+(F^(P|~z))+V[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~F))+V[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=F+(C^(z|~P))+V[6]+2734768916&4294967295,F=z+(N<<15&4294967295|N>>>17),N=P+(z^(F|~C))+V[13]+1309151649&4294967295,P=F+(N<<21&4294967295|N>>>11),N=C+(F^(P|~z))+V[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~F))+V[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=F+(C^(z|~P))+V[2]+718787259&4294967295,F=z+(N<<15&4294967295|N>>>17),N=P+(z^(F|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var P=C-this.blockSize,V=this.B,F=this.h,z=0;z<C;){if(F==0)for(;z<=P;)s(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(V[F++]=D.charCodeAt(z++),F==this.blockSize){s(this,V),F=0;break}}else for(;z<C;)if(V[F++]=D[z++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var P=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=P&255,P/=256;for(this.u(D),D=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)D[P++]=this.g[C]>>>V&255;return D};function a(D,C){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function u(D,C){this.h=C;for(var P=[],V=!0,F=D.length-1;0<=F;F--){var z=D[F]|0;V&&z==C||(P[F]=z,V=!1)}this.g=P}var h={};function f(D){return-128<=D&&128>D?a(D,function(C){return new u([C|0],0>C?-1:0)}):new u([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return x(p(-D));for(var C=[],P=1,V=0;D>=P;V++)C[V]=D/P|0,P*=4294967296;return new u(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return x(g(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(C,8)),V=w,F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F),N=parseInt(D.substring(F,F+z),C);8>z?(z=p(Math.pow(C,z)),V=V.j(z).add(p(N))):(V=V.j(P),V=V.add(p(N)))}return V}var w=f(0),E=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-x(this).m();for(var D=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(M(this))return"-"+x(this).toString(D);for(var C=p(Math.pow(D,6)),P=this,V="";;){var F=ne(P,C).g;P=U(P,F.j(C));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=F,k(P))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=U(this,D),M(D)?-1:k(D)?0:1};function x(D){for(var C=D.g.length,P=[],V=0;V<C;V++)P[V]=~D.g[V];return new u(P,~D.h).add(E)}n.abs=function(){return M(this)?x(this):this},n.add=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0,F=0;F<=C;F++){var z=V+(this.i(F)&65535)+(D.i(F)&65535),N=(z>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);V=N>>>16,z&=65535,N&=65535,P[F]=N<<16|z}return new u(P,P[P.length-1]&-2147483648?-1:0)};function U(D,C){return D.add(x(C))}n.j=function(D){if(k(this)||k(D))return w;if(M(this))return M(D)?x(this).j(x(D)):x(x(this).j(D));if(M(D))return x(this.j(x(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var C=this.g.length+D.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<D.g.length;F++){var z=this.i(V)>>>16,N=this.i(V)&65535,Qe=D.i(F)>>>16,kt=D.i(F)&65535;P[2*V+2*F]+=N*kt,j(P,2*V+2*F),P[2*V+2*F+1]+=z*kt,j(P,2*V+2*F+1),P[2*V+2*F+1]+=N*Qe,j(P,2*V+2*F+1),P[2*V+2*F+2]+=z*Qe,j(P,2*V+2*F+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new u(P,0)};function j(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function q(D,C){this.g=D,this.h=C}function ne(D,C){if(k(C))throw Error("division by zero");if(k(D))return new q(w,w);if(M(D))return C=ne(x(D),C),new q(x(C.g),x(C.h));if(M(C))return C=ne(D,x(C)),new q(x(C.g),C.h);if(30<D.g.length){if(M(D)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=C;0>=V.l(D);)P=Z(P),V=Z(V);var F=se(P,1),z=se(V,1);for(V=se(V,2),P=se(P,2);!k(V);){var N=z.add(V);0>=N.l(D)&&(F=F.add(P),z=N),V=se(V,1),P=se(P,1)}return C=U(D,F.j(C)),new q(F,C)}for(F=w;0<=D.l(C);){for(P=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(P),N=z.j(C);M(N)||0<N.l(D);)P-=V,z=p(P),N=z.j(C);k(z)&&(z=E),F=F.add(z),D=U(D,N)}return new q(F,D)}n.A=function(D){return ne(this,D).h},n.and=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&D.i(V);return new u(P,this.h&D.h)},n.or=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|D.i(V);return new u(P,this.h|D.h)},n.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^D.i(V);return new u(P,this.h^D.h)};function Z(D){for(var C=D.g.length+1,P=[],V=0;V<C;V++)P[V]=D.i(V)<<1|D.i(V-1)>>>31;return new u(P,D.h)}function se(D,C){var P=C>>5;C%=32;for(var V=D.g.length-P,F=[],z=0;z<V;z++)F[z]=0<C?D.i(z+P)>>>C|D.i(z+P+1)<<32-C:D.i(z+P);return new u(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Ls=u}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xT,El,NT,Gc,Tp,DT,VT,LT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var $=c[I];if(!($ in _))break e;_=_[$]}c=c[c.length-1],I=_[c],y=y(I),y!=I&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var _=0,I=!1,$={next:function(){if(!I&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function E(c,y,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,E.apply(null,arguments)}function S(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,$,G){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[$].apply(I,oe)}}function M(c){const y=c.length;if(0<y){const _=Array(y);for(let I=0;I<y;I++)_[I]=c[I];return _}return[]}function x(c,y){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const $=c.length||0,G=I.length||0;c.length=$+G;for(let oe=0;oe<G;oe++)c[$+oe]=I[oe]}else c.push(I)}}class U{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var Z=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(c,y,_){for(const I in c)y.call(_,c[I],I,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(_ in I)c[_]=I[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function F(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){h.setTimeout(()=>{throw c},0)}function N(){var c=pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,_){const I=kt.get();I.set(y,_),this.h?this.h.next=I:this.g=I,this.h=I}}var kt=new U(()=>new xt,c=>c.reset());class xt{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ie=!1,pe=new Qe,ae=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(B)}};var B=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=kt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c}();function Re(c,y){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{ne(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}k(Re,me);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,_,I,$){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!I,this.ha=$,this.key=++Ue,this.da=this.fa=!1}function St(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,_,I,$){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var oe=ni(c,y,I,$);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new We(y,this.src,G,!!I,$),y.fa=_,c.push(y)),y};function qs(c,y){var _=y.type;if(_ in c.g){var I=c.g[_],$=Array.prototype.indexOf.call(I,y,void 0),G;(G=0<=$)&&Array.prototype.splice.call(I,$,1),G&&(St(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ni(c,y,_,I){for(var $=0;$<c.length;++$){var G=c[$];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==I)return $}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Hs={};function Ea(c,y,_,I,$){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Ea(c,y[G],_,I,$);return null}return _=Ia(_),c&&c[je]?c.K(y,_,p(I)?!!I.capture:!1,$):Ta(c,y,_,!1,I,$)}function Ta(c,y,_,I,$,G){if(!y)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,ze=Gs(c);if(ze||(c[Xi]=ze=new Sr(c)),_=ze.add(y,_,I,oe,G),_.proxy)return _;if(I=gu(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Pe||($=oe),$===void 0&&($=!1),c.addEventListener(y.toString(),I,$);else if(c.attachEvent)c.attachEvent(Cr(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gu(){function c(_){return y.call(c.src,c.listener,_)}const y=Sa;return c}function Ks(c,y,_,I,$){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ks(c,y[G],_,I,$);else I=p(I)?!!I.capture:!!I,_=Ia(_),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=ni(G,_,I,$),-1<_&&(St(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Gs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ni(y,_,I,$)),(_=-1<c?y[c]:null)&&Ir(_))}function Ir(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])qs(y.i,c);else{var _=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(_,I,c.capture):y.detachEvent?y.detachEvent(Cr(_),I):y.addListener&&y.removeListener&&y.removeListener(I),(_=Gs(y))?(qs(_,c),_.h==0&&(_.src=null,y[Xi]=null)):St(c)}}}function Cr(c){return c in Hs?Hs[c]:Hs[c]="on"+c}function Sa(c,y){if(c.da)c=!0;else{y=new Re(y,this);var _=c.listener,I=c.ha||c.src;c.fa&&Ir(c),c=_.call(I,y)}return c}function Gs(c){return c=c[Xi],c instanceof Sr?c:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ia(c){return typeof c=="function"?c:(c[Qs]||(c[Qs]=function(y){return c.handleEvent(y)}),c[Qs])}function pt(){Y.call(this),this.i=new Sr(this),this.M=this,this.F=null}k(pt,Y),pt.prototype[je]=!0,pt.prototype.removeEventListener=function(c,y,_,I){Ks(this,c,y,_,I)};function mt(c,y){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new me(y,c);else if(y instanceof me)y.target=y.target||c;else{var $=y;y=new me(I,c),V(y,$)}if($=!0,_)for(var G=_.length-1;0<=G;G--){var oe=y.g=_[G];$=Ar(oe,I,!0,y)&&$}if(oe=y.g=c,$=Ar(oe,I,!0,y)&&$,$=Ar(oe,I,!1,y)&&$,_)for(G=0;G<_.length;G++)oe=y.g=_[G],$=Ar(oe,I,!1,y)&&$}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],I=0;I<_.length;I++)St(_[I]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,_,I){return this.i.add(String(c),y,!1,_,I)},pt.prototype.L=function(c,y,_,I){return this.i.add(String(c),y,!0,_,I)};function Ar(c,y,_,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,G=0;G<y.length;++G){var oe=y[G];if(oe&&!oe.da&&oe.capture==_){var ze=oe.listener,gt=oe.ha||oe.src;oe.fa&&qs(c.i,oe),$=ze.call(gt,I)!==!1&&$}}return $&&!I.defaultPrevented}function Ca(c,y,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function ri(c){c.g=Ca(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ji extends Y{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(c){Y.call(this),this.h=c,this.g={}}k(Zi,Y);var Aa=[];function Pa(c){se(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ir(y)},c),c.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),Pa(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=h.JSON.stringify,ka=h.JSON.parse,xa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function es(){}es.prototype.h=null;function Ys(c){return c.h||(c.h=c.i())}function Xs(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){me.call(this,"d")}k(Zn,me);function Js(){me.call(this,"c")}k(Js,me);var er={},Na=null;function ts(){return Na=Na||new pt}er.La="serverreachability";function Da(c){me.call(this,er.La,c)}k(Da,me);function Pr(c){const y=ts();mt(y,new Da(y))}er.STAT_EVENT="statevent";function Va(c,y){me.call(this,er.STAT_EVENT,c),this.stat=y}k(Va,me);function at(c){const y=ts();mt(y,new Va(y,c))}er.Ma="timingevent";function Zs(c,y){me.call(this,er.Ma,c),this.size=y}k(Zs,me);function Mn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ns(){this.g=!0}ns.prototype.xa=function(){this.g=!1};function rs(c,y,_,I,$,G){c.info(function(){if(c.g)if(G)for(var oe="",ze=G.split("&"),gt=0;gt<ze.length;gt++){var Me=ze[gt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var ht=It.split("_");oe=2<=ht.length&&ht[1]=="type"?oe+(It+"="+Me+"&"):oe+(It+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+y+`
`+_+`
`+oe})}function eo(c,y,_,I,$,G,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+y+`
`+_+`
`+G+" "+oe})}function bn(c,y,_,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hd(c,_)+(I?" "+I:"")})}function La(c,y){c.info(function(){return"TIMEOUT: "+y})}ns.prototype.info=function(){};function hd(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return Ra(_)}catch{return y}}var to={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function is(){}k(is,es),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},On=new is;function Fn(c,y,_,I){this.j=c,this.i=y,this.l=_,this.R=I||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Ma={},no={};function ro(c,y,_){c.L=1,c.v=li(fn(y)),c.m=_,c.P=!0,ba(c,null)}function ba(c,y){c.F=Date.now(),qe(c),c.A=fn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ci(_.i,"t",I),c.C=0,_=c.j.J,c.h=new vu,c.g=bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ji(E(c.Y,c,c.g),c.O)),y=c.U,_=c.g,I=c.ca;var $="readystatechange";Array.isArray($)||($&&(Aa[0]=$.toString()),$=Aa);for(var G=0;G<$.length;G++){var oe=Ea(_,$[G],I||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pr(),rs(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const y=this.M;y&&tn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=tn(this.g);var y=this.g.Ba();const In=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||ht!=4||y==7||(y==8||0>=In?Pr(3):Pr(2)),ss(this);var _=this.g.Z();this.X=_;t:if(_u(this)){var I=za(this.g);c="";var $=I.length,G=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ii(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(G&&y==$-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,eo(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,gt=this.g;if((ze=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ze)){var Me=ze;break t}}Me=null}if(_=Me)bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,_);else{this.o=!1,this.s=3,at(12),Tn(this),ii(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<oe.length;)if(mn=dd(this,oe),mn==no){ht==4&&(this.s=4,at(14),_=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ma){this.s=4,at(15),bn(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else bn(this.i,this.l,mn,null),Oa(this,mn);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||oe.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)bn(this.i,this.l,oe,"[Invalid Chunked Response]"),Tn(this),ii(this);else if(0<oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Wa(It),It.M=!0,at(11))}}else bn(this.i,this.l,oe,null),Oa(this,oe);ht==4&&Tn(this),this.o&&!this.J&&(ht==4?mo(this.j,this):(this.o=!1,qe(this)))}else uo(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Tn(this),ii(this)}}}catch{}finally{}};function _u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dd(c,y){var _=c.C,I=y.indexOf(`
`,_);return I==-1?no:(_=Number(y.substring(_,I)),isNaN(_)?Ma:(I+=1,I+_>y.length?no:(y=y.slice(I,I+_),c.C=I+_,y)))}Fn.prototype.cancel=function(){this.J=!0,Tn(this)};function qe(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(E(c.ba,c),y)}function ss(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(La(this.i,this.A),this.L!=2&&(Pr(),at(17)),Tn(this),this.s=2,ii(this)):wu(this,this.S-c)};function ii(c){c.j.G==0||c.J||mo(c.j,c)}function Tn(c){ss(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Pa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Oa(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Qt(_.h,c))){if(!c.K&&Qt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)po(_),$n(_);else break e;fo(_),at(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mn(E(_.Za,_),6e3));if(1>=Tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Dr(_,11)}else if((c.K||_.g==c)&&po(_),!j(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let Me=$[y];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const It=Me[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ht=Me[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const In=Me[5];In!=null&&typeof In=="number"&&0<In&&(I=1.5*In,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const mn=c.g;if(mn){const ds=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var G=I.h;G.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fa(G,G.h),G.h=null))}if(I.D){const yo=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(I.ya=yo,$e(I.I,I.D,yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var oe=c;if(I.qa=Mu(I,I.J?I.ia:null,I.W),oe.K){Su(I.h,oe);var ze=oe,gt=I.L;gt&&(ze.I=gt),ze.B&&(ss(ze),qe(ze)),I.g=oe}else hs(I);0<_.i.length&&ir(_)}else Me[0]!="stop"&&Me[0]!="close"||Dr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Dr(_,7):Dt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Pr(4)}catch{}}var Eu=class{constructor(c,y){this.g=c,this.map=y}};function os(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function Qt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fa(c,y){c.g?c.g.add(y):c.h=y}function Su(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}os.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Iu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return M(c.i)}function io(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],_=c.length,I=0;I<_;I++)y.push(c[I]);return y}y=[],_=0;for(I in c)y[_++]=c[I];return y}function so(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const I in c)y[_++]=I;return y}}}function si(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=so(c),I=io(c),$=I.length,G=0;G<$;G++)y.call(void 0,I[G],_&&_[G],c)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),$=null;if(0<=I){var G=c[_].substring(0,I);$=c[_].substring(I+1)}else G=c[_];y(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Rr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rr){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var y=c.i,_=new tr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ai(this,_),this.m=c.m}else c&&(y=String(c).match(as))?(this.h=!1,ls(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),oi(this,y[4]),this.l=De(y[5]||"",!0),ai(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Rr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ui(y,oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ui(y,oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ui(_,_.charAt(0)=="/"?Pu:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ui(_,ja)),c.join("")};function fn(c){return new Rr(c)}function ls(c,y,_){c.j=_?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ai(c,y,_){y instanceof tr?(c.i=y,nr(c.i,c.h)):(_||(y=ui(y,Ru)),c.i=new tr(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function li(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oo=/[#\/\?@]/g,Au=/[#\?:]/g,Pu=/[#\?]/g,Ru=/[#\?@]/g,ja=/#/g;function tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&fd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=tr.prototype,n.add=function(c,y){Nt(this),this.i=null,c=Sn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function jn(c,y){Nt(c),y=Sn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Un(c,y){return Nt(c),y=Sn(c,y),c.g.has(y)}n.forEach=function(c,y){Nt(this),this.g.forEach(function(_,I){_.forEach(function($){c.call(y,$,I,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let I=0;I<y.length;I++){const $=c[I];for(let G=0;G<$.length;G++)_.push(y[I])}return _},n.V=function(c){Nt(this);let y=[];if(typeof c=="string")Un(this,c)&&(y=y.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Nt(this),this.i=null,c=Sn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ci(c,y,_){jn(c,y),0<_.length&&(c.i=null,c.g.set(Sn(c,y),M(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var I=y[_];const G=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var $=G;oe[I]!==""&&($+="="+encodeURIComponent(String(oe[I]))),c.push($)}}return this.i=c.join("&")};function Sn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nr(c,y){y&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(_,I){var $=I.toLowerCase();I!=$&&(jn(this,I),ci(this,$,_))},c)),c.j=y}function pd(c,y){const _=new ns;if(h.Image){const I=new Image;I.onload=S(en,_,"TestLoadImage: loaded",!0,y,I),I.onerror=S(en,_,"TestLoadImage: error",!1,y,I),I.onabort=S(en,_,"TestLoadImage: abort",!1,y,I),I.ontimeout=S(en,_,"TestLoadImage: timeout",!1,y,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function ku(c,y){const _=new ns,I=new AbortController,$=setTimeout(()=>{I.abort(),en(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout($),G.ok?en(_,"TestPingServer: ok",!0,y):en(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),en(_,"TestPingServer: error",!1,y)})}function en(c,y,_,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(_)}catch{}}function md(){this.g=new xa}function xu(c,y,_){const I=_||"";try{si(c,function($,G){let oe=$;p($)&&(oe=Ra($)),y.push(I+G+"="+encodeURIComponent(oe))})}catch($){throw y.push(I+"type="+encodeURIComponent("_badmap")),$}}function kr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(kr,es),kr.prototype.g=function(){return new us(this.l,this.j)},kr.prototype.i=function(c){return function(){return c}}({});function us(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(us,pt),n=us.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Bn(this):zn(this),this.readyState==3&&Nu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Bn(this))},n.Qa=function(c){this.g&&(this.response=c,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xr(c){let y="";return se(c,function(_,I){y+=I,y+=":",y+=_,y+=`\r
`}),y}function hi(c,y,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=xr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Ye(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ye,pt);var gd=/^https?$/i,Ua=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ys(this.o):Ys(On),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){cs(this,G);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)_.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())_.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),$=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ua,y,void 0))||I||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of _)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){cs(this,G)}};function cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ao(c),pn(c)}function ao(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)Ca(c.Ea,0,c);else if(mt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var I;if(I=oe===0){var $=String(c.D).match(as)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),I=!gd.test($?$.toLowerCase():"")}_=I}if(_)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var G=2<tn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ao(c)}}finally{pn(c)}}}}function pn(c,y){if(c.g){lo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||mt(c,"ready");try{_.onreadystatechange=I}catch{}}}function lo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ka(y)}};function za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(c){const y={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(j(c[I]))continue;var _=F(c[I]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[$]||[];y[$]=G,G.push(_)}D(y,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function $a(c){this.Aa=0,this.i=[],this.j=new ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,c),this.cb=rr("retryDelaySeedMs",1e4,c),this.Wa=rr("forwardChannelMaxRetries",2,c),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new os(c&&c.concurrentRequestLimit),this.Da=new md,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,I){at(0),this.W=c,this.H=y||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Mu(this,null,this.W),ir(this)};function Dt(c){if(co(c),c.G==3){var y=c.U++,_=fn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Nr(c,_),y=new Fn(c,c.j,y),y.L=2,y.v=li(fn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}Lu(c)}function $n(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function co(c){$n(c),c.u&&(h.clearTimeout(c.u),c.u=null),po(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ir(c){if(!dn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ce||ae(),ie||(Ce(),ie=!0),pe.add(y,c),c.B=0}}function yd(c,y){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(E(c.Ga,c,y),Vu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Fn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),V(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=di(this,$,y),_=fn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Nr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(xr(G)))+"&"+y:this.m&&hi(_,this.m,G)),Fa(this.h,$),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),$.T=!0,ro($,_,null)):ro($,_,y),this.G=2}}else this.G==3&&(c?ho(this,c):this.i.length==0||dn(this.h)||ho(this))};function ho(c,y){var _;y?_=y.l:_=c.U++;const I=fn(c.I);$e(I,"SID",c.K),$e(I,"RID",_),$e(I,"AID",c.T),Nr(c,I),c.m&&c.o&&hi(I,c.m,c.o),_=new Fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=di(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fa(c.h,_),ro(_,I,y)}function Nr(c,y){c.H&&se(c.H,function(_,I){$e(y,I,_)}),c.l&&si({},function(_,I){$e(y,I,_)})}function di(c,y,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var $=c.i;let G=-1;for(;;){const oe=["count="+_];G==-1?0<_?(G=$[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let ze=!0;for(let gt=0;gt<_;gt++){let Me=$[gt].g;const It=$[gt].map;if(Me-=G,0>Me)G=Math.max(0,$[gt].g-100),ze=!1;else try{xu(It,oe,"req"+Me+"_")}catch{I&&I(It)}}if(ze){I=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,I}function hs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ce||ae(),ie||(Ce(),ie=!0),pe.add(y,c),c.v=0}}function fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(E(c.Fa,c),Vu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),$n(this),Du(this))};function Wa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Nr(c,y),c.m&&c.o&&hi(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=li(fn(y)),_.m=null,_.P=!0,ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),fo(this),at(19))};function po(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function mo(c,y){var _=null;if(c.g==y){po(c),Wa(c),c.g=null;var I=2}else if(Qt(c.h,y))_=y.D,Su(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;I=ts(),mt(I,new Zs(I,_)),ir(c)}else hs(c);else if($=y.s,$==3||$==0&&0<y.X||!(I==1&&yd(c,y)||I==2&&fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),$){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function Vu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Dr(c,y){if(c.j.info("Error code "+y),y==2){var _=E(c.fb,c),I=c.Xa;const $=!I;I=new Rr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ls(I,"https"),li(I),$?pd(I.toString(),_):ku(I.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),Lu(c),co(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const y=Iu(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ka,y),x(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Mu(c,y,_){var I=_ instanceof Rr?fn(_):new Rr(_);if(I.g!="")y&&(I.g=y+"."+I.g),oi(I,I.s);else{var $=h.location;I=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var G=new Rr(null);I&&ls(G,I),y&&(G.g=y),$&&oi(G,$),_&&(G.l=_),I=G}return _=c.D,y=c.ya,_&&y&&$e(I,_,y),$e(I,"VER",c.la),Nr(c,I),I}function bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new kr({eb:_})):new Ye(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(c,y){return new Yt(c,y)};function Yt(c,y){pt.call(this),this.g=new $a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!j(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new sr(this)}k(Yt,pt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ra(c),c=_);y.i.push(new Eu(y.Ya++,c)),y.G==3&&ir(y)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function Ou(c){Zn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Ou,Zn);function Fu(){Js.call(this),this.status=1}k(Fu,Js);function sr(c){this.g=c}k(sr,qa),sr.prototype.ua=function(){mt(this.g,"a")},sr.prototype.ta=function(c){mt(this.g,new Ou(c))},sr.prototype.sa=function(c){mt(this.g,new Fu)},sr.prototype.ra=function(){mt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,LT=function(){return new go},VT=function(){return ts()},DT=er,Tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,Gc=to,yu.COMPLETE="complete",NT=yu,Xs.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",pt.prototype.listen=pt.prototype.K,El=Xs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,xT=Ye}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new lm("@firebase/firestore");function Fo(){return Us.logLevel}function ue(n,...e){if(Us.logLevel<=xe.DEBUG){const t=e.map(Em);Us.debug(`Firestore (${ha}): ${n}`,...t)}}function Gr(n,...e){if(Us.logLevel<=xe.ERROR){const t=e.map(Em);Us.error(`Firestore (${ha}): ${n}`,...t)}}function ea(n,...e){if(Us.logLevel<=xe.WARN){const t=e.map(Em);Us.warn(`Firestore (${ha}): ${n}`,...t)}}function Em(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Be(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ek{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class tk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nk{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Oi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Oi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new MT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qt(e)}}class rk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ik{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new rk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ok{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new sk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=ak(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function ta(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends Ol{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Ol{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return lk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}function uk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new ji(s,_e.empty(),e)}function ck(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(Ie.min(),_e.empty(),-1)}static max(){return new ji(Ie.max(),_e.empty(),-1)}}function hk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==dk)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(s=>s?Q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++h,h===a&&r(u)},g=>s(g))}})}static doWhile(e,t){return new Q((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function pk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zh.oe=-1;function $h(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function mk(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=P_(e)),e=yk(n.get(t),e);return P_(e)}function yk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function P_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??bt.RED,this.left=s??bt.EMPTY,this.right=a??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new bt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,s,a){return this}insert(e,t,r){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new _n([])}unionWith(e){let t=new Et(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FT("Invalid base64 string: "+a):a}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if(Be(!!n),typeof n=="string"){let e=0;const t=vk.exec(n);if(Be(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Wh(n){const e=n.mapValue.fields.__previous_value__;return Tm(e)?Wh(e):e}function Fl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class jl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tm(n)?4:Ek(n)?9007199254740991:wk(n)?10:11:Se()}function vr(n,e){if(n===e)return!0;const t=zi(n);if(t!==zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fl(n).isEqual(Fl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ui(s.timestampValue),h=Ui(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Bi(s.bytesValue).isEqual(Bi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ct(s.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ct(s.integerValue)===ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ct(s.doubleValue),h=ct(a.doubleValue);return u===h?yh(u)===yh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(R_(u)!==R_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!vr(u[f],h[f])))return!1;return!0}(n,e);default:return Se()}}function Ul(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function na(n,e){if(n===e)return 0;const t=zi(n),r=zi(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return x_(n.timestampValue,e.timestampValue);case 4:return x_(Fl(n),Fl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Bi(a),f=Bi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=Ve(h[p],f[p]);if(g!==0)return g}return Ve(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ve(ct(a.latitude),ct(u.latitude));return h!==0?h:Ve(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return N_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,g;const w=a.fields||{},E=u.fields||{},S=(h=w.value)===null||h===void 0?void 0:h.arrayValue,k=(f=E.value)===null||f===void 0?void 0:f.arrayValue,M=Ve(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:N_(S,k)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Mc.mapValue&&u===Mc.mapValue)return 0;if(a===Mc.mapValue)return 1;if(u===Mc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const E=Ve(f[w],g[w]);if(E!==0)return E;const S=na(h[f[w]],p[g[w]]);if(S!==0)return S}return Ve(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Se()}}function x_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ui(n),r=Ui(e),s=Ve(t.seconds,r.seconds);return s!==0?s:Ve(t.nanos,r.nanos)}function N_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=na(t[s],r[s]);if(a)return a}return Ve(t.length,r.length)}function ra(n){return Sp(n)}function Sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ui(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Sp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Sp(t.fields[u])}`;return s+"}"}(n.mapValue):Se()}function Qc(n){switch(zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(n);return e?16+Qc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Qc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Gi(r.fields,(a,u)=>{s+=a.length+Qc(u)}),s}(n.mapValue);default:throw Se()}}function Ip(n){return!!n&&"integerValue"in n}function Sm(n){return!!n&&"arrayValue"in n}function D_(n){return!!n&&"nullValue"in n}function V_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yc(n){return!!n&&"mapValue"in n}function wk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ek(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(t)}setAll(e){let t=Ot.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Al(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Yc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Gi(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new cn(Al(this.value))}}function jT(n){const e=[];return Gi(n.fields,(t,r)=>{const s=new Ot([t]);if(Yc(r)){const a=jT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,Ie.min(),Ie.min(),Ie.min(),cn.empty(),0)}static newFoundDocument(e,t,r,s){return new Ht(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new Ht(e,2,t,Ie.min(),Ie.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Ie.min(),Ie.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.position=e,this.inclusive=t}}function L_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=na(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function M_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class _t extends UT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ik(e,t,r):t==="array-contains"?new Pk(e,r):t==="in"?new Rk(e,r):t==="not-in"?new kk(e,r):t==="array-contains-any"?new xk(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ck(e,r):new Ak(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(na(t,this.value)):t!==null&&zi(this.value)===zi(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends UT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return BT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BT(n){return n.op==="and"}function zT(n){return Sk(n)&&BT(n)}function Sk(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Cp(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(zT(n))return n.filters.map(e=>Cp(e)).join(",");{const e=n.filters.map(t=>Cp(t)).join(",");return`${n.op}(${e})`}}function $T(n,e){return n instanceof _t?function(r,s){return s instanceof _t&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(n,e):n instanceof _r?function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&$T(u,s.filters[h]),!0):!1}(n,e):void Se()}function WT(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(WT).join(" ,")+"}"}(n):"Filter"}class Ik extends _t{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends _t{constructor(e,t){super(e,"in",t),this.keys=qT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ak extends _t{constructor(e,t){super(e,"not-in",t),this.keys=qT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Pk extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sm(t)&&Ul(t.arrayValue,this.value)}}class Rk extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ul(this.value.arrayValue,t)}}class kk extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ul(this.value.arrayValue,t)}}class xk extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function b_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new Nk(n,e,t,r,s,a,u)}function Im(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ra(r)).join(",")),e.ue=t}return e.ue}function Cm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$T(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M_(n.startAt,e.startAt)&&M_(n.endAt,e.endAt)}function Ap(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dk(n,e,t,r,s,a,u,h){return new qh(n,e,t,r,s,a,u,h)}function HT(n){return new qh(n)}function O_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vk(n){return n.collectionGroup!==null}function Pl(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Et(Ot.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new _h(a,r))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new _h(Ot.keyField(),r))}return e.ce}function fr(n){const e=Ae(n);return e.le||(e.le=Lk(e,Pl(n))),e.le}function Lk(n,e){if(n.limitType==="F")return b_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new _h(s.field,a)});const t=n.endAt?new vh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vh(n.startAt.position,n.startAt.inclusive):null;return b_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pp(n,e,t){return new qh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return Cm(fr(n),fr(e))&&n.limitType===e.limitType}function KT(n){return`${Im(fr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>WT(s)).join(", ")}]`),$h(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ra(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(fr(n))}; limitType=${n.limitType})`}function Kh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Pl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=L_(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Pl(r),s)||r.endAt&&!function(u,h,f){const p=L_(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Pl(r),s))}(n,e)}function Mk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GT(n){return(e,t)=>{let r=!1;for(const s of Pl(n)){const a=bk(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function bk(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?na(f,p):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new it(_e.comparator);function Qr(){return Ok}const QT=new it(_e.comparator);function Tl(...n){let e=QT;for(const t of n)e=e.insert(t.key,t);return e}function YT(n){let e=QT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xs(){return Rl()}function XT(){return Rl()}function Rl(){return new zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fk=new it(_e.comparator),jk=new Et(_e.comparator);function Ne(...n){let e=jk;for(const t of n)e=e.add(t);return e}const Uk=new Et(Ve);function Bk(){return Uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function JT(n){return{integerValue:""+n}}function zk(n,e){return mk(e)?JT(e):Am(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function $k(n,e,t){return n instanceof wh?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Tm(a)&&(a=Wh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Bl?e0(n,e):n instanceof zl?t0(n,e):function(s,a){const u=ZT(s,a),h=F_(u)+F_(s.Pe);return Ip(u)&&Ip(s.Pe)?JT(h):Am(s.serializer,h)}(n,e)}function Wk(n,e,t){return n instanceof Bl?e0(n,e):n instanceof zl?t0(n,e):t}function ZT(n,e){return n instanceof Eh?function(r){return Ip(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wh extends Gh{}class Bl extends Gh{constructor(e){super(),this.elements=e}}function e0(n,e){const t=n0(e);for(const r of n.elements)t.some(s=>vr(s,r))||t.push(r);return{arrayValue:{values:t}}}class zl extends Gh{constructor(e){super(),this.elements=e}}function t0(n,e){let t=n0(e);for(const r of n.elements)t=t.filter(s=>!vr(s,r));return{arrayValue:{values:t}}}class Eh extends Gh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function F_(n){return ct(n.integerValue||n.doubleValue)}function n0(n){return Sm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function qk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Bl&&s instanceof Bl||r instanceof zl&&s instanceof zl?ta(r.elements,s.elements,vr):r instanceof Eh&&s instanceof Eh?vr(r.Pe,s.Pe):r instanceof wh&&s instanceof wh}(n.transform,e.transform)}class Hk{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qh{}function r0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pm(n.key,Xn.none()):new iu(n.key,n.data,Xn.none());{const t=n.data,r=cn.empty();let s=new Et(Ot.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Qi(n.key,r,new _n(s.toArray()),Xn.none())}}function Kk(n,e,t){n instanceof iu?function(s,a,u){const h=s.value.clone(),f=U_(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Qi?function(s,a,u){if(!Xc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=U_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(i0(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function kl(n,e,t,r){return n instanceof iu?function(a,u,h,f){if(!Xc(a.precondition,u))return h;const p=a.value.clone(),g=B_(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qi?function(a,u,h,f){if(!Xc(a.precondition,u))return h;const p=B_(a.fieldTransforms,f,u),g=u.data;return g.setAll(i0(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return Xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Gk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=ZT(r.transform,s||null);a!=null&&(t===null&&(t=cn.empty()),t.set(r.field,a))}return t||null}function j_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(a,u)=>qk(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class iu extends Qh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qi extends Qh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function i0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function U_(n,e,t){const r=new Map;Be(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,Wk(u,h,t[s]))}return r}function B_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,$k(a,u,e))}return r}class Pm extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qk extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Kk(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=r0(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(t,r)=>j_(t,r))&&ta(this.baseMutations,e.baseMutations,(t,r)=>j_(t,r))}}class Rm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Be(e.mutations.length===r.length);let s=function(){return Fk}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Rm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,be;function Zk(n){switch(n){default:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function s0(n){if(n===void 0)return Gr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case ft.OK:return ee.OK;case ft.CANCELLED:return ee.CANCELLED;case ft.UNKNOWN:return ee.UNKNOWN;case ft.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ft.INTERNAL:return ee.INTERNAL;case ft.UNAVAILABLE:return ee.UNAVAILABLE;case ft.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ft.NOT_FOUND:return ee.NOT_FOUND;case ft.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ft.ABORTED:return ee.ABORTED;case ft.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ft.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(be=ft||(ft={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Ls([4294967295,4294967295],0);function z_(n){const e=ex().encode(n),t=new kT;return t.update(e),new Uint8Array(t.digest())}function $_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([s,a],0)]}class km{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sl(`Invalid padding: ${t}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ls.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(Ls.fromNumber(r)));return s.compare(tx)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=z_(e),[r,s]=$_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new km(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=z_(e),[r,s]=$_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yh(Ie.min(),s,new it(Ve),Qr(),Ne())}}class su{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new su(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class o0{constructor(e,t){this.targetId=e,this.me=t}}class a0{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class W_{constructor(){this.fe=0,this.ge=q_(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),r=Ne();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new su(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=q_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nx{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=bc(),this.Qe=bc(),this.Ke=new it(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Ap(a))if(r===0){const u=new _e(a.path);this.We(t,u,Ht.newNoDocument(u,Ie.min()))}else Be(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Bi(r).toUint8Array()}catch(f){if(f instanceof FT)return ea("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new km(u,s,a)}catch(f){return ea(f instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&Ap(h.target)){const f=new _e(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Ht.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Ne();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Yh(e,t,this.Ke,this.ke,r);return this.ke=Qr(),this.qe=bc(),this.Qe=bc(),this.Ke=new it(Ve),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new W_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new W_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function bc(){return new it(_e.comparator)}function q_(){return new it(_e.comparator)}const rx={asc:"ASCENDING",desc:"DESCENDING"},ix={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sx={and:"AND",or:"OR"};class ox{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(n,e){return n.useProto3Json||$h(e)?e:{value:e}}function Th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ax(n,e){return Th(n,e.toTimestamp())}function pr(n){return Be(!!n),Ie.fromTimestamp(function(t){const r=Ui(t);return new wt(r.seconds,r.nanos)}(n))}function xm(n,e){return kp(n,e).canonicalString()}function kp(n,e){const t=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function u0(n){const e=Je.fromString(n);return Be(p0(e)),e}function xp(n,e){return xm(n.databaseId,e.path)}function Yf(n,e){const t=u0(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(h0(t))}function c0(n,e){return xm(n.databaseId,e)}function lx(n){const e=u0(n);return e.length===4?Je.emptyPath():h0(e)}function Np(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h0(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function H_(n,e,t){return{name:xp(n,e),fields:t.value.mapValue.fields}}function ux(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Be(g===void 0||typeof g=="string"),Ft.fromBase64String(g||"")):(Be(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ft.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?ee.UNKNOWN:s0(p.code);return new ge(g,p.message||"")}(u);t=new a0(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yf(n,r.document.name),a=pr(r.document.updateTime),u=r.document.createTime?pr(r.document.createTime):Ie.min(),h=new cn({mapValue:{fields:r.document.fields}}),f=Ht.newFoundDocument(s,a,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Jc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yf(n,r.document),a=r.readTime?pr(r.readTime):Ie.min(),u=Ht.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Jc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yf(n,r.document),a=r.removedTargetIds||[];t=new Jc([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Jk(s,a),h=r.targetId;t=new o0(h,u)}}return t}function cx(n,e){let t;if(e instanceof iu)t={update:H_(n,e.key,e.value)};else if(e instanceof Pm)t={delete:xp(n,e.key)};else if(e instanceof Qi)t={update:H_(n,e.key,e.data),updateMask:_x(e.fieldMask)};else{if(!(e instanceof Qk))return Se();t={verify:xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof wh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Eh)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:ax(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(n,e.precondition)),t}function hx(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?pr(s.updateTime):pr(a);return u.isEqual(Ie.min())&&(u=pr(a)),new Hk(u,s.transformResults||[])}(t,e))):[]}function dx(n,e){return{documents:[c0(n,e.path)]}}function fx(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=c0(n,s);const a=function(p){if(p.length!==0)return f0(_r.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Uo(E.field),direction:gx(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Rp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function px(n){let e=lx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Be(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(w){const E=d0(w);return E instanceof _r&&zT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(k){return new _h(Bo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,$h(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,S=w.values||[];return new vh(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,S=w.values||[];return new vh(S,E)}(t.endAt)),Dk(e,s,u,a,h,"F",f,p)}function mx(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bo(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bo(t.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bo(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bo(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Bo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(r=>d0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function gx(n){return rx[n]}function yx(n){return ix[n]}function vx(n){return sx[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return Ot.fromServerFormat(n.fieldPath)}function f0(n){return n instanceof _t?function(t){if(t.op==="=="){if(V_(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(D_(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V_(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(D_(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:yx(t.op),value:t.value}}}(n):n instanceof _r?function(t){const r=t.getFilters().map(s=>f0(s));return r.length===1?r[0]:{compositeFilter:{op:vx(t.op),filters:r}}}(n):Se()}function _x(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,r,s,a=Ie.min(),u=Ie.min(),h=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.ht=e}}function Ex(n){const e=px({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.ln=new Sx}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ji.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class Sx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Et(Je.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ia(0)}static Qn(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_([n,e],[t,r]){const s=Ve(n,t);return s===0?Ve(e,r):s}class Ix{constructor(e){this.Gn=e,this.buffer=new Et(G_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();G_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.Yn(3e5)})}}class Ax{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(zh.oe);const r=new Ix(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(K_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Fo()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function Px(n,e){return new Ax(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&kl(r.mutation,s,_n.empty(),wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const s=xs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Tl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Qr();const u=Rl(),h=function(){return Rl()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Qi)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),kl(g.mutation,p,g.mutation.getFieldMask(),wt.now())):u.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var w;return h.set(p,new kx(g,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Rl();let s=new it((u,h)=>u-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||_n.empty();g=h.applyToLocalView(p,g),r.set(f,g);const w=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,w=XT();g.forEach(E=>{if(!a.has(E)){const S=r0(t.get(E),r.get(E));S!==null&&w.set(E,S),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Q.resolve(xs());let h=-1,f=a;return u.next(p=>Q.forEach(p,(g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(g=>({batchId:h,changes:YT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=Tl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Tl();return this.indexManager.getCollectionParents(e,a).next(h=>Q.forEach(h,f=>{const p=function(w,E){return new qh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Ht.newInvalidDocument(g)))});let h=Tl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&kl(g.mutation,p,_n.empty(),wt.now()),Kh(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:pr(s.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Ex(s.bundledQuery),readTime:pr(s.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.overlays=new it(_e.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xs();return Q.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const s=xs(),a=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new it((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=xs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=xs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Q.resolve(h)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Xk(t,r));let a=this.Er.get(t);a===void 0&&(a=Ne(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.dr=new Et(Rt.Ar),this.Rr=new Et(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new _e(new Je([])),r=new Rt(t,e),s=new Rt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new Je([])),r=new Rt(t,e),s=new Rt(t,e+1);let a=Ne();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Rt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Rt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Yk(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.vr=this.vr.add(new Rt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),s=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const h=this.Cr(u.br);a.push(h)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(Ve);return t.forEach(s=>{const a=new Rt(s,0),u=new Rt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),Q.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new _e(a),0);let h=new Et(Ve);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.br)),!0)},u),Q.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Q.forEach(t.mutations,s=>{const a=new Rt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Rt(t,0),s=this.vr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.Nr=e,this.docs=function(){return new it(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ht.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Qr();const u=t.path,h=new _e(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||hk(ck(g),r)<=0||(s.has(g.key)||Kh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Se()}Lr(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bx(this)}getSize(e){return Q.resolve(this.size)}}class bx extends Rx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.persistence=e,this.Br=new zs(t=>Im(t),Cm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Nm,this.targetCount=0,this.Qr=ia.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Q.waitFor(a).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Vx,this.referenceDelegate=e(this),this.Gr=new Ox(this),this.indexManager=new Tx,this.remoteDocumentCache=function(s){return new Mx(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new wx(t),this.jr=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new Lx(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new Fx(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Q.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class Fx extends fk{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.Zr=new Nm,this.Xr=null}static ei(e){return new Dm(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,r=>{const s=_e.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Sh{constructor(e,t){this.persistence=e,this.ri=new zs(r=>gk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Px(this,t)}static ei(e,t){return new Sh(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Q.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qc(e.data.value)),t}ir(e,t,r){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Ne(),s=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Vm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return vC()?8:pk(Gt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new jx;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Fo()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Fo()<=xe.DEBUG&&ue("QueryEngine","Query:",jo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Fo()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):Q.resolve())}Xi(e,t){if(O_(t))return Q.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Pp(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,h);return this.ss(t,p,u,f.readTime)?this.Xi(e,Pp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return O_(t)||s.isEqual(Ie.min())?Q.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Q.resolve(null):(Fo()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jo(t)),this.os(e,u,t,uk(s,-1)).next(h=>h))})}rs(e,t){let r=new Et(GT(e));return t.forEach((s,a)=>{Kh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Fo()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",jo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ji.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new it(Ve),this.cs=new zs(a=>Im(a),Cm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zx(n,e,t,r){return new Bx(n,e,t,r)}async function g0(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ne();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:h}))})})}function $x(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const w=p.batch,E=w.keys();let S=Q.resolve();return E.forEach(k=>{S=S.next(()=>g.getEntry(f,k)).next(M=>{const x=p.docVersions.get(k);Be(x!==null),M.version.compareTo(x)<0&&(w.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function y0(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Wx(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((g,w)=>{const E=s.get(w);if(!E)return;h.push(t.Gr.removeMatchingKeys(a,g.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,g.addedDocuments,w)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Ft.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(w,S),function(M,x,U){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,S,g)&&h.push(t.Gr.updateTargetData(a,S))});let f=Qr(),p=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(qx(a,u,e.documentUpdates).next(g=>{f=g.Is,p=g.Es})),!r.isEqual(Ie.min())){const g=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Q.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function qx(n,e,t){let r=Ne(),s=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Qr();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Is:u,Es:s}})}function Hx(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kx(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Q.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Vi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Dp(n,e,t){const r=Ae(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!fa(u))throw u;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Q_(n,e,t){const r=Ae(n);let s=Ie.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const w=Ae(f),E=w.cs.get(g);return E!==void 0?Q.resolve(w.us.get(E)):w.Gr.getTargetData(p,g)}(r,u,fr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?a:Ne())).next(h=>(Gx(r,Mk(e),h),{documents:h,ds:a})))}function Gx(n,e,t){let r=n.ls.get(e)||Ie.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Y_{constructor(){this.activeTargetIds=Bk()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qx{constructor(){this._o=new Y_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Y_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Xf(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class Zx extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const h=Xf(),f=this.No(t,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,f,p,s).then(g=>(ue("RestConnection",`Received RPC '${t}' ${h}: `,g),g),g=>{throw ea("RestConnection",`RPC '${t}' ${h} failed with error: `,g,"url: ",f,"request:",s),g})}ko(t,r,s,a,u,h){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=Xx[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=Xf();return new Promise((u,h)=>{const f=new xT;f.setWithCredentials(!0),f.listenOnce(NT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Gc.NO_ERROR:const g=f.getResponseJson();ue($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Gc.TIMEOUT:ue($t,`RPC '${e}' ${a} timed out`),h(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const w=f.getStatus();if(ue($t,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const k=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN}(S.status);h(new ge(k,S.message))}else h(new ge(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ue($t,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ue($t,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=Xf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=LT(),h=VT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ue($t,`Creating RPC '${e}' stream ${s}: ${g}`,f);const w=u.createWebChannel(g,f);let E=!1,S=!1;const k=new Jx({Eo:x=>{S?ue($t,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(E||(ue($t,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ue($t,`RPC '${e}' stream ${s} sending:`,x),w.send(x))},Ao:()=>w.close()}),M=(x,U,j)=>{x.listen(U,q=>{try{j(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return M(w,El.EventType.OPEN,()=>{S||(ue($t,`RPC '${e}' stream ${s} transport opened.`),k.So())}),M(w,El.EventType.CLOSE,()=>{S||(S=!0,ue($t,`RPC '${e}' stream ${s} transport closed`),k.Do())}),M(w,El.EventType.ERROR,x=>{S||(S=!0,ea($t,`RPC '${e}' stream ${s} transport errored:`,x),k.Do(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),M(w,El.EventType.MESSAGE,x=>{var U;if(!S){const j=x.data[0];Be(!!j);const q=j,ne=(q==null?void 0:q.error)||((U=q[0])===null||U===void 0?void 0:U.error);if(ne){ue($t,`RPC '${e}' stream ${s} received error:`,ne);const Z=ne.status;let se=function(P){const V=ft[P];if(V!==void 0)return s0(V)}(Z),D=ne.message;se===void 0&&(se=ee.INTERNAL,D="Unknown error status: "+Z+" with message "+ne.message),S=!0,k.Do(new ge(se,D)),w.close()}else ue($t,`RPC '${e}' stream ${s} received:`,j),k.vo(j)}}),M(h,DT.STAT_EVENT,x=>{x.stat===Tp.PROXY?ue($t,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Tp.NOPROXY&&ue($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return new ox(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t,r,s,a,u,h,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new v0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ge(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e2 extends _0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=ux(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?pr(u.readTime):Ie.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Np(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Ap(f)?{documents:dx(a,f)}:{query:fx(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=l0(a,u.resumeToken);const p=Rp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Th(a,u.snapshotVersion.toTimestamp());const p=Rp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=mx(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.c_(t)}}class t2 extends _0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hx(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Np(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cx(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,kp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ee.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,kp(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ee.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class r2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Gr(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{$s(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.k_.add(4),await ou(p),p.K_.set("Unknown"),p.k_.delete(4),await Jh(p)}(this))})}),this.K_=new r2(r,s)}}async function Jh(n){if($s(n))for(const e of n.q_)await e(!0)}async function ou(n){for(const e of n.q_)await e(!1)}function w0(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Om(t)?bm(t):pa(t).s_()&&Mm(t,e))}function Lm(n,e){const t=Ae(n),r=pa(t);t.B_.delete(e),r.s_()&&E0(t,e),t.B_.size===0&&(r.s_()?r.a_():$s(t)&&t.K_.set("Unknown"))}function Mm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).V_(e)}function E0(n,e){n.U_.xe(e),pa(n).m_(e)}function bm(n){n.U_=new nx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.K_.F_()}function Om(n){return $s(n)&&!pa(n).i_()&&n.B_.size>0}function $s(n){return Ae(n).k_.size===0}function T0(n){n.U_=void 0}async function s2(n){n.K_.set("Online")}async function o2(n){n.B_.forEach((e,t)=>{Mm(n,e)})}async function a2(n,e){T0(n),Om(n)?(n.K_.O_(e),bm(n)):n.K_.set("Unknown")}async function l2(n,e,t){if(n.K_.set("Online"),e instanceof a0&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.B_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.B_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(n,r)}else if(e instanceof Jc?n.U_.$e(e):e instanceof o0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const r=await y0(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.B_.get(p);g&&a.B_.set(p,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const g=a.B_.get(f);if(!g)return;a.B_.set(f,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),E0(a,f);const w=new Vi(g.target,f,p,g.sequenceNumber);Mm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Ih(n,r)}}async function Ih(n,e,t){if(!fa(e))throw e;n.k_.add(1),await ou(n),n.K_.set("Offline"),t||(t=()=>y0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Jh(n)})}function S0(n,e){return e().catch(t=>Ih(n,t,e))}async function Zh(n){const e=Ae(n),t=$i(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;u2(e);)try{const s=await Hx(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,c2(e,s)}catch(s){await Ih(e,s)}I0(e)&&C0(e)}function u2(n){return $s(n)&&n.L_.length<10}function c2(n,e){n.L_.push(e);const t=$i(n);t.s_()&&t.f_&&t.g_(e.mutations)}function I0(n){return $s(n)&&!$i(n).i_()&&n.L_.length>0}function C0(n){$i(n).start()}async function h2(n){$i(n).w_()}async function d2(n){const e=$i(n);for(const t of n.L_)e.g_(t.mutations)}async function f2(n,e,t){const r=n.L_.shift(),s=Rm.from(r,e,t);await S0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Zh(n)}async function p2(n,e){e&&$i(n).f_&&await async function(r,s){if(function(u){return Zk(u)&&u!==ee.ABORTED}(s.code)){const a=r.L_.shift();$i(r).__(),await S0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Zh(r)}}(n,e),I0(n)&&C0(n)}async function J_(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=$s(t);t.k_.add(3),await ou(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Jh(t)}async function m2(n,e){const t=Ae(n);e?(t.k_.delete(2),await Jh(t)):e||(t.k_.add(2),await ou(t),t.K_.set("Unknown"))}function pa(n){return n.W_||(n.W_=function(t,r,s){const a=Ae(t);return a.b_(),new e2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:s2.bind(null,n),mo:o2.bind(null,n),po:a2.bind(null,n),R_:l2.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Om(n)?bm(n):n.K_.set("Unknown")):(await n.W_.stop(),T0(n))})),n.W_}function $i(n){return n.G_||(n.G_=function(t,r,s){const a=Ae(t);return a.b_(),new t2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:h2.bind(null,n),po:p2.bind(null,n),p_:d2.bind(null,n),y_:f2.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Zh(n)):(await n.G_.stop(),n.L_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Fm(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),fa(n))return new ge(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Tl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.z_=new it(_e.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class sa{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new sa(e,t,Xo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class y2{constructor(){this.queries=ew(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=ew(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function ew(){return new zs(n=>KT(n),Hh)}async function v2(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new g2,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=jm(u,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Um(t)}async function _2(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function w2(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(s)&&(r=!0);u.H_=s}}r&&Um(t)}function E2(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function Um(n){n.X_.forEach(e=>{e.next()})}var Vp,tw;(tw=Vp||(Vp={})).na="default",tw.Cache="cache";class T2{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.key=e}}class P0{constructor(e){this.key=e}}class S2{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ne(),this.mutatedKeys=Ne(),this.Va=GT(e),this.ma=new Xo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Z_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,w)=>{const E=s.get(g),S=Kh(this.query,w)?w:null,k=!!E&&this.mutatedKeys.has(E.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?k!==M&&(r.track({type:3,doc:S}),x=!0):this.ya(E,S)||(r.track({type:2,doc:S}),x=!0,(f&&this.Va(S,f)>0||p&&this.Va(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(f||p)&&(h=!0)),x&&(S?(u=u.add(S),a=M?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,w)=>function(S,k){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return M(S)-M(k)}(g.type,w.type)||this.Va(g.doc,w.doc)),this.wa(r),s=s!=null&&s;const h=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new sa(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Z_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ne(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new P0(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new A0(r))}),t}va(e){this.da=e.ds,this.Ra=Ne();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class I2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class C2{constructor(e){this.key=e,this.Fa=!1}}class A2{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new zs(h=>KT(h),Hh),this.Oa=new Map,this.Na=new Set,this.La=new it(_e.comparator),this.Ba=new Map,this.ka=new Nm,this.qa={},this.Qa=new Map,this.Ka=ia.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function P2(n,e,t=!0){const r=V0(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await R0(r,e,t,!0),s}async function R2(n,e){const t=V0(n);await R0(t,e,!0,!1)}async function R0(n,e,t,r){const s=await Kx(n.localStore,fr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await k2(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&w0(n.remoteStore,s),h}async function k2(n,e,t,r,s){n.Ua=(w,E,S)=>async function(M,x,U,j){let q=x.view.ga(U);q.ss&&(q=await Q_(M.localStore,x.query,!1).then(({documents:D})=>x.view.ga(D,q)));const ne=j&&j.targetChanges.get(x.targetId),Z=j&&j.targetMismatches.get(x.targetId)!=null,se=x.view.applyChanges(q,M.isPrimaryClient,ne,Z);return rw(M,x.targetId,se.ba),se.snapshot}(n,w,E,S);const a=await Q_(n.localStore,e,!0),u=new S2(e,a.ds),h=u.ga(a.documents),f=su.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);rw(n,t,p.ba);const g=new I2(e,t,u);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function x2(n,e,t){const r=Ae(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Hh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Lm(r.remoteStore,s.targetId),Lp(r,s.targetId)}).catch(da)):(Lp(r,s.targetId),await Dp(r.localStore,s.targetId,!0))}async function N2(n,e){const t=Ae(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(t.remoteStore,r.targetId))}async function D2(n,e,t){const r=j2(n);try{const s=await function(u,h){const f=Ae(u),p=wt.now(),g=h.reduce((S,k)=>S.add(k.key),Ne());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=Qr(),M=Ne();return f.hs.getEntries(S,g).next(x=>{k=x,k.forEach((U,j)=>{j.isValidDocument()||(M=M.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,k)).next(x=>{w=x;const U=[];for(const j of h){const q=Gk(j,w.get(j.key).overlayedDocument);q!=null&&U.push(new Qi(j.key,q,jT(q.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,U,h)}).next(x=>{E=x;const U=x.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(S,x.batchId,U)})}).then(()=>({batchId:E.batchId,changes:YT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.qa[u.currentUser.toKey()];p||(p=new it(Ve)),p=p.insert(h,f),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await au(r,s.changes),await Zh(r.remoteStore)}catch(s){const a=jm(s,"Failed to persist write");t.reject(a)}}async function k0(n,e){const t=Ae(n);try{const r=await Wx(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?Be(u.Fa):s.removedDocuments.size>0&&(Be(u.Fa),u.Fa=!1))}),await au(t,r,e)}catch(r){await da(r)}}function nw(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let p=!1;f.queries.forEach((g,w)=>{for(const E of w.J_)E.ea(h)&&(p=!0)}),p&&Um(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V2(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new it(_e.comparator);u=u.insert(a,Ht.newNoDocument(a,Ie.min()));const h=Ne().add(a),f=new Yh(Ie.min(),new Map,new it(Ve),u,h);await k0(r,f),r.La=r.La.remove(a),r.Ba.delete(e),Bm(r)}else await Dp(r.localStore,e,!1).then(()=>Lp(r,e,t)).catch(da)}async function L2(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await $x(t.localStore,e);N0(t,r,null),x0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await au(t,s)}catch(s){await da(s)}}async function M2(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>(Be(w!==null),g=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);N0(r,e,t),x0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await au(r,s)}catch(s){await da(s)}}function x0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function N0(n,e,t){const r=Ae(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||D0(n,r)})}function D0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Lm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Bm(n))}function rw(n,e,t){for(const r of t)r instanceof A0?(n.ka.addReference(r.key,e),b2(n,r)):r instanceof P0?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||D0(n,r.key)):Se()}function b2(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(r),Bm(n))}function Bm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(Je.fromString(e)),r=n.Ka.next();n.Ba.set(r,new C2(t)),n.La=n.La.insert(t,r),w0(n.remoteStore,new Vi(fr(HT(t.path)),r,"TargetPurposeLimboResolution",zh.oe))}}async function au(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Vm.zi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,p){const g=Ae(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(p,E=>Q.forEach(E.Wi,S=>g.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>Q.forEach(E.Gi,S=>g.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!fa(w))throw w;ue("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const S=g.us.get(E),k=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(k);g.us=g.us.insert(E,M)}}}(r.localStore,a))}async function O2(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await g0(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new ge(ee.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(t,r.Ts)}}function F2(n,e){const t=Ae(n),r=t.Ba.get(e);if(r&&r.Fa)return Ne().add(r.key);{let s=Ne();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const h=t.xa.get(u);s=s.unionWith(h.view.fa)}return s}}function V0(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V2.bind(null,e),e.Ma.R_=w2.bind(null,e.eventManager),e.Ma.Wa=E2.bind(null,e.eventManager),e}function j2(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zx(this.persistence,new Ux,e.initialUser,this.serializer)}ja(e){return new m0(Dm.ei,this.serializer)}za(e){return new Qx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class U2 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof Sh);const r=this.persistence.referenceDelegate.garbageCollector;return new Cx(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new m0(r=>Sh.ei(r,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y2}()}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),r=function(a){return new Zx(a)}(e.databaseInfo);return function(a,u,h,f){return new n2(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new i2(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>nw(this.syncEngine,t,0),function(){return X_.p()?new X_:new Yx}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,g){const w=new A2(s,a,u,h,f,p);return g&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);ue("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await ou(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=qt.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=jm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zf(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await g0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $2(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>J_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>J_(e.remoteStore,s)),n._onlineComponents=e}async function $2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Zf(n,new Ch)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Zf(n,new U2(void 0));return n._offlineComponents}async function L0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await iw(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await iw(n,new Mp))),n._onlineComponents}function W2(n){return L0(n).then(e=>e.syncEngine)}async function q2(n){const e=await L0(n),t=e.eventManager;return t.onListen=P2.bind(null,e.syncEngine),t.onUnlisten=x2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=R2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),t}function H2(n,e,t={}){const r=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const g=new B2({next:E=>{g.eu(),u.enqueueAndForget(()=>_2(a,w)),E.fromCache&&f.source==="server"?p.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new T2(h,g,{includeMetadataChanges:!0,ua:!0});return v2(a,w)}(await q2(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n,e,t){if(!t)throw new ge(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K2(n,e,t,r){if(e===!0&&r===!0)throw new ge(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ow(n){if(!_e.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aw(n){if(_e.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function Bs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zm(n);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ek;switch(r.type){case"firstParty":return new ik(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=sw.get(t);r&&(ue("ComponentProvider","Removing Datastore"),sw.delete(t),r.terminate())}(this),Promise.resolve()}}function G2(n,e,t,r={}){var s;const a=(n=Bs(n,ed))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=qt.MOCK_USER;else{h=hC(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(p)}n._authCredentials=new tk(new MT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Fi extends td{constructor(e,t,r){super(e,t,HT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new _e(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Ah(n,e,...t){if(n=Tt(n),b0("collection","path",e),n instanceof ed){const r=Je.fromString(e,...t);return aw(r),new Fi(n,null,r)}{if(!(n instanceof Vn||n instanceof Fi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return aw(r),new Fi(n.firestore,null,r)}}function Zc(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=bT.newId()),b0("doc","path",e),n instanceof ed){const r=Je.fromString(e,...t);return ow(r),new Vn(n,null,new _e(r))}{if(!(n instanceof Vn||n instanceof Fi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return ow(r),new Vn(n.firestore,n instanceof Fi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new v0(this,"async_queue_retry"),this.fu=()=>{const r=Jf();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Jf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Jf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Oi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fa(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Gr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Fm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class lu extends ed{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new uw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function Q2(n,e){const t=typeof n=="object"?n:zE(),r=typeof n=="string"?n:"(default)",s=cm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=uC("firestore");a&&G2(s,...a)}return s}function O0(n){if(n._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y2(n),n._firestoreClient}function Y2(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,g){return new _k(h,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,M0(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new z2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Ft.fromBase64String(e))}catch(t){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^__.*__$/;class J2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}class F0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function j0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Hm{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ph(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(j0(this.Mu)&&X2.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Z2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xh(e)}$u(e,t,r,s=!1){return new Hm({Mu:e,methodName:t,Ku:r,path:Ot.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U0(n){const e=n._freezeSettings(),t=Xh(n._databaseId);return new Z2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eN(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);Km("Data must be an object, but it was:",u,r);const h=B0(r,u);let f,p;if(a.merge)f=new _n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const E=bp(e,w,t);if(!u.contains(E))throw new ge(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$0(g,E)||g.push(E)}f=new _n(g),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new J2(new cn(h),f,p)}class rd extends $m{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function tN(n,e,t,r){const s=n.$u(1,e,t);Km("Data must be an object, but it was:",s,r);const a=[],u=cn.empty();Gi(r,(f,p)=>{const g=Gm(e,f,t);p=Tt(p);const w=s.Bu(g);if(p instanceof rd)a.push(g);else{const E=id(p,w);E!=null&&(a.push(g),u.set(g,E))}});const h=new _n(a);return new F0(u,h,s.fieldTransforms)}function nN(n,e,t,r,s,a){const u=n.$u(1,e,t),h=[bp(e,r,t)],f=[s];if(a.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(bp(e,a[E])),f.push(a[E+1]);const p=[],g=cn.empty();for(let E=h.length-1;E>=0;--E)if(!$0(p,h[E])){const S=h[E];let k=f[E];k=Tt(k);const M=u.Bu(S);if(k instanceof rd)p.push(S);else{const x=id(k,M);x!=null&&(p.push(S),g.set(S,x))}}const w=new _n(p);return new F0(g,w,u.fieldTransforms)}function id(n,e){if(z0(n=Tt(n)))return Km("Unsupported field value:",e,n),B0(n,e);if(n instanceof $m)return function(r,s){if(!j0(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=id(h,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=wt.fromDate(r);return{timestampValue:Th(s.serializer,a)}}if(r instanceof wt){const a=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(s.serializer,a)}}if(r instanceof Wm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:l0(s.serializer,r._byteString)};if(r instanceof Vn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return Am(h.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${zm(r)}`)}(n,e)}function B0(n,e){const t={};return OT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(n,(r,s)=>{const a=id(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function z0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Wm||n instanceof oa||n instanceof Vn||n instanceof $m||n instanceof qm)}function Km(n,e,t){if(!z0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=zm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function bp(n,e,t){if((e=Tt(e))instanceof nd)return e._internalPath;if(typeof e=="string")return Gm(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const rN=new RegExp("[~\\*/\\[\\]]");function Gm(n,e,t){if(e.search(rN)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nd(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ge(ee.INVALID_ARGUMENT,h+n+f)}function $0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(q0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iN extends W0{data(){return super.data()}}function q0(n,e){return typeof e=="string"?Gm(n,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oN{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Gi(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ct(u.doubleValue));return new qm(a)}convertGeoPoint(e){return new Wm(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);Be(p0(r));const s=new jl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||Gr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lN extends W0{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eh extends lN{data(e={}){return super.data(e)}}class uN{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eh(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new eh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new eh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Fc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:cN(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class hN extends oN{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function H0(n){n=Bs(n,td);const e=Bs(n.firestore,lu),t=O0(e),r=new hN(e);return sN(n._query),H2(t,n._query).then(s=>new uN(e,r,n,s))}function dN(n,e,t,...r){n=Bs(n,Vn);const s=Bs(n.firestore,lu),a=U0(s);let u;return u=typeof(e=Tt(e))=="string"||e instanceof nd?nN(a,"updateDoc",n._key,e,t,r):tN(a,"updateDoc",n._key,e),Qm(s,[u.toMutation(n._key,Xn.exists(!0))])}function cw(n){return Qm(Bs(n.firestore,lu),[new Pm(n._key,Xn.none())])}function K0(n,e){const t=Bs(n.firestore,lu),r=Zc(n),s=aN(n.converter,e);return Qm(t,[eN(U0(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Qm(n,e){return function(r,s){const a=new Oi;return r.asyncQueue.enqueueAndForget(async()=>D2(await W2(r),s,a)),a.promise}(O0(n),e)}(function(e,t=!0){(function(s){ha=s})(ua),Jo(new Os("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new lu(new nk(r.getProvider("auth-internal")),new ok(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(p.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),bi(A_,"4.7.5",e),bi(A_,"4.7.5","esm2017")})();const fN={apiKey:"AIzaSyCfFlTCNP4GnpW5ebHbjNpcm7zzQUCNrOA",authDomain:"projeto-tarefas-ti.firebaseapp.com",projectId:"projeto-tarefas-ti",storageBucket:"projeto-tarefas-ti.firebasestorage.app",messagingSenderId:"1002564131625",appId:"1:1002564131625:web:41c9038268527687857538"},G0=BE(fN),$l=wm(G0),ks=Q2(G0);var Q0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hw=Vs.createContext&&Vs.createContext(Q0),pN=["attr","size","title"];function mN(n,e){if(n==null)return{};var t=gN(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function gN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rh(){return Rh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rh.apply(this,arguments)}function dw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function kh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dw(Object(t),!0).forEach(function(r){yN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yN(n,e,t){return e=vN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vN(n){var e=_N(n,"string");return typeof e=="symbol"?e:e+""}function _N(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Y0(n){return n&&n.map((e,t)=>Vs.createElement(e.tag,kh({key:t},e.attr),Y0(e.child)))}function ei(n){return e=>Vs.createElement(wN,Rh({attr:kh({},n.attr)},e),Y0(n.child))}function wN(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=mN(n,pN),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Vs.createElement("svg",Rh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:kh(kh({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Vs.createElement("title",null,a),n.children)};return hw!==void 0?Vs.createElement(hw.Consumer,null,t=>e(t)):e(Q0)}function EN(n){return ei({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z"},child:[]}]})(n)}function TN(n){return ei({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function SN(n){return ei({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(n)}function xh(n){return ei({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm52.7 283.3L256 278.6l-52.7 52.7c-6.2 6.2-16.4 6.2-22.6 0-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3l52.7-52.7-52.7-52.7c-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3 6.2-6.2 16.4-6.2 22.6 0l52.7 52.7 52.7-52.7c6.2-6.2 16.4-6.2 22.6 0 6.2 6.2 6.2 16.4 0 22.6L278.6 256l52.7 52.7c6.2 6.2 6.2 16.4 0 22.6-6.2 6.3-16.4 6.3-22.6 0z"},child:[]}]})(n)}function IN(n){return ei({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"},child:[]},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"},child:[]}]})(n)}var gl={},fw;function CN(){if(fw)return gl;fw=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.parse=u,gl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const k=new a,M=E.length;if(M<2)return k;const x=(S==null?void 0:S.decode)||g;let U=0;do{const j=E.indexOf("=",U);if(j===-1)break;const q=E.indexOf(";",U),ne=q===-1?M:q;if(j>ne){U=E.lastIndexOf(";",j-1)+1;continue}const Z=h(E,U,j),se=f(E,j,Z),D=E.slice(Z,se);if(k[D]===void 0){let C=h(E,j+1,ne),P=f(E,ne,C);const V=x(E.slice(C,P));k[D]=V}U=ne+1}while(U<M);return k}function h(E,S,k){do{const M=E.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<k);return k}function f(E,S,k){for(;S>k;){const M=E.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return k}function p(E,S,k){const M=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=M(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let U=E+"="+x;if(!k)return U;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);U+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);U+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);U+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);U+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(U+="; HttpOnly"),k.secure&&(U+="; Secure"),k.partitioned&&(U+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return U}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return gl}CN();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pw="popstate";function AN(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Op("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Wl(s)}return RN(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function mw(n,e){return{usr:n.state,key:n.key,idx:e}}function Op(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||r||PN()}}function Wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RN(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function w(){h="POP";let x=g(),U=x==null?null:x-p;p=x,f&&f({action:h,location:M.location,delta:U})}function E(x,U){h="PUSH";let j=Op(M.location,x,U);p=g()+1;let q=mw(j,p),ne=M.createHref(j);try{u.pushState(q,"",ne)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(ne)}a&&f&&f({action:h,location:M.location,delta:1})}function S(x,U){h="REPLACE";let j=Op(M.location,x,U);p=g();let q=mw(j,p),ne=M.createHref(j);u.replaceState(q,"",ne),a&&f&&f({action:h,location:M.location,delta:0})}function k(x){let U=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof x=="string"?x:Wl(x);return j=j.replace(/ $/,"%20"),nt(U,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,U)}let M={get action(){return h},get location(){return n(s,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(pw,w),f=x,()=>{s.removeEventListener(pw,w),f=null}},createHref(x){return e(s,x)},createURL:k,encodeLocation(x){let U=k(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:S,go(x){return u.go(x)}};return M}function X0(n,e,t="/"){return kN(n,e,t,!1)}function kN(n,e,t,r){let s=typeof e=="string"?ma(e):e,a=Wi(s.pathname||"/",t);if(a==null)return null;let u=J0(n);xN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=BN(a);h=jN(u[f],p,r)}return h}function J0(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=qr([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),J0(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ON(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of Z0(a.path))s(a,u,f)}),e}function Z0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Z0(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function xN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var NN=/^:[\w-]+$/,DN=3,VN=2,LN=1,MN=10,bN=-2,gw=n=>n==="*";function ON(n,e){let t=n.split("/"),r=t.length;return t.some(gw)&&(r+=bN),e&&(r+=VN),t.filter(s=>!gw(s)).reduce((s,a)=>s+(NN.test(a)?DN:a===""?LN:MN),r)}function FN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function jN(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=Nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:qr([a,w.pathname]),pathnameBase:qN(qr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=qr([a,w.pathnameBase]))}return u}function Nh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},E)=>{if(g==="*"){let k=h[E]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const S=h[E];return w&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function UN(n,e=!1,t=!0){wr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function BN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function zN(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ma(n):n;return{pathname:t?t.startsWith("/")?t:$N(t,e):e,search:HN(r),hash:KN(s)}}function $N(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ep(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eS(n){let e=WN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function tS(n,e,t,r=!1){let s;typeof n=="string"?s=ma(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}h=w>=0?e[w]:"/"}let f=zN(s,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),qN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var QN=["GET",...nS];new Set(QN);var ga=b.createContext(null);ga.displayName="DataRouter";var sd=b.createContext(null);sd.displayName="DataRouterState";var rS=b.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var YN=b.createContext(new Map);YN.displayName="Fetchers";var XN=b.createContext(null);XN.displayName="Await";var Tr=b.createContext(null);Tr.displayName="Navigation";var uu=b.createContext(null);uu.displayName="Location";var ti=b.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var Ym=b.createContext(null);Ym.displayName="RouteError";function JN(n,{relative:e}={}){nt(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=b.useContext(Tr),{hash:s,pathname:a,search:u}=hu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:qr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function cu(){return b.useContext(uu)!=null}function Ws(){return nt(cu(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(uu).location}var iS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(n){b.useContext(Tr).static||b.useLayoutEffect(n)}function ZN(){let{isDataRoute:n}=b.useContext(ti);return n?dD():eD()}function eD(){nt(cu(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(ga),{basename:e,navigator:t}=b.useContext(Tr),{matches:r}=b.useContext(ti),{pathname:s}=Ws(),a=JSON.stringify(eS(r)),u=b.useRef(!1);return sS(()=>{u.current=!0}),b.useCallback((f,p={})=>{if(wr(u.current,iS),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=tS(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}b.createContext(null);function hu(n,{relative:e}={}){let{matches:t}=b.useContext(ti),{pathname:r}=Ws(),s=JSON.stringify(eS(t));return b.useMemo(()=>tS(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function tD(n,e){return oS(n,e)}function oS(n,e,t,r){var U;nt(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Tr),{matches:a}=b.useContext(ti),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";aS(f,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Ws(),E;if(e){let j=typeof e=="string"?ma(e):e;nt(p==="/"||((U=j.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=w;let S=E.pathname||"/",k=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=X0(n,{pathname:k});wr(g||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),wr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=oD(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:qr([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:qr([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&x?b.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},x):x}function nD(){let n=hD(),e=GN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,u)}var rD=b.createElement(nD,null),iD=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?b.createElement(ti.Provider,{value:this.props.routeContext},b.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sD({routeContext:n,match:e,children:t}){let r=b.useContext(ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(ti.Provider,{value:n},t)}function oD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:w}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let w,E=!1,S=null,k=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||rD,u&&(h<0&&g===0?(aS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):h===g&&(E=!0,k=p.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,g+1)),x=()=>{let U;return w?U=S:E?U=k:p.route.Component?U=b.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=f,b.createElement(sD,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:t!=null},children:U})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(iD,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function Xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aD(n){let e=b.useContext(ga);return nt(e,Xm(n)),e}function lD(n){let e=b.useContext(sd);return nt(e,Xm(n)),e}function uD(n){let e=b.useContext(ti);return nt(e,Xm(n)),e}function Jm(n){let e=uD(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cD(){return Jm("useRouteId")}function hD(){var r;let n=b.useContext(Ym),e=lD("useRouteError"),t=Jm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function dD(){let{router:n}=aD("useNavigate"),e=Jm("useNavigate"),t=b.useRef(!1);return sS(()=>{t.current=!0}),b.useCallback(async(s,a={})=>{wr(t.current,iS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var yw={};function aS(n,e,t){!e&&!yw[n]&&(yw[n]=!0,wr(!1,t))}b.memo(fD);function fD({routes:n,future:e,state:t}){return oS(n,void 0,t,e)}function Ps(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){nt(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ma(t));let{pathname:f="/",search:p="",hash:g="",state:w=null,key:E="default"}=t,S=b.useMemo(()=>{let k=Wi(f,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:w,key:E},navigationType:r}},[u,f,p,g,w,E,r]);return wr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(Tr.Provider,{value:h},b.createElement(uu.Provider,{children:e,value:S}))}function mD({children:n,location:e}){return tD(Fp(n),e)}function Fp(n,e=[]){let t=[];return b.Children.forEach(n,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){t.push.apply(t,Fp(r.props.children,a));return}nt(r.type===Ps,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Fp(r.props.children,a)),t.push(u)}),t}var th="get",nh="application/x-www-form-urlencoded";function od(n){return n!=null&&typeof n.tagName=="string"}function gD(n){return od(n)&&n.tagName.toLowerCase()==="button"}function yD(n){return od(n)&&n.tagName.toLowerCase()==="form"}function vD(n){return od(n)&&n.tagName.toLowerCase()==="input"}function _D(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wD(n,e){return n.button===0&&(!e||e==="_self")&&!_D(n)}var jc=null;function ED(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(n){return n!=null&&!TD.has(n)?(wr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):n}function SD(n,e){let t,r,s,a,u;if(yD(n)){let h=n.getAttribute("action");r=h?Wi(h,e):null,t=n.getAttribute("method")||th,s=tp(n.getAttribute("enctype"))||nh,a=new FormData(n)}else if(gD(n)||vD(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Wi(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||th,s=tp(n.getAttribute("formenctype"))||tp(h.getAttribute("enctype"))||nh,a=new FormData(h,n),!ED()){let{name:p,type:g,value:w}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(od(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,r=null,s=nh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ID(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AD(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await ID(a,t);return u.links?u.links():[]}return[]}));return xD(r.flat(1).filter(CD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vw(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function PD(n,e){return RD(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function RD(n){return[...new Set(n)]}function kD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xD(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(kD(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function ND(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DD(){let n=b.useContext(ga);return Zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function VD(){let n=b.useContext(sd);return Zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eg=b.createContext(void 0);eg.displayName="FrameworkContext";function lS(){let n=b.useContext(eg);return Zm(n,"You must render this element inside a <HydratedRouter> element"),n}function LD(n,e){let t=b.useContext(eg),[r,s]=b.useState(!1),[a,u]=b.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,E=b.useRef(null);b.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=U=>{U.forEach(j=>{u(j.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),b.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let S=()=>{s(!0)},k=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:yl(h,S),onBlur:yl(f,k),onMouseEnter:yl(p,S),onMouseLeave:yl(g,k),onTouchStart:yl(w,S)}]:[!1,E,{}]}function yl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MD({page:n,...e}){let{router:t}=DD(),r=b.useMemo(()=>X0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?b.createElement(OD,{page:n,matches:r,...e}):null}function bD(n){let{manifest:e,routeModules:t}=lS(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return AD(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function OD({page:n,matches:e,...t}){let r=Ws(),{manifest:s,routeModules:a}=lS(),{loaderData:u,matches:h}=VD(),f=b.useMemo(()=>vw(n,e,h,s,r,"data"),[n,e,h,s,r]),p=b.useMemo(()=>vw(n,e,h,s,r,"assets"),[n,e,h,s,r]),g=b.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(x=>{var j;let U=s.routes[x.route.id];!U||!U.hasLoader||(!f.some(q=>q.route.id===x.route.id)&&x.route.id in u&&((j=a[x.route.id])!=null&&j.shouldRevalidate)||U.hasClientLoader?k=!0:S.add(x.route.id))}),S.size===0)return[];let M=ND(n);return k&&S.size>0&&M.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[u,r,s,f,e,n,a]),w=b.useMemo(()=>PD(p,s),[p,s]),E=bD(p);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),w.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:k})=>b.createElement("link",{key:S,...k})))}function FD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.1.1")}catch{}function jD({basename:n,children:e,window:t}){let r=b.useRef();r.current==null&&(r.current=AN({window:t,v5Compat:!0}));let s=r.current,[a,u]=b.useState({action:s.action,location:s.location}),h=b.useCallback(f=>{b.startTransition(()=>u(f))},[u]);return b.useLayoutEffect(()=>s.listen(h),[s,h]),b.createElement(pD,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=b.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:w,...E},S){let{basename:k}=b.useContext(Tr),M=typeof p=="string"&&cS.test(p),x,U=!1;if(typeof p=="string"&&M&&(x=p,uS))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),F=Wi(V.pathname,k);V.origin===P.origin&&F!=null?p=F+V.search+V.hash:U=!0}catch{wr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=JN(p,{relative:s}),[q,ne,Z]=LD(r,E),se=zD(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:w});function D(P){e&&e(P),P.defaultPrevented||se(P)}let C=b.createElement("a",{...E,...Z,href:x||j,onClick:U||a?e:D,ref:FD(S,ne),target:f,"data-discover":!M&&t==="render"?"true":void 0});return q&&!M?b.createElement(b.Fragment,null,C,b.createElement(MD,{page:j})):C});wn.displayName="Link";var rh=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},g){let w=hu(u,{relative:p.relative}),E=Ws(),S=b.useContext(sd),{navigator:k,basename:M}=b.useContext(Tr),x=S!=null&&KD(w)&&h===!0,U=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,j=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(j=j.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&M&&(q=Wi(q,M)||q);const ne=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=j===U||!s&&j.startsWith(U)&&j.charAt(ne)==="/",se=q!=null&&(q===U||!s&&q.startsWith(U)&&q.charAt(U.length)==="/"),D={isActive:Z,isPending:se,isTransitioning:x},C=Z?e:void 0,P;typeof r=="function"?P=r(D):P=[r,Z?"active":null,se?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(D):a;return b.createElement(wn,{...p,"aria-current":C,className:P,ref:g,style:V,to:u,viewTransition:h},typeof f=="function"?f(D):f)});rh.displayName="NavLink";var UD=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=th,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:w,...E},S)=>{let k=qD(),M=HD(h,{relative:p}),x=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&cS.test(h),j=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let ne=q.nativeEvent.submitter,Z=(ne==null?void 0:ne.getAttribute("formmethod"))||u;k(ne||q.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:w})};return b.createElement("form",{ref:S,method:x,action:M,onSubmit:r?f:j,...E,"data-discover":!U&&n==="render"?"true":void 0})});UD.displayName="Form";function BD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(n){let e=b.useContext(ga);return nt(e,BD(n)),e}function zD(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=ZN(),f=Ws(),p=hu(n,{relative:a});return b.useCallback(g=>{if(wD(g,e)){g.preventDefault();let w=t!==void 0?t:Wl(f)===Wl(p);h(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var $D=0,WD=()=>`__${String(++$D)}__`;function qD(){let{router:n}=hS("useSubmit"),{basename:e}=b.useContext(Tr),t=cD();return b.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=SD(r,e);if(s.navigate===!1){let g=s.fetcherKey||WD();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function HD(n,{relative:e}={}){let{basename:t}=b.useContext(Tr),r=b.useContext(ti);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...hu(n||".",{relative:e})},u=Ws();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qr([t,a.pathname])),Wl(a)}function KD(n,e={}){let t=b.useContext(rS);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hS("useViewTransitionState"),s=hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Wi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Nh(s.pathname,u)!=null||Nh(s.pathname,a)!=null}new TextEncoder;const dS=b.createContext(),GD=({children:n})=>{const[e,t]=b.useState(null),[r,s]=b.useState(!0);return b.useEffect(()=>{const a=wm(),u=vT(a,h=>{t(h),s(!1)});return()=>u()},[]),A.jsx(dS.Provider,{value:{user:e,loading:r},children:n})},ya=()=>b.useContext(dS);function tg(n,e){n.indexOf(e)===-1&&n.push(e)}function ng(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Yr=(n,e,t)=>t>e?e:t<n?n:t;let Dh=()=>{};const Xr={},fS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function pS(n){return typeof n=="object"&&n!==null}const mS=n=>/^0[^.\s]+$/u.test(n);function rg(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ln=n=>n,QD=(n,e)=>t=>e(n(t)),du=(...n)=>n.reduce(QD),ql=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class ig{constructor(){this.subscriptions=[]}add(e){return tg(this.subscriptions,e),()=>ng(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=n=>n*1e3,gr=n=>n/1e3;function gS(n,e){return e?n*(1e3/e):0}const yS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YD=1e-7,XD=12;function JD(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=yS(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>YD&&++h<XD);return u}function fu(n,e,t,r){if(n===e&&t===r)return Ln;const s=a=>JD(a,0,1,n,t);return a=>a===0||a===1?a:yS(s(a),e,r)}const vS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_S=n=>e=>1-n(1-e),wS=fu(.33,1.53,.69,.99),sg=_S(wS),ES=vS(sg),TS=n=>(n*=2)<1?.5*sg(n):.5*(2-Math.pow(2,-10*(n-1))),og=n=>1-Math.sin(Math.acos(n)),SS=_S(og),IS=vS(og),ZD=fu(.42,0,1,1),eV=fu(0,0,.58,1),CS=fu(.42,0,.58,1),tV=n=>Array.isArray(n)&&typeof n[0]!="number",AS=n=>Array.isArray(n)&&typeof n[0]=="number",_w={linear:Ln,easeIn:ZD,easeInOut:CS,easeOut:eV,circIn:og,circInOut:IS,circOut:SS,backIn:sg,backInOut:ES,backOut:wS,anticipate:TS},nV=n=>typeof n=="string",ww=n=>{if(AS(n)){Dh(n.length===4);const[e,t,r,s]=n;return fu(e,t,r,s)}else if(nV(n))return Dh(_w[n]!==void 0),_w[n];return n},ag=b.createContext({}),PS=b.createContext({strict:!1}),lg=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ad=b.createContext({});function ld(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Hl(n){return typeof n=="string"||Array.isArray(n)}const ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cg=["initial",...ug];function ud(n){return ld(n.animate)||cg.some(e=>Hl(n[e]))}function RS(n){return!!(ud(n)||n.variants)}function rV(n,e){if(ud(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Hl(t)?t:void 0,animate:Hl(r)?r:void 0}}return n.inherit!==!1?e:{}}function iV(n){const{initial:e,animate:t}=rV(n,b.useContext(ad));return b.useMemo(()=>({initial:e,animate:t}),[Ew(e),Ew(t)])}function Ew(n){return Array.isArray(n)?n.join(" "):n}const hg=typeof window<"u",Tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const n in Tw)aa[n]={isEnabled:e=>Tw[n].some(t=>!!e[t])};function sV(n){for(const e in n)aa[e]={...aa[e],...n[e]}}const oV=Symbol.for("motionComponentSymbol");function $o(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function aV(n,e,t){return b.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):$o(t)&&(t.current=r))},[e])}const Uc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lV(n,e){let t=new Set,r=new Set,s=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(h)}const p={schedule:(g,w=!1,E=!1)=>{const k=E&&s?t:r;return w&&u.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,s){a=!0;return}s=!0,[t,r]=[r,t],t.forEach(f),t.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const uV=40;function kS(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Uc.reduce((q,ne)=>(q[ne]=lV(a),q),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:w,preRender:E,render:S,postRender:k}=u,M=()=>{const q=Xr.useManualTiming?s.timestamp:performance.now();t=!1,Xr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(q-s.timestamp,uV),1)),s.timestamp=q,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),w.process(s),E.process(s),S.process(s),k.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(M))},x=()=>{t=!0,r=!0,s.isProcessing||n(M)};return{schedule:Uc.reduce((q,ne)=>{const Z=u[ne];return q[ne]=(se,D=!1,C=!1)=>(t||x(),Z.schedule(se,D,C)),q},{}),cancel:q=>{for(let ne=0;ne<Uc.length;ne++)u[Uc[ne]].cancel(q)},state:s,steps:u}}const{schedule:rt,cancel:qi,state:Mt,steps:np}=kS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let ih;function cV(){ih=void 0}const hn={now:()=>(ih===void 0&&hn.set(Mt.isProcessing||Xr.useManualTiming?Mt.timestamp:performance.now()),ih),set:n=>{ih=n,queueMicrotask(cV)}},xS=n=>e=>typeof e=="string"&&e.startsWith(n),dg=xS("--"),hV=xS("var(--"),fg=n=>hV(n)?dV.test(n.split("/*")[0].trim()):!1,dV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,va={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Kl={...va,transform:n=>Yr(0,1,n)},Bc={...va,default:1},xl=n=>Math.round(n*1e5)/1e5,pg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fV(n){return n==null}const pV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mg=(n,e)=>t=>!!(typeof t=="string"&&pV.test(t)&&t.startsWith(n)||e&&!fV(t)&&Object.prototype.hasOwnProperty.call(t,e)),NS=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(pg);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},mV=n=>Yr(0,255,n),rp={...va,transform:n=>Math.round(mV(n))},Ns={test:mg("rgb","red"),parse:NS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+rp.transform(n)+", "+rp.transform(e)+", "+rp.transform(t)+", "+xl(Kl.transform(r))+")"};function gV(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jp={test:mg("#"),parse:gV,transform:Ns.transform},pu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ri=pu("deg"),yr=pu("%"),we=pu("px"),yV=pu("vh"),vV=pu("vw"),Sw={...yr,parse:n=>yr.parse(n)/100,transform:n=>yr.transform(n*100)},Wo={test:mg("hsl","hue"),parse:NS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+yr.transform(xl(e))+", "+yr.transform(xl(t))+", "+xl(Kl.transform(r))+")"},Wt={test:n=>Ns.test(n)||jp.test(n)||Wo.test(n),parse:n=>Ns.test(n)?Ns.parse(n):Wo.test(n)?Wo.parse(n):jp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ns.transform(n):Wo.transform(n)},_V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(pg))==null?void 0:e.length)||0)+(((t=n.match(_V))==null?void 0:t.length)||0)>0}const DS="number",VS="color",EV="var",TV="var(",Iw="${}",SV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(SV,f=>(Wt.test(f)?(r.color.push(a),s.push(VS),t.push(Wt.parse(f))):f.startsWith(TV)?(r.var.push(a),s.push(EV),t.push(f)):(r.number.push(a),s.push(DS),t.push(parseFloat(f))),++a,Iw)).split(Iw);return{values:t,split:h,indexes:r,types:s}}function LS(n){return Gl(n).values}function MS(n){const{split:e,types:t}=Gl(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=t[u];h===DS?a+=xl(s[u]):h===VS?a+=Wt.transform(s[u]):a+=s[u]}return a}}const IV=n=>typeof n=="number"?0:n;function CV(n){const e=LS(n);return MS(n)(e.map(IV))}const Hi={test:wV,parse:LS,createTransformer:MS,getAnimatableNone:CV};function ip(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function AV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=ip(f,h,n+1/3),a=ip(f,h,n),u=ip(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Vh(n,e){return t=>t>0?e:n}const tt=(n,e,t)=>n+(e-n)*t,sp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},PV=[jp,Ns,Wo],RV=n=>PV.find(e=>e.test(n));function Cw(n){const e=RV(n);if(!e)return!1;let t=e.parse(n);return e===Wo&&(t=AV(t)),t}const Aw=(n,e)=>{const t=Cw(n),r=Cw(e);if(!t||!r)return Vh(n,e);const s={...t};return a=>(s.red=sp(t.red,r.red,a),s.green=sp(t.green,r.green,a),s.blue=sp(t.blue,r.blue,a),s.alpha=tt(t.alpha,r.alpha,a),Ns.transform(s))},Up=new Set(["none","hidden"]);function kV(n,e){return Up.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function xV(n,e){return t=>tt(n,e,t)}function gg(n){return typeof n=="number"?xV:typeof n=="string"?fg(n)?Vh:Wt.test(n)?Aw:VV:Array.isArray(n)?bS:typeof n=="object"?Wt.test(n)?Aw:NV:Vh}function bS(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>gg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function NV(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=gg(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function DV(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][r[a]],h=n.values[u]??0;t[s]=h,r[a]++}return t}const VV=(n,e)=>{const t=Hi.createTransformer(e),r=Gl(n),s=Gl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Up.has(n)&&!s.values.length||Up.has(e)&&!r.values.length?kV(n,e):du(bS(DV(r,s),s.values),t):Vh(n,e)};function OS(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):gg(n)(n,e)}const LV=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>rt.update(e,t),stop:()=>qi(e),now:()=>Mt.isProcessing?Mt.timestamp:hn.now()}},FS=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Lh=2e4;function yg(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Lh;)e+=t,r=n.next(e);return e>=Lh?1/0:e}function MV(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(yg(r),Lh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:gr(s)}}const bV=5;function jS(n,e,t){const r=Math.max(e-bV,0);return gS(t-n(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pw=.001;function OV({duration:n=ot.duration,bounce:e=ot.bounce,velocity:t=ot.velocity,mass:r=ot.mass}){let s,a,u=1-e;u=Yr(ot.minDamping,ot.maxDamping,u),n=Yr(ot.minDuration,ot.maxDuration,gr(n)),u<1?(s=p=>{const g=p*u,w=g*n,E=g-t,S=Bp(p,u),k=Math.exp(-w);return Pw-E/S*k},a=p=>{const w=p*u*n,E=w*t+t,S=Math.pow(u,2)*Math.pow(p,2)*n,k=Math.exp(-w),M=Bp(Math.pow(p,2),u);return(-s(p)+Pw>0?-1:1)*((E-S)*k)/M}):(s=p=>{const g=Math.exp(-p*n),w=(p-t)*n+1;return-.001+g*w},a=p=>{const g=Math.exp(-p*n),w=(t-p)*(n*n);return g*w});const h=5/n,f=jV(s,a,h);if(n=mr(n),isNaN(f))return{stiffness:ot.stiffness,damping:ot.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const FV=12;function jV(n,e,t){let r=t;for(let s=1;s<FV;s++)r=r-n(r)/e(r);return r}function Bp(n,e){return n*Math.sqrt(1-e*e)}const UV=["duration","bounce"],BV=["stiffness","damping","mass"];function Rw(n,e){return e.some(t=>n[t]!==void 0)}function zV(n){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...n};if(!Rw(n,BV)&&Rw(n,UV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Yr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ot.mass,stiffness:s,damping:a}}else{const t=OV(n);e={...e,...t,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function Mh(n=ot.visualDuration,e=ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:w,velocity:E,isResolvedFromDuration:S}=zV({...t,velocity:-gr(t.velocity||0)}),k=E||0,M=p/(2*Math.sqrt(f*g)),x=u-a,U=gr(Math.sqrt(f/g)),j=Math.abs(x)<5;r||(r=j?ot.restSpeed.granular:ot.restSpeed.default),s||(s=j?ot.restDelta.granular:ot.restDelta.default);let q;if(M<1){const Z=Bp(U,M);q=se=>{const D=Math.exp(-M*U*se);return u-D*((k+M*U*x)/Z*Math.sin(Z*se)+x*Math.cos(Z*se))}}else if(M===1)q=Z=>u-Math.exp(-U*Z)*(x+(k+U*x)*Z);else{const Z=U*Math.sqrt(M*M-1);q=se=>{const D=Math.exp(-M*U*se),C=Math.min(Z*se,300);return u-D*((k+M*U*x)*Math.sinh(C)+Z*x*Math.cosh(C))/Z}}const ne={calculatedDuration:S&&w||null,next:Z=>{const se=q(Z);if(S)h.done=Z>=w;else{let D=Z===0?k:0;M<1&&(D=Z===0?mr(k):jS(q,Z,se));const C=Math.abs(D)<=r,P=Math.abs(u-se)<=s;h.done=C&&P}return h.value=h.done?u:se,h},toString:()=>{const Z=Math.min(yg(ne),Lh),se=FS(D=>ne.next(Z*D).value,Z,30);return Z+"ms "+se},toTransition:()=>{}};return ne}Mh.applyToOptions=n=>{const e=MV(n,100,Mh);return n.ease=e.ease,n.duration=mr(e.duration),n.type="keyframes",n};function zp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const w=n[0],E={done:!1,value:w},S=C=>h!==void 0&&C<h||f!==void 0&&C>f,k=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let M=t*e;const x=w+M,U=u===void 0?x:u(x);U!==x&&(M=U-w);const j=C=>-M*Math.exp(-C/r),q=C=>U+j(C),ne=C=>{const P=j(C),V=q(C);E.done=Math.abs(P)<=p,E.value=E.done?U:V};let Z,se;const D=C=>{S(E.value)&&(Z=C,se=Mh({keyframes:[E.value,k(E.value)],velocity:jS(q,C,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!se&&Z===void 0&&(P=!0,ne(C),D(C)),Z!==void 0&&C>=Z?se.next(C-Z):(!P&&ne(C),E)}}}function $V(n,e,t){const r=[],s=t||Xr.mix||OS,a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Ln:e;h=du(f,h)}r.push(h)}return r}function WV(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Dh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=$V(e,r,s),f=h.length,p=g=>{if(u&&g<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(g<n[w+1]);w++);const E=ql(n[w],n[w+1],g);return h[w](E)};return t?g=>p(Yr(n[0],n[a-1],g)):p}function qV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ql(0,e,r);n.push(tt(t,1,s))}}function HV(n){const e=[0];return qV(e,n.length-1),e}function KV(n,e){return n.map(t=>t*e)}function GV(n,e){return n.map(()=>e||CS).splice(0,n.length-1)}function Nl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=tV(r)?r.map(ww):ww(r),a={done:!1,value:e[0]},u=KV(t&&t.length===e.length?t:HV(e),n),h=WV(u,e,{ease:Array.isArray(s)?s:GV(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const QV=n=>n!==null;function vg(n,{repeat:e,repeatType:t="loop"},r,s=1){const a=n.filter(QV),h=s<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const YV={decay:zp,inertia:zp,tween:Nl,keyframes:Nl,spring:Mh};function US(n){typeof n.type=="string"&&(n.type=YV[n.type])}class _g{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const XV=n=>n/100;class wg extends _g{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:t}=this.options;t&&t.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;US(e);const{type:t=Nl,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||Nl;f!==Nl&&typeof h[0]!="number"&&(this.mixKeyframes=du(XV,OS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=yg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:w,repeatType:E,repeatDelay:S,type:k,onUpdate:M,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let q=this.currentTime,ne=r;if(w){const C=Math.min(this.currentTime,s)/h;let P=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&P--,P=Math.min(P,w+1),!!(P%2)&&(E==="reverse"?(V=1-V,S&&(V-=S/h)):E==="mirror"&&(ne=u)),q=Yr(0,1,V)*h}const Z=j?{done:!1,value:g[0]}:ne.next(q);a&&(Z.value=a(Z.value));let{done:se}=Z;!j&&f!==null&&(se=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return D&&k!==zp&&(Z.value=vg(g,this.options,x,this.speed)),M&&M(Z.value),D&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(e){var t;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=LV,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function JV(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ds=n=>n*180/Math.PI,$p=n=>{const e=Ds(Math.atan2(n[1],n[0]));return Wp(e)},ZV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$p,rotateZ:$p,skewX:n=>Ds(Math.atan(n[1])),skewY:n=>Ds(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Wp=n=>(n=n%360,n<0&&(n+=360),n),kw=$p,xw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Nw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),eL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xw,scaleY:Nw,scale:n=>(xw(n)+Nw(n))/2,rotateX:n=>Wp(Ds(Math.atan2(n[6],n[5]))),rotateY:n=>Wp(Ds(Math.atan2(-n[2],n[0]))),rotateZ:kw,rotate:kw,skewX:n=>Ds(Math.atan(n[4])),skewY:n=>Ds(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function qp(n){return n.includes("scale")?1:0}function Hp(n,e){if(!n||n==="none")return qp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=eL,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZV,s=h}if(!s)return qp(e);const a=r[e],u=s[1].split(",").map(nL);return typeof a=="function"?a(u):u[a]}const tL=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Hp(t,e)};function nL(n){return parseFloat(n.trim())}const _a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(_a),Dw=n=>n===va||n===we,rL=new Set(["x","y","z"]),iL=_a.filter(n=>!rL.has(n));function sL(n){const e=[];return iL.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Ms={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Hp(e,"x"),y:(n,{transform:e})=>Hp(e,"y")};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const bs=new Set;let Kp=!1,Gp=!1,Qp=!1;function BS(){if(Gp){const n=Array.from(bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=sL(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))==null||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gp=!1,Kp=!1,bs.forEach(n=>n.complete(Qp)),bs.clear()}function zS(){bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Gp=!0)})}function oL(){Qp=!0,zS(),BS(),Qp=!1}class Eg{constructor(e,t,r,s,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(bs.add(this),Kp||(Kp=!0,rt.read(zS),rt.resolveKeyframes(BS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&a===void 0&&s.set(e[0])}JV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bs.delete(this)}cancel(){this.state==="scheduled"&&(bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aL=n=>n.startsWith("--");function lL(n,e,t){aL(e)?n.style.setProperty(e,t):n.style[e]=t}const uL=rg(()=>window.ScrollTimeline!==void 0),cL={};function hL(n,e){const t=rg(n);return()=>cL[e]??t()}const $S=hL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Il=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Vw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function WS(n,e){if(n)return typeof n=="function"?$S()?FS(n,e):"ease-out":AS(n)?Il(n):Array.isArray(n)?n.map(t=>WS(t,e)||Vw.easeOut):Vw[n]}function dL(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const w=WS(h,s);Array.isArray(w)&&(g.easing=w);const E={delay:r,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(g,E)}function qS(n){return typeof n=="function"&&"applyToOptions"in n}function fL({type:n,...e}){return qS(n)&&$S()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pL extends _g{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Dh(typeof e.type!="string");const p=fL(e);this.animation=dL(t,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=vg(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):lL(t,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return gr(Number(e))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&uL()?(this.animation.timeline=e,Ln):t(this)}}const HS={anticipate:TS,backInOut:ES,circInOut:IS};function mL(n){return n in HS}function gL(n){typeof n.ease=="string"&&mL(n.ease)&&(n.ease=HS[n.ease])}const Lw=10;class yL extends pL{constructor(e){gL(e),US(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new wg({...u,autoplay:!1}),f=mr(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-Lw).value,h.sample(f).value,Lw),h.stop()}}const Mw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hi.test(n)||n==="0")&&!n.startsWith("url("));function vL(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function _L(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=Mw(s,e),h=Mw(a,e);return!u||!h?!1:vL(n)||(t==="spring"||qS(t))&&r}function Tg(n){return pS(n)&&"offsetHeight"in n}const wL=new Set(["opacity","clipPath","filter","transform"]),EL=rg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TL(n){var p;const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:a,type:u}=n;if(!Tg((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return EL()&&t&&wL.has(t)&&(t!=="transform"||!f)&&!h&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}const SL=40;class IL extends _g{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...w}){var k;super(),this.stop=()=>{var M,x;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=hn.now();const E={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:g,...w},S=(g==null?void 0:g.KeyframeResolver)||Eg;this.keyframeResolver=new S(h,(M,x,U)=>this.onKeyframesResolved(M,x,E,!U),f,p,g),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=hn.now(),_L(e,a,u,h)||((Xr.instantAnimations||!f)&&(g==null||g(vg(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>SL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},S=!p&&TL(E)?new yL({...E,element:E.motionValue.owner.current}):new wg(E);S.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const CL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AL(n){const e=CL.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function KS(n,e,t=1){const[r,s]=AL(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return fS(u)?parseFloat(u):u}return fg(s)?KS(s,e,t+1):s}function Sg(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const GS=new Set(["width","height","top","left","right","bottom",..._a]),PL={test:n=>n==="auto",parse:n=>n},QS=n=>e=>e.test(n),YS=[va,we,yr,Ri,vV,yV,PL],bw=n=>YS.find(QS(n));function RL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||mS(n):!0}const kL=new Set(["brightness","contrast","saturate","opacity"]);function xL(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(pg)||[];if(!r)return n;const s=t.replace(r,"");let a=kL.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const NL=/\b([a-z-]*)\(.*?\)/gu,Yp={...Hi,getAnimatableNone:n=>{const e=n.match(NL);return e?e.map(xL).join(" "):n}},Ow={...va,transform:Math.round},DL={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:Ri,skewX:Ri,skewY:Ri,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Kl,originX:Sw,originY:Sw,originZ:we},Ig={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...DL,zIndex:Ow,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:Ow},VL={...Ig,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:Yp,WebkitFilter:Yp},XS=n=>VL[n];function JS(n,e){let t=XS(n);return t!==Yp&&(t=Hi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const LL=new Set(["auto","none","0"]);function ML(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!LL.has(a)&&Gl(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=JS(t,s)}class bL extends Eg{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),fg(p))){const g=KS(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!GS.has(r)||e.length!==2)return;const[s,a]=e,u=bw(s),h=bw(a);if(u!==h)if(Dw(u)&&Dw(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Ms[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||RL(e[s]))&&r.push(s);r.length&&ML(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ms[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Ms[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const Fw=30,OL=n=>!isNaN(parseFloat(n));class FL{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var u,h;const a=hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ig);const r=this.events[e].add(t);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Fw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Fw);return gS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(n,e){return new FL(n,e)}function jL(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const ZS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:Cg,cancel:HO}=kS(queueMicrotask,!1),Yn={x:!1,y:!1};function eI(){return Yn.x||Yn.y}function UL(n){return n==="x"||n==="y"?Yn[n]?null:(Yn[n]=!0,()=>{Yn[n]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function tI(n,e){const t=jL(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function jw(n){return!(n.pointerType==="touch"||eI())}function BL(n,e,t={}){const[r,s,a]=tI(n,t),u=h=>{if(!jw(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=w=>{jw(w)&&(p(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const nI=(n,e)=>e?n===e?!0:nI(n,e.parentElement):!1,Ag=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,zL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $L(n){return zL.has(n.tagName)||n.tabIndex!==-1}const sh=new WeakSet;function Uw(n){return e=>{e.key==="Enter"&&n(e)}}function op(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WL=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Uw(()=>{if(sh.has(t))return;op(t,"down");const s=Uw(()=>{op(t,"up")}),a=()=>op(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Bw(n){return Ag(n)&&!eI()}function qL(n,e,t={}){const[r,s,a]=tI(n,t),u=h=>{const f=h.currentTarget;if(!Bw(h))return;sh.add(f);const p=e(f,h),g=(S,k)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),sh.has(f)&&sh.delete(f),Bw(S)&&typeof p=="function"&&p(S,{success:k})},w=S=>{g(S,f===window||f===document||t.useGlobalTarget||nI(f,S.target))},E=S=>{g(S,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),Tg(h)&&(h.addEventListener("focus",p=>WL(p,s)),!$L(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function rI(n){return pS(n)&&"ownerSVGElement"in n}function HL(n){return rI(n)&&n.tagName==="svg"}const Kt=n=>!!(n&&n.getVelocity),KL=[...YS,Wt,Hi],GL=n=>KL.find(QS(n)),Pg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QL="framerAppearId",iI="data-"+Pg(QL),cd=b.createContext(null),sI=b.createContext({}),oI=hg?b.useLayoutEffect:b.useEffect;function YL(n,e,t,r,s){var M,x;const{visualElement:a}=b.useContext(ad),u=b.useContext(PS),h=b.useContext(cd),f=b.useContext(lg).reducedMotion,p=b.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,w=b.useContext(sI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&XL(p.current,t,s,w);const E=b.useRef(!1);b.useInsertionEffect(()=>{g&&E.current&&g.update(t,h)});const S=t[iI],k=b.useRef(!!S&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,S))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,S)));return oI(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Cg.render(g.render),k.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,S)}),k.current=!1))}),g}function XL(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:aI(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&$o(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function aI(n){if(n)return n.options.allowProjection!==!1?n.projection:aI(n.parent)}function JL({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&sV(n);function a(h,f){let p;const g={...b.useContext(lg),...h,layoutId:ZL(h)},{isStatic:w}=g,E=iV(h),S=r(h,w);if(!w&&hg){eM();const k=tM(g);p=k.MeasureLayout,E.visualElement=YL(s,S,g,e,k.ProjectionNode)}return A.jsxs(ad.Provider,{value:E,children:[p&&E.visualElement?A.jsx(p,{visualElement:E.visualElement,...g}):null,t(s,h,aV(S,E.visualElement,f),S,w,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=b.forwardRef(a);return u[oV]=s,u}function ZL({layoutId:n}){const e=b.useContext(ag).id;return e&&n!==void 0?e+"-"+n:n}function eM(n,e){b.useContext(PS).strict}function tM(n){const{drag:e,layout:t}=aa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ql={};function nM(n){for(const e in n)Ql[e]=n[e],dg(e)&&(Ql[e].isCSSVariable=!0)}function lI(n,{layout:e,layoutId:t}){return wa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ql[n]||n==="opacity")}const rM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iM=_a.length;function sM(n,e,t){let r="",s=!0;for(let a=0;a<iM;a++){const u=_a[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=ZS(h,Ig[u]);if(!f){s=!1;const g=rM[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Rg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(wa.has(f)){u=!0;continue}else if(dg(f)){s[f]=p;continue}else{const g=ZS(p,Ig[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=sM(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uI(n,e,t){for(const r in e)!Kt(e[r])&&!lI(r,t)&&(n[r]=e[r])}function oM({transformTemplate:n},e){return b.useMemo(()=>{const t=kg();return Rg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function aM(n,e){const t=n.style||{},r={};return uI(r,t,n),Object.assign(r,oM(n,e)),r}function lM(n,e){const t={},r=aM(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const uM={offset:"stroke-dashoffset",array:"stroke-dasharray"},cM={offset:"strokeDashoffset",array:"strokeDasharray"};function hM(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?uM:cM;n[a.offset]=we.transform(-r);const u=we.transform(e),h=we.transform(t);n[a.array]=`${u} ${h}`}function cI(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...h},f,p,g){if(Rg(n,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:E}=n;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),s!==void 0&&hM(w,s,a,u,!1)}const hI=()=>({...kg(),attrs:{}}),dI=n=>typeof n=="string"&&n.toLowerCase()==="svg";function dM(n,e,t,r){const s=b.useMemo(()=>{const a=hI();return cI(a,e,dI(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};uI(a,n.style,n),s.style={...a,...s.style}}return s}const fM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||fM.has(n)}let fI=n=>!bh(n);function pM(n){n&&(fI=e=>e.startsWith("on")?!bh(e):n(e))}try{pM(require("@emotion/is-prop-valid").default)}catch{}function mM(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(fI(s)||t===!0&&bh(s)||!e&&!bh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}const gM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xg(n){return typeof n!="string"||n.includes("-")?!1:!!(gM.indexOf(n)>-1||/[A-Z]/u.test(n))}function yM(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(xg(t)?dM:lM)(r,a,u,t),p=mM(r,typeof t=="string",n),g=t!==b.Fragment?{...p,...f,ref:s}:{},{children:w}=r,E=b.useMemo(()=>Kt(w)?w.get():w,[w]);return b.createElement(t,{...g,children:E})}}function zw(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Ng(n,e,t,r){if(typeof e=="function"){const[s,a]=zw(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=zw(r);e=e(t!==void 0?t:n.custom,s,a)}return e}function Dg(n){const e=b.useRef(null);return e.current===null&&(e.current=n()),e.current}function oh(n){return Kt(n)?n.get():n}function vM({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:_M(t,r,s,n),renderState:e()}}const pI=n=>(e,t)=>{const r=b.useContext(ad),s=b.useContext(cd),a=()=>vM(n,e,r,s);return t?a():Dg(a)};function _M(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=oh(a[E]);let{initial:u,animate:h}=n;const f=ud(n),p=RS(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const w=g?h:u;if(w&&typeof w!="boolean"&&!ld(w)){const E=Array.isArray(w)?w:[w];for(let S=0;S<E.length;S++){const k=Ng(n,E[S]);if(k){const{transitionEnd:M,transition:x,...U}=k;for(const j in U){let q=U[j];if(Array.isArray(q)){const ne=g?q.length-1:0;q=q[ne]}q!==null&&(s[j]=q)}for(const j in M)s[j]=M[j]}}}return s}function Vg(n,e,t){var a;const{style:r}=n,s={};for(const u in r)(Kt(r[u])||e.style&&Kt(e.style[u])||lI(u,n)||((a=t==null?void 0:t.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(s[u]=r[u]);return s}const wM={useVisualState:pI({scrapeMotionValuesFromProps:Vg,createRenderState:kg})};function mI(n,e,t){const r=Vg(n,e,t);for(const s in n)if(Kt(n[s])||Kt(e[s])){const a=_a.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}const EM={useVisualState:pI({scrapeMotionValuesFromProps:mI,createRenderState:hI})};function TM(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...xg(r)?EM:wM,preloadedFeatures:n,useRender:yM(s),createVisualElement:e,Component:r};return JL(u)}}const SM=()=>{const n=()=>{document.querySelector(".modalLogOut").showModal()},e=()=>{document.querySelector(".modalLogOut").close()},{user:t,loading:r}=ya();if(r)return A.jsx("div",{children:"Carregando..."});const s=async()=>{await UP($l),e()};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"header",children:[A.jsx(rh,{to:"/",className:"navLinkH1",children:"Tarefas Andritz"}),A.jsx("div",{children:t?A.jsxs("div",{className:"divProfileIcons",children:[A.jsx(rh,{to:"/myprofile",children:A.jsx(EN,{className:"profileIcon"})}),A.jsx(IN,{className:"logOutIcon",onClick:()=>n()})]}):A.jsx(rh,{to:"/createAccount",children:A.jsx(SN,{className:"createAccountIcon"})})})]}),A.jsxs("dialog",{className:"modalLogOut",children:[A.jsx("p",{children:"Tem certeza que deseja sair?"}),A.jsxs("div",{className:"btnsModalLogOut",children:[A.jsx(wn,{to:"/",className:"btnLogOut",onClick:()=>s(),children:"Sair"}),A.jsx("button",{className:"btnCloseModalLogout",onClick:()=>e(),children:"Ficar"})]})]}),A.jsx("hr",{className:"headerHR"})]})},IM=()=>{const[n,e]=b.useState([]),t=Ah(ks,"concludedTasks");return b.useEffect(()=>{(async()=>{try{const a=(await H0(t)).docs.map(u=>({...u.data(),id:u.id}));e(a)}catch(s){console.log(s)}})()},[n]),A.jsxs("div",{id:"divConcludedTasks",children:[A.jsx("h2",{children:"Tarefas concluídas"}),n.length===0?A.jsxs("div",{className:"noTasksConcluded",children:[" ",A.jsx("p",{children:"Nenhuma tarefa concluída"})," "]}):n.map(r=>A.jsx("div",{children:A.jsxs("div",{className:"concludedTasks",children:[A.jsx("h3",{className:"concludedTasksTitle",children:r.title}),A.jsx("hr",{}),A.jsxs("div",{className:"concludedTasksBox",children:[A.jsx("p",{children:r.description}),A.jsxs("p",{children:[A.jsx("strong",{children:"Prioridade"}),": ",r.priority]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Criado por"}),": ",r.createdBy]})]})]})},r.id))]})};function gI(n){return ei({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 6.879l-3.879-3.879c-.293-.293-.678-.439-1.061-.439-.384 0-.767.146-1.06.439l-10.939 10.939c-.293.293-.558.727-.75 1.188-.192.463-.311.959-.311 1.373v4.5h4.5c.414 0 .908-.119 1.371-.311.463-.192.896-.457 1.189-.75l10.94-10.939c.293-.293.439-.678.439-1.061 0-.384-.146-.767-.439-1.06zm-15.232 8.182l8.293-8.293 1.232 1.232-8.293 8.293-1.232-1.232zm1.732 3.939h-1.5l-1-1v-1.5c0-.077.033-.305.158-.605.01-.02 2.967 2.938 2.967 2.938-.322.134-.548.167-.625.167zm1.439-.768l-1.232-1.232 8.293-8.293 1.232 1.232-8.293 8.293zm9-9l-3.172-3.172 1.293-1.293 3.17 3.172-1.291 1.293z"},child:[]}]})(n)}function CM(n){return ei({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"},child:[]}]})(n)}const AM=()=>{const[n,e]=b.useState([]),t=Ah(ks,"tasks"),r=Ah(ks,"concludedTasks"),[s,a]=b.useState(null),{user:u}=ya();b.useEffect(()=>{(async()=>{try{const ne=(await H0(t)).docs.map(Z=>({...Z.data(),id:Z.id}));e(ne)}catch(q){console.log(q)}})()},[n]);const h=async()=>{if(s&&s.createdBy===u.displayName)try{await K0(r,{title:s.title,description:s.description,priority:s.priority,createdBy:s.createdBy});const j=Zc(ks,"tasks",s.id);await cw(j),w()}catch(j){console.log("Erro ao finalizar tarefa",j)}else alert("Você não pode excluir uma tarefa criada por outra pessoa ")},f=async()=>{if(s&&s.createdBy===u.displayName)try{const j=Zc(ks,"tasks",s.id);await cw(j),M()}catch(j){console.log("Erro ao deletar a tarefa",j)}else alert("Você não pode excluir uma tarefa criada por outra pessoa ")},p=async j=>{if(s&&s.createdBy===u.displayName)try{const q=Zc(ks,"tasks",s.id);await dN(q,{status:j}),console.log(`Status atualizado para: ${j}`),a(null),S()}catch(q){console.error("Erro ao atualizar o status da tarefa:",q)}else alert("Você não pode editar uma tarefa criada por outra pessoa")},g=j=>{u===null?document.querySelector(".modalNotAutenticated").showModal():u.displayName!==j.createdBy?document.querySelector(".modalDiferentUser").showModal():(a(j),document.querySelector(".modalFinishTask").showModal())},w=()=>{const j=document.querySelector(".modalFinishTask");a(null),j.close()},E=j=>{u===null?document.querySelector(".modalNotAutenticated").showModal():u.displayName!==j.createdBy?document.querySelector(".modalDiferentUser").showModal():(a(j),document.querySelector(".modalEditTask").showModal())},S=()=>{const j=document.querySelector(".modalEditTask");a(null),j.close()},k=j=>{u===null?document.querySelector(".modalNotAutenticated").showModal():u.displayName!==j.createdBy?document.querySelector(".modalDiferentUser").showModal():(a(j),document.querySelector(".modalDeleteTask").showModal())},M=()=>{const j=document.querySelector(".modalDeleteTask");a(null),j.close()},x=()=>{document.querySelector(".modalNotAutenticated").close()},U=()=>{document.querySelector(".modalDiferentUser").close()};return A.jsxs("div",{id:"divOpenTasks",children:[A.jsx("h2",{children:"Tarefas em aberto"}),n.length===0?A.jsxs("div",{className:"noTasksPending",children:[" ",A.jsx("p",{children:"Nenhuma tarefa pendente :)"})," "]}):n.map((j,q)=>A.jsxs("div",{className:"openTasks",children:[A.jsx("dialog",{className:"modalFinishTask",children:A.jsxs("div",{className:"divModalFinishTask",children:[A.jsx("p",{className:"areYouSure",children:"Tem certeza que deseja marcar essa tarefa como concluída?"}),A.jsx("span",{className:"spanObs",children:"Obs: Essa ação não pode ser desfeita "}),A.jsxs("div",{className:"modalFinishTaskBtns",children:[A.jsx("button",{onClick:()=>h(),className:"btnFinishTask",children:"Concluir tarefa"}),A.jsx("button",{onClick:()=>w(),className:"btnCancel",children:"Cancelar"})]})]})}),A.jsxs("dialog",{className:"modalEditTask",children:[A.jsxs("div",{className:"divEditTaskOptions",children:[A.jsx("button",{className:"pending",onClick:()=>p("Pendente"),children:"Pendente"}),A.jsx("button",{className:"inProgress",onClick:()=>p("Em progresso"),children:"Em progresso"}),A.jsx("button",{className:"paused",onClick:()=>p("Pausada"),children:"Pausada"}),A.jsx("button",{className:"waitingInfo",onClick:()=>p("Aguardando informações"),children:"Aguardando informações"}),A.jsx("button",{className:"waitingApproval",onClick:()=>p("Aguardando aprovação"),children:"Aguardando aprovação"})]}),A.jsx("div",{className:"divModalEditTaskBtnCancel",children:A.jsx("button",{onClick:()=>S(),className:"btnCancel",children:"Cancelar"})})]}),A.jsx("dialog",{className:"modalDeleteTask",children:A.jsxs("div",{className:"divModalFinishTask",children:[A.jsx("p",{className:"areYouSure",children:"Tem certeza que deseja excluir essa tarefa?"}),A.jsx("span",{className:"spanObs",children:"Obs: Essa ação não pode ser desfeita"}),A.jsxs("div",{className:"modalFinishTaskBtns",children:[A.jsx("button",{onClick:()=>f(),className:"btnFinishTask",children:"Excluir tarefa"}),A.jsx("button",{onClick:()=>M(),className:"btnCancel",children:"Cancelar"})]})]})}),A.jsxs("dialog",{className:"modalNotAutenticated",children:[A.jsx("h3",{children:"Para realizar essa ação, você precisa estar autenticado."}),A.jsxs("div",{className:"modalNotAutenticatedBtns",children:[A.jsx(wn,{to:"/signIn",className:"btnAutenticate",children:"Entrar"}),A.jsx("button",{className:"btnCancelAutentication",onClick:()=>x(),children:"Cancelar"})]})]}),A.jsxs("dialog",{className:"modalDiferentUser",children:[A.jsx("h3",{children:"Você não pode fazer alterações em tarefas criadas por outro usuário"}),A.jsx("button",{className:"btnModalDiferentUser",onClick:()=>U(),children:"Fechar"})]}),A.jsxs("div",{className:"openTasksTitle",children:[A.jsx("h3",{className:"openTasksTitleH3",children:j.title}),A.jsxs("p",{children:["Status: ",j.status]})]}),A.jsx("hr",{}),A.jsxs("div",{className:"divOpenTaskBox",children:[A.jsxs("div",{className:"openTaskBox",children:[A.jsxs("p",{className:"openTaskBoxDescription",children:[A.jsx("strong",{children:"Descrição"}),": ",j.description]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Prioridade"}),": ",j.priority]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Criado por"}),": ",j.createdBy]})]}),A.jsxs("div",{className:"openTasksFunctions",children:[A.jsx("button",{className:"finishTask",onClick:()=>g(j),children:A.jsx(CM,{})}),A.jsx("button",{className:"changeTask",onClick:()=>E(j),children:A.jsx(gI,{})}),A.jsx("button",{className:"deleteTask",onClick:()=>k(j),children:A.jsx(TN,{})})]})]})]},j.id))]})};class PM extends b.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=Tg(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RM({children:n,isPresent:e,anchorX:t}){const r=b.useId(),s=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(lg);return b.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:g,right:w}=a.current;if(e||!s.current||!h||!f)return;const E=t==="left"?`left: ${g}`:`right: ${w}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(S)&&document.head.removeChild(S)}},[e]),A.jsx(PM,{isPresent:e,childRef:s,sizeRef:a,children:b.cloneElement(n,{ref:s})})}const kM=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u,anchorX:h})=>{const f=Dg(xM),p=b.useId();let g=!0,w=b.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:t,custom:s,onExitComplete:E=>{f.set(E,!0);for(const S of f.values())if(!S)return;r&&r()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[t,f,r]);return a&&g&&(w={...w}),b.useMemo(()=>{f.forEach((E,S)=>f.set(S,!1))},[t]),b.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),u==="popLayout"&&(n=A.jsx(RM,{isPresent:t,anchorX:h,children:n})),A.jsx(cd.Provider,{value:w,children:n})};function xM(){return new Map}function yI(n=!0){const e=b.useContext(cd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(n)return s(a)},[n]);const u=b.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const zc=n=>n.key||"";function $w(n){const e=[];return b.Children.forEach(n,t=>{b.isValidElement(t)&&e.push(t)}),e}const NM=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,p]=yI(u),g=b.useMemo(()=>$w(n),[n]),w=u&&!f?[]:g.map(zc),E=b.useRef(!0),S=b.useRef(g),k=Dg(()=>new Map),[M,x]=b.useState(g),[U,j]=b.useState(g);oI(()=>{E.current=!1,S.current=g;for(let Z=0;Z<U.length;Z++){const se=zc(U[Z]);w.includes(se)?k.delete(se):k.get(se)!==!0&&k.set(se,!1)}},[U,w.length,w.join("-")]);const q=[];if(g!==M){let Z=[...g];for(let se=0;se<U.length;se++){const D=U[se],C=zc(D);w.includes(C)||(Z.splice(se,0,D),q.push(D))}return a==="wait"&&q.length&&(Z=q),j($w(Z)),x(g),null}const{forceRender:ne}=b.useContext(ag);return A.jsx(A.Fragment,{children:U.map(Z=>{const se=zc(Z),D=u&&!f?!1:g===U||w.includes(se),C=()=>{if(k.has(se))k.set(se,!0);else return;let P=!0;k.forEach(V=>{V||(P=!1)}),P&&(ne==null||ne(),j(S.current),u&&(p==null||p()),r&&r())};return A.jsx(kM,{isPresent:D,initial:!E.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:D?void 0:C,anchorX:h,children:Z},se)})})};function DM(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}function Yl(n,e,t){const r=n.getProps();return Ng(r,e,t!==void 0?t:r.custom,n)}const Xp=n=>Array.isArray(n);function VM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,la(t))}function LM(n){return Xp(n)?n[n.length-1]||0:n}function MM(n,e){const t=Yl(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const h=LM(a[u]);VM(n,u,h)}}function bM(n){return!!(Kt(n)&&n.add)}function Jp(n,e){const t=n.getValue("willChange");if(bM(t))return t.add(e);if(!t&&Xr.WillChange){const r=new Xr.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function vI(n){return n.props[iI]}const OM=n=>n!==null;function FM(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(OM),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[a]}const jM={type:"spring",stiffness:500,damping:25,restSpeed:10},UM=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),BM={type:"keyframes",duration:.8},zM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$M=(n,{keyframes:e})=>e.length>2?BM:wa.has(n)?n.startsWith("scale")?UM(e[1]):jM:zM;function WM({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Lg=(n,e,t,r={},s,a)=>u=>{const h=Sg(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-mr(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};WM(h)||Object.assign(g,$M(n,g)),g.duration&&(g.duration=mr(g.duration)),g.repeatDelay&&(g.repeatDelay=mr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),(Xr.instantAnimations||Xr.skipAnimations)&&(w=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,w&&!a&&e.get()!==void 0){const E=FM(g.keyframes,h);if(E!==void 0){rt.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new wg(g):new IL(g)};function qM({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function _I(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(a=r);const f=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in h){const w=n.getValue(g,n.latestValues[g]??null),E=h[g];if(E===void 0||p&&qM(p,g))continue;const S={delay:t,...Sg(a||{},g)},k=w.get();if(k!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===k&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const U=vI(n);if(U){const j=window.MotionHandoffAnimation(U,g,rt);j!==null&&(S.startTime=j,M=!0)}}Jp(n,g),w.start(Lg(g,w,E,n.shouldReduceMotion&&GS.has(g)?{type:!1}:S,n,M));const x=w.animation;x&&f.push(x)}return u&&Promise.all(f).then(()=>{rt.update(()=>{u&&MM(n,u)})}),f}function Zp(n,e,t={}){var f;const r=Yl(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(_I(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:E}=s;return HM(n,e,g+p,w,E,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[p,g]=h==="beforeChildren"?[a,u]:[u,a];return p().then(()=>g())}else return Promise.all([a(),u(t.delay)])}function HM(n,e,t=0,r=0,s=1,a){const u=[],h=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(n.variantChildren).sort(KM).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(Zp(p,e,{...a,delay:t+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function KM(n,e){return n.sortNodePosition(e)}function GM(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Zp(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Zp(n,e,t);else{const s=typeof e=="function"?Yl(n,e,t.custom):e;r=Promise.all(_I(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function wI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const QM=cg.length;function EI(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?EI(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<QM;t++){const r=cg[t],s=n.props[r];(Hl(s)||s===!1)&&(e[r]=s)}return e}const YM=[...ug].reverse(),XM=ug.length;function JM(n){return e=>Promise.all(e.map(({animation:t,options:r})=>GM(n,t,r)))}function ZM(n){let e=JM(n),t=Ww(),r=!0;const s=f=>(p,g)=>{var E;const w=Yl(n,g,f==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(w){const{transition:S,transitionEnd:k,...M}=w;p={...p,...M,...k}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=EI(n.parent)||{},w=[],E=new Set;let S={},k=1/0;for(let x=0;x<XM;x++){const U=YM[x],j=t[U],q=p[U]!==void 0?p[U]:g[U],ne=Hl(q),Z=U===f?j.isActive:null;Z===!1&&(k=x);let se=q===g[U]&&q!==p[U]&&ne;if(se&&r&&n.manuallyAnimateOnMount&&(se=!1),j.protectedKeys={...S},!j.isActive&&Z===null||!q&&!j.prevProp||ld(q)||typeof q=="boolean")continue;const D=eb(j.prevProp,q);let C=D||U===f&&j.isActive&&!se&&ne||x>k&&ne,P=!1;const V=Array.isArray(q)?q:[q];let F=V.reduce(s(U),{});Z===!1&&(F={});const{prevResolvedValues:z={}}=j,N={...z,...F},Qe=Ce=>{C=!0,E.has(Ce)&&(P=!0,E.delete(Ce)),j.needsAnimating[Ce]=!0;const ie=n.getValue(Ce);ie&&(ie.liveStyle=!1)};for(const Ce in N){const ie=F[Ce],pe=z[Ce];if(S.hasOwnProperty(Ce))continue;let ae=!1;Xp(ie)&&Xp(pe)?ae=!wI(ie,pe):ae=ie!==pe,ae?ie!=null?Qe(Ce):E.add(Ce):ie!==void 0&&E.has(Ce)?Qe(Ce):j.protectedKeys[Ce]=!0}j.prevProp=q,j.prevResolvedValues=F,j.isActive&&(S={...S,...F}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(se&&D)||P)&&w.push(...V.map(Ce=>({animation:Ce,options:{type:U}})))}if(E.size){const x={};if(typeof p.initial!="boolean"){const U=Yl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(x.transition=U.transition)}E.forEach(U=>{const j=n.getBaseTarget(U),q=n.getValue(U);q&&(q.liveStyle=!0),x[U]=j??null}),w.push({animation:x})}let M=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(w):Promise.resolve()}function h(f,p){var w;if(t[f].isActive===p)return Promise.resolve();(w=n.variantChildren)==null||w.forEach(E=>{var S;return(S=E.animationState)==null?void 0:S.setActive(f,p)}),t[f].isActive=p;const g=u(f);for(const E in t)t[E].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=Ww(),r=!0}}}function eb(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wI(e,n):!1}function Cs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ww(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tb extends Yi{constructor(e){super(e),e.animationState||(e.animationState=ZM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ld(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nb=0;class rb extends Yi{constructor(){super(...arguments),this.id=nb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ib={animation:{Feature:tb},exit:{Feature:rb}};function Xl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function mu(n){return{point:{x:n.pageX,y:n.pageY}}}const sb=n=>e=>Ag(e)&&n(e,mu(e));function Dl(n,e,t,r){return Xl(n,e,sb(t),r)}function TI({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function ob({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ab(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const SI=1e-4,lb=1-SI,ub=1+SI,II=.01,cb=0-II,hb=0+II;function Zt(n){return n.max-n.min}function db(n,e,t){return Math.abs(n-e)<=t}function qw(n,e,t,r=.5){n.origin=r,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Zt(t)/Zt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=lb&&n.scale<=ub||isNaN(n.scale))&&(n.scale=1),(n.translate>=cb&&n.translate<=hb||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){qw(n.x,e.x,t.x,r?r.originX:void 0),qw(n.y,e.y,t.y,r?r.originY:void 0)}function Hw(n,e,t){n.min=t.min+e.min,n.max=n.min+Zt(e)}function fb(n,e,t){Hw(n.x,e.x,t.x),Hw(n.y,e.y,t.y)}function Kw(n,e,t){n.min=e.min-t.min,n.max=n.min+Zt(e)}function Ll(n,e,t){Kw(n.x,e.x,t.x),Kw(n.y,e.y,t.y)}const Gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:Gw(),y:Gw()}),Qw=()=>({min:0,max:0}),ut=()=>({x:Qw(),y:Qw()});function Dn(n){return[n("x"),n("y")]}function ap(n){return n===void 0||n===1}function em({scale:n,scaleX:e,scaleY:t}){return!ap(n)||!ap(e)||!ap(t)}function Rs(n){return em(n)||CI(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function CI(n){return Yw(n.x)||Yw(n.y)}function Yw(n){return n&&n!=="0%"}function Oh(n,e,t){const r=n-t,s=e*r;return t+s}function Xw(n,e,t,r,s){return s!==void 0&&(n=Oh(n,s,r)),Oh(n,t,r)+e}function tm(n,e=0,t=1,r,s){n.min=Xw(n.min,e,t,r,s),n.max=Xw(n.max,e,t,r,s)}function AI(n,{x:e,y:t}){tm(n.x,e.translate,e.scale,e.originPoint),tm(n.y,t.translate,t.scale,t.originPoint)}const Jw=.999999999999,Zw=1.0000000000001;function pb(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ko(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,AI(n,u)),r&&Rs(a.latestValues)&&Ko(n,a.latestValues))}e.x<Zw&&e.x>Jw&&(e.x=1),e.y<Zw&&e.y>Jw&&(e.y=1)}function Ho(n,e){n.min=n.min+e,n.max=n.max+e}function eE(n,e,t,r,s=.5){const a=tt(n.min,n.max,s);tm(n,e,t,a,r)}function Ko(n,e){eE(n.x,e.x,e.scaleX,e.scale,e.originX),eE(n.y,e.y,e.scaleY,e.scale,e.originY)}function PI(n,e){return TI(ab(n.getBoundingClientRect(),e))}function mb(n,e,t){const r=PI(n,t),{scroll:s}=e;return s&&(Ho(r.x,s.offset.x),Ho(r.y,s.offset.y)),r}const RI=({current:n})=>n?n.ownerDocument.defaultView:null,tE=(n,e)=>Math.abs(n-e);function gb(n,e){const t=tE(n.x,e.x),r=tE(n.y,e.y);return Math.sqrt(t**2+r**2)}class kI{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=up(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=gb(w.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:k}=w,{timestamp:M}=Mt;this.history.push({...k,timestamp:M});const{onStart:x,onMove:U}=this.handlers;E||(x&&x(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=lp(E,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:S,onSessionEnd:k,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=up(w.type==="pointercancel"?this.lastMoveEventInfo:lp(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,x),k&&k(w,x)},!Ag(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=mu(e),h=lp(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Mt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,up(h,this.history)),this.removeListeners=du(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function lp(n,e){return e?{point:e(n.point)}:n}function nE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function up({point:n},e){return{point:n,delta:nE(n,xI(e)),offset:nE(n,yb(e)),velocity:vb(e,.1)}}function yb(n){return n[0]}function xI(n){return n[n.length-1]}function vb(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=xI(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>mr(e)));)t--;if(!r)return{x:0,y:0};const a=gr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _b(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?tt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?tt(t,n,r.max):Math.min(n,t)),n}function rE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function wb(n,{top:e,left:t,bottom:r,right:s}){return{x:rE(n.x,t,s),y:rE(n.y,e,r)}}function iE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Eb(n,e){return{x:iE(n.x,e.x),y:iE(n.y,e.y)}}function Tb(n,e){let t=.5;const r=Zt(n),s=Zt(e);return s>r?t=ql(e.min,e.max-r,n.min):r>s&&(t=ql(n.min,n.max-s,e.min)),Yr(0,1,t)}function Sb(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const nm=.35;function Ib(n=nm){return n===!1?n=0:n===!0&&(n=nm),{x:sE(n,"left","right"),y:sE(n,"top","bottom")}}function sE(n,e,t){return{min:oE(n,e),max:oE(n,t)}}function oE(n,e){return typeof n=="number"?n:n[e]||0}const Cb=new WeakMap;class Ab{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(mu(g).point)},a=(g,w)=>{const{drag:E,dragPropagation:S,onDragStart:k}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UL(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(x=>{let U=this.getAxisMotionValue(x).get()||0;if(yr.test(U)){const{projection:j}=this.visualElement;if(j&&j.layout){const q=j.layout.layoutBox[x];q&&(U=Zt(q)*(parseFloat(U)/100))}}this.originPoint[x]=U}),k&&rt.postRender(()=>k(g,w)),Jp(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},u=(g,w)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:k,onDrag:M}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:x}=w;if(S&&this.currentDirection===null){this.currentDirection=Pb(x),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,x),this.updateAxis("y",w.point,x),this.visualElement.render(),M&&M(g,w)},h=(g,w)=>this.stop(g,w),f=()=>Dn(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)==null?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new kI(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:RI(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&rt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!$c(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=_b(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&$o(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=wb(r.layoutBox,e):this.constraints=!1,this.elastic=Ib(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Sb(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$o(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=mb(r,s.root,this.visualElement.getTransformPagePoint());let u=Eb(s.layout.layoutBox,a);if(t){const h=t(ob(u));this.hasMutatedConstraints=!!h,h&&(u=TI(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Dn(g=>{if(!$c(g,t,this.currentDirection))return;let w=f[g]||{};u&&(w={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Jp(this.visualElement,e),r.start(Lg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(t=>{const{drag:r}=this.getProps();if(!$c(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-tt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!$o(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=Tb({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!$c(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(tt(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;Cb.set(this.visualElement,this);const e=this.visualElement.current,t=Dl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();$o(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(r);const u=Xl(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=nm,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function $c(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Pb(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Rb extends Yi{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new Ab(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const aE=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class kb extends Yi{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new kI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aE(e),onStart:aE(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&rt.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const vl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=lE(n,e.target.x),r=lE(n,e.target.y);return`${t}% ${r}%`}},xb={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Hi.parse(n);if(s.length>5)return r;const a=Hi.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=tt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class Nb extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;nM(Db),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||rt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NI(n){const[e,t]=yI(),r=b.useContext(ag);return A.jsx(Nb,{...n,layoutGroup:r,switchLayoutGroup:b.useContext(sI),isPresent:e,safeToRemove:t})}const Db={borderRadius:{...vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vl,borderTopRightRadius:vl,borderBottomLeftRadius:vl,borderBottomRightRadius:vl,boxShadow:xb};function Vb(n,e,t){const r=Kt(n)?n:la(n);return r.start(Lg("",r,e,t)),r.animation}const Lb=(n,e)=>n.depth-e.depth;class Mb{constructor(){this.children=[],this.isDirty=!1}add(e){tg(this.children,e),this.isDirty=!0}remove(e){ng(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lb),this.isDirty=!1,this.children.forEach(e)}}function bb(n,e){const t=hn.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(qi(r),n(a-e))};return rt.setup(r,!0),()=>qi(r)}const DI=["TopLeft","TopRight","BottomLeft","BottomRight"],Ob=DI.length,uE=n=>typeof n=="string"?parseFloat(n):n,cE=n=>typeof n=="number"||we.test(n);function Fb(n,e,t,r,s,a){s?(n.opacity=tt(0,t.opacity??1,jb(r)),n.opacityExit=tt(e.opacity??1,0,Ub(r))):a&&(n.opacity=tt(e.opacity??1,t.opacity??1,r));for(let u=0;u<Ob;u++){const h=`border${DI[u]}Radius`;let f=hE(e,h),p=hE(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||cE(f)===cE(p)?(n[h]=Math.max(tt(uE(f),uE(p),r),0),(yr.test(p)||yr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,r))}function hE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jb=VI(0,.5,SS),Ub=VI(.5,.95,Ln);function VI(n,e,t){return r=>r<n?0:r>e?1:t(ql(n,e,r))}function dE(n,e){n.min=e.min,n.max=e.max}function Nn(n,e){dE(n.x,e.x),dE(n.y,e.y)}function fE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function pE(n,e,t,r,s){return n-=e,n=Oh(n,1/t,r),s!==void 0&&(n=Oh(n,1/s,r)),n}function Bb(n,e=0,t=1,r=.5,s,a=n,u=n){if(yr.test(e)&&(e=parseFloat(e),e=tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=tt(a.min,a.max,r);n===a&&(h-=e),n.min=pE(n.min,e,t,h,s),n.max=pE(n.max,e,t,h,s)}function mE(n,e,[t,r,s],a,u){Bb(n,e[t],e[r],e[s],e.scale,a,u)}const zb=["x","scaleX","originX"],$b=["y","scaleY","originY"];function gE(n,e,t,r){mE(n.x,e,zb,t?t.x:void 0,r?r.x:void 0),mE(n.y,e,$b,t?t.y:void 0,r?r.y:void 0)}function yE(n){return n.translate===0&&n.scale===1}function LI(n){return yE(n.x)&&yE(n.y)}function vE(n,e){return n.min===e.min&&n.max===e.max}function Wb(n,e){return vE(n.x,e.x)&&vE(n.y,e.y)}function _E(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function MI(n,e){return _E(n.x,e.x)&&_E(n.y,e.y)}function wE(n){return Zt(n.x)/Zt(n.y)}function EE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class qb{constructor(){this.members=[]}add(e){tg(this.members,e),e.scheduleRender()}remove(e){if(ng(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hb(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:E,skewX:S,skewY:k}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),k&&(r+=`skewY(${k}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const cp=["","X","Y","Z"],Kb={visibility:"hidden"},Gb=1e3;let Qb=0;function hp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function bI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=vI(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&bI(r)}function OI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=Qb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jb),this.nodes.forEach(rO),this.nodes.forEach(iO),this.nodes.forEach(Zb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mb)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ig),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=rI(u)&&!HL(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g;const w=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=bb(w,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,this.nodes.forEach(SE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||uO,{onLayoutAnimationStart:M,onLayoutAnimationComplete:x}=p.getProps(),U=!this.targetLayout||!MI(this.targetLayout,S),j=!w&&E;if(this.options.layoutRoot||this.resumeFrom||j||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Sg(k,"layout"),onPlay:M,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,j)}else w||SE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TE);return}this.isUpdating||this.nodes.forEach(tO),this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach(Yb),this.nodes.forEach(Xb),this.clearAllSnapshots();const h=hn.now();Mt.delta=Yr(0,1e3/60,h-Mt.timestamp),Mt.timestamp=h,Mt.isProcessing=!0,np.update.process(Mt),np.preRender.process(Mt),np.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(oO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!LI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Rs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),cO(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return ut();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(hO))){const{scroll:g}=this.root;g&&(Ho(h.x,g.offset.x),Ho(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=ut();if(Nn(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:w,options:E}=g;g!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Nn(h,u),Ho(h.x,w.offset.x),Ho(h.y,w.offset.y))}return h}applyTransform(u,h=!1){const f=ut();Nn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ko(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Rs(g.latestValues)&&Ko(f,g.latestValues)}return Rs(this.latestValues)&&Ko(f,this.latestValues),f}removeTransform(u){const h=ut();Nn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Rs(p.latestValues))continue;em(p.latestValues)&&p.updateSnapshot();const g=ut(),w=p.measurePageBox();Nn(g,w),gE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Rs(this.latestValues)&&gE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),AI(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ll(this.relativeTargetOrigin,this.target,S.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||em(this.parent.latestValues)||CI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Nn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;pb(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ut());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fE(this.prevProjectionDelta.x,this.projectionDelta.x),fE(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!EE(this.projectionDelta.x,this.prevProjectionDelta.x)||!EE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},w=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ut(),S=f?f.source:void 0,k=this.layout?this.layout.source:void 0,M=S!==k,x=this.getStack(),U=!x||x.members.length<=1,j=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let q;this.mixTargetDelta=ne=>{const Z=ne/1e3;IE(w.x,u.x,Z),IE(w.y,u.y,Z),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aO(this.relativeTarget,this.relativeTargetOrigin,E,Z),q&&Wb(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ut()),Nn(q,this.relativeTarget)),M&&(this.animationValues=g,Fb(g,p,this.latestValues,Z,j,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=Vb(this.motionValue,[0,1e3],{...u,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&FI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ut();const w=Zt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=Zt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Nn(h,f),Ko(h,g),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new qb),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&hp("z",u,p,this.animationValues);for(let g=0;g<cp.length;g++)hp(`rotate${cp[g]}`,u,p,this.animationValues),hp(`skew${cp[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kb;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=oh(u==null?void 0:u.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=oh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=Hb(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Ql){if(g[S]===void 0)continue;const{correct:k,applyTo:M,isCSSVariable:x}=Ql[S],U=h.transform==="none"?g[S]:k(g[S],p);if(M){const j=M.length;for(let q=0;q<j;q++)h[M[q]]=U}else x?this.options.visualElement.renderState.vars[S]=U:h[S]=U}return this.options.layoutId&&(h.pointerEvents=p===this?oh(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(TE),this.root.sharedNodes.clear()}}}function Yb(n){n.updateLayout()}function Xb(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=e.source!==n.layout.source;a==="size"?Dn(w=>{const E=u?e.measuredBox[w]:e.layoutBox[w],S=Zt(E);E.min=r[w].min,E.max=E.min+S}):FI(a,e.layoutBox,r)&&Dn(w=>{const E=u?e.measuredBox[w]:e.layoutBox[w],S=Zt(r[w]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+S)});const h=qo();Vl(h,r,e.layoutBox);const f=qo();u?Vl(f,n.applyTransform(s,!0),e.measuredBox):Vl(f,r,e.layoutBox);const p=!LI(h);let g=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:S}=w;if(E&&S){const k=ut();Ll(k,e.layoutBox,E.layoutBox);const M=ut();Ll(M,r,S.layoutBox),MI(k,M)||(g=!0),w.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=k,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Jb(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Zb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eO(n){n.clearSnapshot()}function TE(n){n.clearMeasurements()}function tO(n){n.isLayoutDirty=!1}function nO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function SE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rO(n){n.resolveTargetDelta()}function iO(n){n.calcProjection()}function sO(n){n.resetSkewAndRotation()}function oO(n){n.removeLeadSnapshot()}function IE(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function CE(n,e,t,r){n.min=tt(e.min,t.min,r),n.max=tt(e.max,t.max,r)}function aO(n,e,t,r){CE(n.x,e.x,t.x,r),CE(n.y,e.y,t.y,r)}function lO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const uO={duration:.45,ease:[.4,0,.1,1]},AE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),PE=AE("applewebkit/")&&!AE("chrome/")?Math.round:Ln;function RE(n){n.min=PE(n.min),n.max=PE(n.max)}function cO(n){RE(n.x),RE(n.y)}function FI(n,e,t){return n==="position"||n==="preserve-aspect"&&!db(wE(e),wE(t),.2)}function hO(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const dO=OI({attachResizeListener:(n,e)=>Xl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},jI=OI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dp.current){const n=new dO({});n.mount(window),n.setOptions({layoutScroll:!0}),dp.current=n}return dp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),fO={pan:{Feature:kb},drag:{Feature:Rb,ProjectionNode:jI,MeasureLayout:NI}};function kE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&rt.postRender(()=>a(e,mu(e)))}class pO extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=BL(e,(t,r)=>(kE(this.node,r,"Start"),s=>kE(this.node,s,"End"))))}unmount(){}}class mO extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=du(Xl(this.node.current,"focus",()=>this.onFocus()),Xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xE(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&rt.postRender(()=>a(e,mu(e)))}class gO extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=qL(e,(t,r)=>(xE(this.node,r,"Start"),(s,{success:a})=>xE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rm=new WeakMap,fp=new WeakMap,yO=n=>{const e=rm.get(n.target);e&&e(n)},vO=n=>{n.forEach(yO)};function _O({root:n,...e}){const t=n||document;fp.has(t)||fp.set(t,{});const r=fp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(vO,{root:n,...e})),r[s]}function wO(n,e,t){const r=_O(e);return rm.set(n,t),r.observe(n),()=>{rm.delete(n),r.unobserve(n)}}const EO={some:0,all:1};class TO extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:EO[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),E=p?g:w;E&&E(f)};return wO(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(SO(e,t))&&this.startObserver()}unmount(){}}function SO({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const IO={inView:{Feature:TO},tap:{Feature:gO},focus:{Feature:mO},hover:{Feature:pO}},CO={layout:{ProjectionNode:jI,MeasureLayout:NI}},im={current:null},UI={current:!1};function AO(){if(UI.current=!0,!!hg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>im.current=n.matches;n.addListener(e),e()}else im.current=!1}const PO=new WeakMap;function RO(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Kt(s))n.addValue(r,s);else if(Kt(a))n.addValue(r,la(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,la(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const NE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kO{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=ud(t),this.isVariantNode=RS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in w){const S=w[E];f[E]!==void 0&&Kt(S)&&S.set(f[E],!1)}}mount(e){this.current=e,PO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),UI.current||AO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:im.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wa.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const t=aa[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<NE.length;r++){const s=NE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=RO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=la(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fS(r)||mS(r))?r=parseFloat(r):!GL(r)&&Hi.test(t)&&(r=JS(e,t)),this.setBaseTarget(e,Kt(r)?r.get():r)),Kt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const u=Ng(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Kt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ig),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class BI extends kO{constructor(){super(...arguments),this.KeyframeResolver=bL}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function zI(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}function xO(n){return window.getComputedStyle(n)}class NO extends BI{constructor(){super(...arguments),this.type="html",this.renderInstance=zI}readValueFromInstance(e,t){var r;if(wa.has(t))return(r=this.projection)!=null&&r.isProjecting?qp(t):tL(e,t);{const s=xO(e),a=(dg(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return PI(e,t)}build(e,t,r){Rg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Vg(e,t,r)}}const $I=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DO(n,e,t,r){zI(n,e,void 0,r);for(const s in e.attrs)n.setAttribute($I.has(s)?s:Pg(s),e.attrs[s])}class VO extends BI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wa.has(t)){const r=XS(t);return r&&r.default||0}return t=$I.has(t)?t:Pg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return mI(e,t,r)}build(e,t,r){cI(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){DO(e,t,r,s)}mount(e){this.isSVGTag=dI(e.tagName),super.mount(e)}}const LO=(n,e)=>xg(n)?new VO(e):new NO(e,{allowProjection:n!==b.Fragment}),MO=TM({...ib,...IO,...fO,...CO},LO),DE=DM(MO),bO=()=>{const{user:n}=ya(),[e,t]=b.useState("pendent");return A.jsx("div",{className:"mainMenu",children:A.jsxs("div",{className:"divMainMenu",children:[A.jsxs("div",{className:"menuOptions",children:[A.jsx("button",{onClick:()=>t("pendent"),children:"Tarefas pendentes"}),A.jsx("button",{onClick:()=>t("concluded"),children:"Tarefas concluídas"}),A.jsx(wn,{to:n?"/createtask":"/protectedRoute",children:A.jsx("button",{children:"Criar tarefa"})})]}),A.jsx("div",{className:"optionChoosed",children:A.jsxs(NM,{mode:"wait",children:[e==="pendent"&&A.jsx(DE.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"divAnimation",children:A.jsx(AM,{})},"pendent"),e==="concluded"&&A.jsx(DE.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"divAnimation",children:A.jsx(IM,{})},"concluded")]})})]})})},OO=()=>{const[n,e]=b.useState(""),[t,r]=b.useState(""),[s,a]=b.useState(""),[u,h]=b.useState(),f=Ah(ks,"tasks"),{user:p}=ya(),g=async S=>{S.preventDefault();try{await K0(f,{title:n,description:t,priority:s,createdBy:p.displayName,status:"Pendente"}),document.querySelector(".modalTaskCreated").show()}catch(k){console.log(k)}},w=()=>{document.querySelector(".modalTaskCreated").close()};b.useEffect(()=>{vT($l,S=>{S.emailVerified===!1?h(!1):h(!0)})},[p]);const E=()=>{yT($l.currentUser)};return A.jsx(A.Fragment,{children:u?A.jsxs("form",{className:"divCreateNewTask",onSubmit:S=>g(S),children:[A.jsx("dialog",{className:"modalTaskCreated",children:A.jsxs("div",{className:"divModalTaskCreated",children:[A.jsx("p",{className:"areYouSure",children:"Tarefa criada com sucesso"}),A.jsxs("div",{className:"taskCreatedBtns",children:[A.jsx("button",{type:"button",onClick:()=>w(),className:"btnCloseModalTaskCreated",children:"Criar nova tarefa"}),A.jsx("button",{className:"btnReturnMenu",children:A.jsx(wn,{to:"/",children:"Voltar para o menu"})})]})]})}),A.jsxs("div",{className:"createNewTask",children:[A.jsxs("div",{className:"divTaskInformations",children:[A.jsx("label",{htmlFor:"title",children:"Titulo da tarefa:"}),A.jsx("input",{type:"text",required:!0,name:"titulo",id:"title",onChange:S=>e(S.target.value)}),A.jsx("label",{htmlFor:"description",children:"Descrição da tarefa:"}),A.jsx("input",{type:"text",required:!0,name:"descricao",id:"description",onChange:S=>r(S.target.value)}),A.jsx("label",{htmlFor:"selectPriority",children:"Prioridade:"}),A.jsx("select",{name:"",id:"selectPriority",value:s,onChange:S=>a(S.target.value),children:A.jsxs("optgroup",{children:[A.jsx("option",{value:"Baixa",children:"Baixa"}),A.jsx("option",{value:"Média",children:"Média"}),A.jsx("option",{value:"Alta",children:"Alta"}),A.jsx("option",{value:"Máxima",children:"Máxima"})]})}),A.jsx("button",{type:"submit",className:"btnAddNewTask",children:"Adicionar"})]}),A.jsx("div",{children:A.jsx(wn,{to:"/",children:A.jsx(xh,{className:"closeIcon"})})})]})]}):A.jsx("div",{className:"divModalUserNotVerified",children:A.jsxs("div",{className:"modalUserNotVerified",children:[A.jsx("h4",{children:"Ops... seu email ainda não foi verificado"}),A.jsx("p",{children:"Para usar a funcionalidade de criação de tarefas, você precisa confirmar que tem acesso ao e-mail cadastrado."}),A.jsx("p",{children:"No momento em que sua conta foi criada, enviamos um link de verificação para o email cadastrado,por favor, verifique sua caixa de entrada"}),A.jsx("span",{children:"Obs: Caso não encontre na caixa de entrada, verifique também a caixa de spam"}),A.jsx("button",{className:"btnResendEmail",onClick:()=>E(),children:"Se precisar, clique aqui para reenviar o E-mail de verificação"})]})})})};function sm(n){return ei({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m15 18-.722-3.25"},child:[]},{tag:"path",attr:{d:"M2 8a10.645 10.645 0 0 0 20 0"},child:[]},{tag:"path",attr:{d:"m20 15-1.726-2.05"},child:[]},{tag:"path",attr:{d:"m4 15 1.726-2.05"},child:[]},{tag:"path",attr:{d:"m9 18 .722-3.25"},child:[]}]})(n)}function om(n){return ei({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}const FO=()=>{const[n,e]=b.useState(""),[t,r]=b.useState(""),[s,a]=b.useState(""),[u,h]=b.useState(""),[f,p]=b.useState(!1),[g,w]=b.useState(!1),[E,S]=b.useState(""),k=async x=>{if(x.preventDefault(),s!==u)S("As senhas devem ser iguais."),document.querySelector(".modalAccountError").showModal();else{const j=(await LP($l,t,s)).user;await OP(j,{displayName:n}),yT(j),document.querySelector(".modalAccountCreated").showModal()}},M=()=>{document.querySelector(".modalAccountError").close()};return A.jsxs("form",{className:"formCreateAccount",onSubmit:x=>k(x),children:[A.jsxs("div",{className:"divCreateAccount",children:[A.jsx("h1",{children:"Cadastre - se"}),A.jsxs("div",{className:"createUserName",children:[A.jsx("label",{htmlFor:"name",children:"Nome:"}),A.jsx("input",{type:"text",name:"",id:"name",placeholder:"Adicione seu nome e um sobrenome",onChange:x=>e(x.target.value),required:!0})]}),A.jsxs("div",{className:"createEmail",children:[A.jsx("label",{htmlFor:"email",children:"Email:"}),A.jsx("input",{type:"email",name:"",id:"email",placeholder:"Adicione um email de confiança",onChange:x=>r(x.target.value),required:!0})]}),A.jsxs("div",{className:"divInputIcon",children:[A.jsxs("div",{className:"divPassword",children:[A.jsx("label",{htmlFor:"password",children:"Senha:"}),A.jsx("input",{type:f?"text":"password",name:"",id:"password",placeholder:"Crie uma senha",onChange:x=>a(x.target.value),required:!0})]}),A.jsx("div",{children:f?A.jsx(om,{className:"showPassword",onClick:()=>p(!f)}):A.jsx(sm,{className:"showPassword",onClick:()=>p(!f)})})]}),A.jsxs("div",{className:"divInputIcon",children:[A.jsxs("div",{className:"divPassword",children:[A.jsx("label",{htmlFor:"confirmPassword",children:"Confirmação de senha:"}),A.jsx("input",{type:g?"text":"password",name:"",id:"confirmPassword",placeholder:"Confirme sua senha",onChange:x=>h(x.target.value),required:!0})]}),A.jsx("div",{children:g?A.jsx(om,{className:"showPassword",onClick:()=>w(!g)}):A.jsx(sm,{className:"showPassword",onClick:()=>w(!g)})})]}),A.jsxs("div",{className:"divNAAccount",children:[A.jsx("p",{children:"Já tem uma conta?"}),A.jsx(wn,{to:"/signIn",className:"createAccountLink2",children:"Entrar"})]}),A.jsx("button",{className:"btnCreateAccount",type:"submit",children:"Criar conta"})]}),A.jsxs("dialog",{className:"modalAccountCreated",children:[A.jsxs("div",{children:[A.jsx("p",{children:"Conta criada com sucesso!"}),A.jsx("p",{children:"Um link de verificação foi enviado para o seu E-mail cadastrado, fazemos isso para garantirmos que você tem acesso ao E-mail cadastrado :)"})]}),A.jsx("button",{className:"btnModalAccountCreated",children:A.jsx(wn,{to:"/",children:"Voltar para o menu"})})]}),A.jsxs("dialog",{className:"modalAccountError",children:[A.jsx("div",{className:"divCloseIconAccountError",children:A.jsx(xh,{className:"closeIcon",onClick:()=>M()})}),A.jsx("p",{children:E})]})]})},jO=()=>{const{user:n}=ya(),e=()=>{document.querySelector(".modalChangePassword").showModal()},t=()=>{document.querySelector(".modalChangePassword").close()},r=()=>{const a=wm(),u=document.querySelector(".modalEmailSent");try{VP(a,n.email),u.showModal(),t()}catch(h){console.log(h)}},s=()=>{document.querySelector(".modalEmailSent").close()};return A.jsxs("div",{className:"divMyProfile",children:[A.jsxs("div",{className:"myProfile",children:[A.jsx("h1",{children:"Meus dados:"}),A.jsx("div",{className:"divChangeUserName",children:A.jsxs("p",{children:[A.jsx("strong",{children:"Nome de usuário:"})," ",n&&n.displayName]})}),A.jsx("div",{className:"divUserEmail",children:A.jsxs("p",{children:[A.jsx("strong",{children:"Email:"})," ",n&&n.email]})}),A.jsxs("div",{className:"divChangePassword",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Senha:"})," *********"]}),A.jsx(gI,{className:"changeInfo",onClick:()=>e()})]})]}),A.jsxs("dialog",{className:"modalChangePassword",children:[A.jsx("p",{children:"Tem certeza que deseja alterar sua senha?"}),A.jsxs("div",{className:"btnsModalChangePassword",children:[A.jsx("button",{className:"btnChangePassword",onClick:()=>r(),children:"Mudar senha"}),A.jsx("button",{className:"btnCancelChangePassword",onClick:()=>t(),children:"Cancelar"})]})]}),A.jsxs("dialog",{className:"modalEmailSent",children:[A.jsx("p",{children:"Te encaminhamos um e-mail para que seja efetuada a troca da sua senha, por favor, verifique sua caixa de entrada."}),A.jsx("button",{className:"btnCancelModalEmailSent",onClick:()=>s(),children:"Fechar"})]})]})},UO=()=>{const{user:n}=ya(),[e,t]=b.useState(""),[r,s]=b.useState(""),[a,u]=b.useState(""),h=()=>{document.querySelector(".modalLoginNotFound").showModal()},f=()=>{document.querySelector(".modalLoginNotFound").close()},p=()=>{document.querySelector(".modalLoginSuccess").showModal()},g=()=>{document.querySelector(".modalLoginSuccess").close()},w=async E=>{E.preventDefault();try{await MP($l,e,r),p()}catch(S){console.log(S),h()}};return A.jsxs(A.Fragment,{children:[A.jsx("form",{className:"formLogin",onSubmit:E=>w(E),children:A.jsxs("div",{className:"divLogin",children:[A.jsx("h1",{children:"Entrar"}),A.jsxs("div",{className:"emailSignIn",children:[A.jsx("label",{htmlFor:"email",children:"Email:"}),A.jsx("input",{type:"email",name:"",id:"email",onChange:E=>t(E.target.value),required:!0})]}),A.jsxs("div",{className:"divInputIcon",children:[A.jsxs("div",{className:"divPassword",children:[A.jsx("label",{htmlFor:"password",children:"Senha:"}),A.jsx("input",{type:a?"text":"password",name:"",id:"password",onChange:E=>s(E.target.value),required:!0})]}),A.jsx("div",{children:a?A.jsx(om,{className:"showPassword",onClick:()=>u(!a)}):A.jsx(sm,{className:"showPassword",onClick:()=>u(!a)})})]}),A.jsxs("div",{className:"divNAAccount",children:[A.jsx("p",{children:"Ainda não tem uma conta?"}),A.jsx(wn,{to:"/createAccount",className:"createAccountLink2",children:"Cadastre-se"})]}),A.jsx("button",{className:"btnLogin",children:"Entrar"})]})}),A.jsxs("dialog",{className:"modalLoginNotFound",children:[A.jsx("div",{className:"divCloseIcon",children:A.jsx(xh,{className:"closeIcon",onClick:()=>f()})}),A.jsx("div",{className:"divLoginNotFound",children:A.jsx("p",{children:"E-mail e/ou senha inválido(s). Verifique seus dados, e tente novamente."})})]}),A.jsxs("dialog",{className:"modalLoginSuccess",children:[A.jsx("div",{className:"divCloseIcon",children:A.jsx(wn,{to:"/",children:A.jsx(xh,{className:"closeIcon",onClick:()=>g()})})}),A.jsxs("div",{className:"divModalLoginSuccess",children:[A.jsxs("p",{children:["Que bom te ver por aqui, ",n==null?void 0:n.displayName," :)"]}),A.jsx("p",{children:"Seja bem vindo ao nosso site de tarefas."})]})]})]})},BO=()=>A.jsx("div",{className:"divProtectedRoute",children:A.jsxs("div",{className:"protectedRoute",children:[A.jsx("h1",{children:"Você não está autenticado :("}),A.jsxs("div",{className:"divOptionsProtectedRoute",children:[A.jsxs("div",{className:"divSignInProtectedRoute",children:[A.jsx("p",{children:"Faça login para ter acesso total ao site"}),A.jsx(wn,{to:"../signIn",className:"loginLink",children:"Entrar"})]}),A.jsxs("div",{className:"divCreateAccountProtectedRoute",children:[A.jsx("p",{children:"Ainda não tem uma conta?"}),A.jsx(wn,{to:"../CreateAccount",className:"createAccountLink",children:"Cadastre-se"})]})]})]})});function zO(){return A.jsx(A.Fragment,{children:A.jsxs(jD,{children:[A.jsx(SM,{}),A.jsxs(mD,{children:[A.jsx(Ps,{path:"/",element:A.jsx(bO,{})}),A.jsx(Ps,{path:"/createtask",element:A.jsx(OO,{})}),A.jsx(Ps,{path:"/createAccount",element:A.jsx(FO,{})}),A.jsx(Ps,{path:"/myprofile",element:A.jsx(jO,{})}),A.jsx(Ps,{path:"/signIn",element:A.jsx(UO,{})}),A.jsx(Ps,{path:"/protectedRoute",element:A.jsx(BO,{})})]})]})})}tC.createRoot(document.getElementById("root")).render(A.jsx(GD,{children:A.jsx(zO,{})}));
